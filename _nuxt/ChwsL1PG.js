import{au as Lt}from"./Cmpe_WKc.js";var Mt={exports:{}};(function(St){(function(yt){St.exports?(yt.default=yt,St.exports=yt):yt(typeof Highcharts<"u"?Highcharts:void 0)})(function(yt){var p=yt?yt._modules:{};function st(d,f,M,x){d.hasOwnProperty(f)||(d[f]=x.apply(null,M),typeof CustomEvent=="function"&&yt.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:f,module:d[f]}})))}st(p,"Extensions/Pane/PaneComposition.js",[p["Core/Utilities.js"]],function(d){let{addEvent:f,correctFloat:M,defined:x,pick:Y}=d;function N(P){let g,n=this;return P&&n.pane.forEach(u=>{k(P.chartX-n.plotLeft,P.chartY-n.plotTop,u.center)&&(g=u)}),g}function k(P,g,n,u,t){let o=!0,a=n[0],s=n[1],i=Math.sqrt(Math.pow(P-a,2)+Math.pow(g-s,2));if(x(u)&&x(t)){let r=Math.atan2(M(g-s,8),M(P-a,8));t!==u&&(o=u>t?r>=u&&r<=Math.PI||r<=t&&r>=-Math.PI:r>=u&&r<=M(t,8))}return i<=Math.ceil(n[2]/2)&&o}function D(P){this.polar&&(P.options.inverted&&([P.x,P.y]=[P.y,P.x]),P.isInsidePlot=this.pane.some(g=>k(P.x,P.y,g.center,g.axis&&g.axis.normalizedStartAngleRad,g.axis&&g.axis.normalizedEndAngleRad)))}function G(P){let g=this.chart;P.hoverPoint&&P.hoverPoint.plotX&&P.hoverPoint.plotY&&g.hoverPane&&!k(P.hoverPoint.plotX,P.hoverPoint.plotY,g.hoverPane.center)&&(P.hoverPoint=void 0)}function z(P){let g=this.chart;g.polar?(g.hoverPane=g.getHoverPane(P),P.filter=function(n){return n.visible&&!(!P.shared&&n.directTouch)&&Y(n.options.enableMouseTracking,!0)&&(!g.hoverPane||n.xAxis.pane===g.hoverPane)}):g.hoverPane=void 0}return{compose:function(P,g){let n=P.prototype;n.getHoverPane||(n.collectionsWithUpdate.push("pane"),n.getHoverPane=N,f(P,"afterIsInsidePlot",D),f(g,"afterGetHoverData",G),f(g,"beforeGetHoverData",z))}}}),st(p,"Extensions/Pane/PaneDefaults.js",[],function(){return{pane:{center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},background:{shape:"circle",borderRadius:0,borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}}),st(p,"Extensions/Pane/Pane.js",[p["Series/CenteredUtilities.js"],p["Extensions/Pane/PaneComposition.js"],p["Extensions/Pane/PaneDefaults.js"],p["Core/Utilities.js"]],function(d,f,M,x){let{extend:Y,merge:N,splat:k}=x;class D{constructor(z,P){this.coll="pane",this.init(z,P)}init(z,P){this.chart=P,this.background=[],P.pane.push(this),this.setOptions(z)}setOptions(z){this.options=z=N(M.pane,this.chart.angular?{background:{}}:void 0,z)}render(){let z=this.options,P=this.chart.renderer;this.group||(this.group=P.g("pane-group").attr({zIndex:z.zIndex||0}).add()),this.updateCenter();let g=this.options.background;if(g){let n=Math.max((g=k(g)).length,this.background.length||0);for(let u=0;u<n;u++)g[u]&&this.axis?this.renderBackground(N(M.background,g[u]),u):this.background[u]&&(this.background[u]=this.background[u].destroy(),this.background.splice(u,1))}}renderBackground(z,P){let g={class:"highcharts-pane "+(z.className||"")},n="animate";this.chart.styledMode||Y(g,{fill:z.backgroundColor,stroke:z.borderColor,"stroke-width":z.borderWidth}),this.background[P]||(this.background[P]=this.chart.renderer.path().add(this.group),n="attr"),this.background[P][n]({d:this.axis.getPlotBandPath(z.from,z.to,z)}).attr(g)}updateCenter(z){this.center=(z||this.axis||{}).center=d.getCenter.call(this)}update(z,P){N(!0,this.options,z),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(g){g.pane===this&&(g.pane=null,g.update({},P))},this)}}return D.compose=f.compose,D}),st(p,"Series/AreaRange/AreaRangePoint.js",[p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f){let{area:{prototype:{pointClass:M,pointClass:{prototype:x}}}}=d.seriesTypes,{defined:Y,isNumber:N}=f;return class extends M{setState(){let k=this.state,D=this.series,G=D.chart.polar;Y(this.plotHigh)||(this.plotHigh=D.yAxis.toPixels(this.high,!0)),Y(this.plotLow)||(this.plotLow=this.plotY=D.yAxis.toPixels(this.low,!0)),D.lowerStateMarkerGraphic=D.stateMarkerGraphic,D.stateMarkerGraphic=D.upperStateMarkerGraphic,this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,G&&N(this.plotHighX)&&(this.plotX=this.plotHighX),x.setState.apply(this,arguments),this.state=k,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],G&&N(this.plotLowX)&&(this.plotX=this.plotLowX),D.upperStateMarkerGraphic=D.stateMarkerGraphic,D.stateMarkerGraphic=D.lowerStateMarkerGraphic,D.lowerStateMarkerGraphic=void 0;let z=D.modifyMarkerSettings();x.setState.apply(this,arguments),D.restoreMarkerSettings(z)}haloPath(){let k=this.series.chart.polar,D=[];return this.plotY=this.plotLow,k&&N(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(D=x.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,k&&N(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(D=D.concat(x.haloPath.apply(this,arguments))),D}isValid(){return N(this.low)&&N(this.high)}}}),st(p,"Series/AreaRange/AreaRangeSeries.js",[p["Series/AreaRange/AreaRangePoint.js"],p["Core/Globals.js"],p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f,M,x){let{noop:Y}=f,{area:N,area:{prototype:k},column:{prototype:D}}=M.seriesTypes,{addEvent:G,defined:z,extend:P,isArray:g,isNumber:n,pick:u,merge:t}=x;class o extends N{toYData(s){return[s.low,s.high]}highToXY(s){let i=this.chart,r=this.xAxis.postTranslate(s.rectPlotX||0,this.yAxis.len-(s.plotHigh||0));s.plotHighX=r.x-i.plotLeft,s.plotHigh=r.y-i.plotTop,s.plotLowX=s.plotX}getGraphPath(s){let i=[],r=[],y=k.getGraphPath,S=this.options,I=this.chart.polar,A=I&&S.connectEnds!==!1,v=S.connectNulls,w,m,O,W=S.step;for(w=(s=s||this.points).length;w--;){m=s[w];let T=I?{plotX:m.rectPlotX,plotY:m.yBottom,doCurve:!1}:{plotX:m.plotX,plotY:m.plotY,doCurve:!1};m.isNull||A||v||s[w+1]&&!s[w+1].isNull||r.push(T),O={polarPlotY:m.polarPlotY,rectPlotX:m.rectPlotX,yBottom:m.yBottom,plotX:u(m.plotHighX,m.plotX),plotY:m.plotHigh,isNull:m.isNull},r.push(O),i.push(O),m.isNull||A||v||s[w-1]&&!s[w-1].isNull||r.push(T)}let e=y.call(this,s);W&&(W===!0&&(W="left"),S.step={left:"right",center:"center",right:"left"}[W]);let h=y.call(this,i),c=y.call(this,r);S.step=W;let C=[].concat(e,h);return!this.chart.polar&&c[0]&&c[0][0]==="M"&&(c[0]=["L",c[0][1],c[0][2]]),this.graphPath=C,this.areaPath=e.concat(c),C.isArea=!0,C.xMap=e.xMap,this.areaPath.xMap=e.xMap,C}drawDataLabels(){var O,W;let s,i,r,y,S,I=this.points,A=I.length,v=[],w=this.options.dataLabels,m=this.chart.inverted;if(w){if(g(w)?(y=w[0]||{enabled:!1},S=w[1]||{enabled:!1}):((y=P({},w)).x=w.xHigh,y.y=w.yHigh,(S=P({},w)).x=w.xLow,S.y=w.yLow),y.enabled||((O=this.hasDataLabels)==null?void 0:O.call(this))){for(s=A;s--;)if(i=I[s]){let{plotHigh:e=0,plotLow:h=0}=i;r=y.inside?e<h:e>h,i.y=i.high,i._plotY=i.plotY,i.plotY=e,v[s]=i.dataLabel,i.dataLabel=i.dataLabelUpper,i.below=r,m?y.align||(y.align=r?"right":"left"):y.verticalAlign||(y.verticalAlign=r?"top":"bottom")}for(this.options.dataLabels=y,k.drawDataLabels&&k.drawDataLabels.apply(this,arguments),s=A;s--;)(i=I[s])&&(i.dataLabelUpper=i.dataLabel,i.dataLabel=v[s],delete i.dataLabels,i.y=i.low,i.plotY=i._plotY)}if(S.enabled||(W=this.hasDataLabels)!=null&&W.call(this)){for(s=A;s--;)if(i=I[s]){let{plotHigh:e=0,plotLow:h=0}=i;r=S.inside?e<h:e>h,i.below=!r,m?S.align||(S.align=r?"left":"right"):S.verticalAlign||(S.verticalAlign=r?"bottom":"top")}this.options.dataLabels=S,k.drawDataLabels&&k.drawDataLabels.apply(this,arguments)}if(y.enabled)for(s=A;s--;)(i=I[s])&&(i.dataLabels=[i.dataLabelUpper,i.dataLabel].filter(function(e){return!!e}));this.options.dataLabels=w}}alignDataLabel(){D.alignDataLabel.apply(this,arguments)}modifyMarkerSettings(){let s={marker:this.options.marker,symbol:this.symbol};if(this.options.lowMarker){let{options:{marker:i,lowMarker:r}}=this;this.options.marker=t(i,r),r.symbol&&(this.symbol=r.symbol)}return s}restoreMarkerSettings(s){this.options.marker=s.marker,this.symbol=s.symbol}drawPoints(){let s,i,r=this.points.length,y=this.modifyMarkerSettings();for(k.drawPoints.apply(this,arguments),this.restoreMarkerSettings(y),s=0;s<r;)(i=this.points[s]).graphics=i.graphics||[],i.origProps={plotY:i.plotY,plotX:i.plotX,isInside:i.isInside,negative:i.negative,zone:i.zone,y:i.y},(i.graphic||i.graphics[0])&&(i.graphics[0]=i.graphic),i.graphic=i.graphics[1],i.plotY=i.plotHigh,z(i.plotHighX)&&(i.plotX=i.plotHighX),i.y=u(i.high,i.origProps.y),i.negative=i.y<(this.options.threshold||0),this.zones.length&&(i.zone=i.getZone()),this.chart.polar||(i.isInside=i.isTopInside=i.plotY!==void 0&&i.plotY>=0&&i.plotY<=this.yAxis.len&&i.plotX>=0&&i.plotX<=this.xAxis.len),s++;for(k.drawPoints.apply(this,arguments),s=0;s<r;)(i=this.points[s]).graphics=i.graphics||[],(i.graphic||i.graphics[1])&&(i.graphics[1]=i.graphic),i.graphic=i.graphics[0],i.origProps&&(P(i,i.origProps),delete i.origProps),s++}hasMarkerChanged(s,i){let r=s.lowMarker,y=i.lowMarker||{};return r&&(r.enabled===!1||y.symbol!==r.symbol||y.height!==r.height||y.width!==r.width)||super.hasMarkerChanged(s,i)}}return o.defaultOptions=t(N.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),G(o,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(a=>{let s=a.high,i=a.plotY;a.isNull?a.plotY=void 0:(a.plotLow=i,a.plotHigh=n(s)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(s):s,!1,!0,void 0,!0):void 0,this.dataModify&&(a.yBottom=a.plotHigh))})},{order:0}),G(o,"afterTranslate",function(){this.points.forEach(a=>{if(this.chart.polar)this.highToXY(a),a.plotLow=a.plotY,a.tooltipPos=[((a.plotHighX||0)+(a.plotLowX||0))/2,((a.plotHigh||0)+(a.plotLow||0))/2];else{let s=a.pos(!1,a.plotLow),i=a.pos(!1,a.plotHigh);s&&i&&(s[0]=(s[0]+i[0])/2,s[1]=(s[1]+i[1])/2),a.tooltipPos=s}})},{order:3}),P(o.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:d,pointValKey:"low",setStackedPoints:Y}),M.registerSeriesType("arearange",o),o}),st(p,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[p["Series/AreaRange/AreaRangeSeries.js"],p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f,M){let{spline:{prototype:x}}=f.seriesTypes,{merge:Y,extend:N}=M;class k extends d{}return k.defaultOptions=Y(d.defaultOptions),N(k.prototype,{getPointSpline:x.getPointSpline}),f.registerSeriesType("areasplinerange",k),k}),st(p,"Series/BoxPlot/BoxPlotSeriesDefaults.js",[],function(){return{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}}),st(p,"Series/BoxPlot/BoxPlotSeries.js",[p["Series/BoxPlot/BoxPlotSeriesDefaults.js"],p["Series/Column/ColumnSeries.js"],p["Core/Globals.js"],p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f,M,x,Y){let{noop:N}=M,{crisp:k,extend:D,merge:G,pick:z}=Y;class P extends f{pointAttribs(){return{}}translate(){let n=this.yAxis,u=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(t){u.forEach(function(o){t[o]!==null&&(t[o+"Plot"]=n.translate(t[o],0,1,0,1))}),t.plotHigh=t.highPlot})}drawPoints(){let n,u,t,o,a,s,i,r,y,S,I,A,v,w=this.points,m=this.options,O=this.chart,W=O.renderer,e=this.doQuartiles!==!1,h=this.options.whiskerLength;for(let c of w){let C=(r=c.graphic)?"animate":"attr",T=c.shapeArgs,L={},K={},F={},it={},j=c.color||this.color;if(c.plotY!==void 0){let l;y=T.width,I=(S=T.x)+y,A=y/2,n=e?c.q1Plot:c.lowPlot,u=e?c.q3Plot:c.lowPlot,t=c.highPlot,o=c.lowPlot,r||(c.graphic=r=W.g("point").add(this.group),c.stem=W.path().addClass("highcharts-boxplot-stem").add(r),h&&(c.whiskers=W.path().addClass("highcharts-boxplot-whisker").add(r)),e&&(c.box=W.path(i).addClass("highcharts-boxplot-box").add(r)),c.medianShape=W.path(s).addClass("highcharts-boxplot-median").add(r)),O.styledMode||(K.stroke=c.stemColor||m.stemColor||j,K["stroke-width"]=z(c.stemWidth,m.stemWidth,m.lineWidth),K.dashstyle=c.stemDashStyle||m.stemDashStyle||m.dashStyle,c.stem.attr(K),h&&(F.stroke=c.whiskerColor||m.whiskerColor||j,F["stroke-width"]=z(c.whiskerWidth,m.whiskerWidth,m.lineWidth),F.dashstyle=c.whiskerDashStyle||m.whiskerDashStyle||m.dashStyle,c.whiskers.attr(F)),e&&(L.fill=c.fillColor||m.fillColor||j,L.stroke=m.lineColor||j,L["stroke-width"]=m.lineWidth||0,L.dashstyle=c.boxDashStyle||m.boxDashStyle||m.dashStyle,c.box.attr(L)),it.stroke=c.medianColor||m.medianColor||j,it["stroke-width"]=z(c.medianWidth,m.medianWidth,m.lineWidth),it.dashstyle=c.medianDashStyle||m.medianDashStyle||m.dashStyle,c.medianShape.attr(it));let X=k((c.plotX||0)+(this.pointXOffset||0)+(this.barW||0)/2,c.stem.strokeWidth());if(l=[["M",X,u],["L",X,t],["M",X,n],["L",X,o]],c.stem[C]({d:l}),e){let R=c.box.strokeWidth();n=k(n,R),u=k(u,R),l=[["M",S=k(S,R),u],["L",S,n],["L",I=k(I,R),n],["L",I,u],["L",S,u],["Z"]],c.box[C]({d:l})}if(h){let R=c.whiskers.strokeWidth();t=k(c.highPlot,R),o=k(c.lowPlot,R),l=[["M",k(X-(v=typeof h=="string"&&/%$/.test(h)?A*parseFloat(h)/100:Number(h)/2)),t],["L",k(X+v),t],["M",k(X-v),o],["L",k(X+v),o]],c.whiskers[C]({d:l})}l=[["M",S,a=k(c.medianPlot,c.medianShape.strokeWidth())],["L",I,a]],c.medianShape[C]({d:l})}}}toYData(n){return[n.low,n.q1,n.median,n.q3,n.high]}}return P.defaultOptions=G(f.defaultOptions,d),D(P.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:N,setStackedPoints:N}),x.registerSeriesType("boxplot",P),P}),st(p,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),st(p,"Series/Bubble/BubbleLegendItem.js",[p["Core/Color/Color.js"],p["Core/Templating.js"],p["Core/Globals.js"],p["Core/Utilities.js"]],function(d,f,M,x){let{parse:Y}=d,{noop:N}=M,{arrayMax:k,arrayMin:D,isNumber:G,merge:z,pick:P,stableSort:g}=x;return class{constructor(n,u){this.setState=N,this.init(n,u)}init(n,u){this.options=n,this.visible=!0,this.chart=u.chart,this.legend=u}addToLegend(n){n.splice(this.options.legendIndex,0,this)}drawLegendSymbol(n){let u,t=P(n.options.itemDistance,20),o=this.legendItem||{},a=this.options,s=a.ranges,i=a.connectorDistance;if(!s||!s.length||!G(s[0].value)){n.options.bubbleLegend.autoRanges=!0;return}g(s,function(I,A){return A.value-I.value}),this.ranges=s,this.setOptions(),this.render();let r=this.getMaxLabelSize(),y=this.ranges[0].radius,S=2*y;u=(u=i-y+r.width)>0?u:0,this.maxLabel=r,this.movementX=a.labels.align==="left"?u:0,o.labelWidth=S+u+t,o.labelHeight=S+r.height/2}setOptions(){let n=this.ranges,u=this.options,t=this.chart.series[u.seriesIndex],o=this.legend.baseline,a={zIndex:u.zIndex,"stroke-width":u.borderWidth},s={zIndex:u.zIndex,"stroke-width":u.connectorWidth},i={align:this.legend.options.rtl||u.labels.align==="left"?"right":"left",zIndex:u.zIndex},r=t.options.marker.fillOpacity,y=this.chart.styledMode;n.forEach(function(S,I){y||(a.stroke=P(S.borderColor,u.borderColor,t.color),a.fill=P(S.color,u.color,r!==1?Y(t.color).setOpacity(r).get("rgba"):t.color),s.stroke=P(S.connectorColor,u.connectorColor,t.color)),n[I].radius=this.getRangeRadius(S.value),n[I]=z(n[I],{center:n[0].radius-n[I].radius+o}),y||z(!0,n[I],{bubbleAttribs:z(a),connectorAttribs:z(s),labelAttribs:i})},this)}getRangeRadius(n){let u=this.options,t=this.options.seriesIndex,o=this.chart.series[t],a=u.ranges[0].value,s=u.ranges[u.ranges.length-1].value,i=u.minSize,r=u.maxSize;return o.getRadius.call(this,s,a,i,r,n)}render(){let n=this.legendItem||{},u=this.chart.renderer,t=this.options.zThreshold;for(let o of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),n.symbol=u.g("bubble-legend"),n.label=u.g("bubble-legend-item").css(this.legend.itemStyle||{}),n.symbol.translateX=0,n.symbol.translateY=0,n.symbol.add(n.label),n.label.add(n.group),this.ranges))o.value>=t&&this.renderRange(o);this.hideOverlappingLabels()}renderRange(n){let u=this.ranges[0],t=this.legend,o=this.options,a=o.labels,s=this.chart,i=s.series[o.seriesIndex],r=s.renderer,y=this.symbols,S=y.labels,I=n.center,A=Math.abs(n.radius),v=o.connectorDistance||0,w=a.align,m=t.options.rtl,O=o.borderWidth,W=o.connectorWidth,e=u.radius||0,h=I-A-O/2+W/2,c=(h%1?1:.5)-(W%2?0:.5),C=r.styledMode,T=m||w==="left"?-v:v;w==="center"&&(T=0,o.connectorDistance=0,n.labelAttribs.align="center"),y.bubbleItems.push(r.circle(e,I+c,A).attr(C?{}:n.bubbleAttribs).addClass((C?"highcharts-color-"+i.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(o.className||"")).add(this.legendItem.symbol)),y.connectors.push(r.path(r.crispLine([["M",e,h],["L",e+T,h]],o.connectorWidth)).attr(C?{}:n.connectorAttribs).addClass((C?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(o.connectorClassName||"")).add(this.legendItem.symbol));let L=r.text(this.formatLabel(n)).attr(C?{}:n.labelAttribs).css(C?{}:a.style).addClass("highcharts-bubble-legend-labels "+(o.labels.className||"")).add(this.legendItem.symbol),K={x:e+T+o.labels.x,y:h+o.labels.y+.4*L.getBBox().height};L.attr(K),S.push(L),L.placed=!0,L.alignAttr=K}getMaxLabelSize(){let n,u;return this.symbols.labels.forEach(function(t){u=t.getBBox(!0),n=n?u.width>n.width?u:n:u}),n||{}}formatLabel(n){let u=this.options,t=u.labels.formatter,o=u.labels.format,{numberFormatter:a}=this.chart;return o?f.format(o,n):t?t.call(n):a(n.value,1)}hideOverlappingLabels(){let n=this.chart,u=this.options.labels.allowOverlap,t=this.symbols;!u&&t&&(n.hideOverlappingLabels(t.labels),t.labels.forEach(function(o,a){o.newOpacity?o.newOpacity!==o.oldOpacity&&t.connectors[a].show():t.connectors[a].hide()}))}getRanges(){let n=this.legend.bubbleLegend,u=n.chart.series,t=n.options.ranges,o,a,s=Number.MAX_VALUE,i=-Number.MAX_VALUE;return u.forEach(function(r){r.isBubble&&!r.ignoreSeries&&(a=r.zData.filter(G)).length&&(s=P(r.options.zMin,Math.min(s,Math.max(D(a),r.options.displayNegative===!1?r.options.zThreshold:-Number.MAX_VALUE))),i=P(r.options.zMax,Math.max(i,k(a))))}),o=s===i?[{value:i}]:[{value:s},{value:(s+i)/2},{value:i,autoRanges:!0}],t.length&&t[0].radius&&o.reverse(),o.forEach(function(r,y){t&&t[y]&&(o[y]=z(t[y],r))}),o}predictBubbleSizes(){let n=this.chart,u=n.legend.options,t=u.floating,o=u.layout==="horizontal",a=o?n.legend.lastLineHeight:0,s=n.plotSizeX,i=n.plotSizeY,r=n.series[this.options.seriesIndex],y=r.getPxExtremes(),S=Math.ceil(y.minPxSize),I=Math.ceil(y.maxPxSize),A=Math.min(i,s),v,w=r.options.maxSize;return t||!/%$/.test(w)?v=I:(v=(A+a)*(w=parseFloat(w))/100/(w/100+1),(o&&i-v>=s||!o&&s-v>=i)&&(v=I)),[S,Math.ceil(v)]}updateRanges(n,u){let t=this.legend.options.bubbleLegend;t.minSize=n,t.maxSize=u,t.ranges=this.getRanges()}correctSizes(){let n=this.legend,u=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(u.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,u.maxPxSize),n.render())}}}),st(p,"Series/Bubble/BubbleLegendComposition.js",[p["Series/Bubble/BubbleLegendDefaults.js"],p["Series/Bubble/BubbleLegendItem.js"],p["Core/Defaults.js"],p["Core/Globals.js"],p["Core/Utilities.js"]],function(d,f,M,x,Y){let{setOptions:N}=M,{composed:k}=x,{addEvent:D,objectEach:G,pushUnique:z,wrap:P}=Y;function g(s,i,r){let y,S,I,A=this.legend,v=n(this)>=0;A&&A.options.enabled&&A.bubbleLegend&&A.options.bubbleLegend.autoRanges&&v?(y=A.bubbleLegend.options,S=A.bubbleLegend.predictBubbleSizes(),A.bubbleLegend.updateRanges(S[0],S[1]),y.placed||(A.group.placed=!1,A.allItems.forEach(w=>{(I=w.legendItem||{}).group&&(I.group.translateY=void 0)})),A.render(),y.placed||(this.getMargins(),this.axes.forEach(function(w){w.visible&&w.render(),y.placed||(w.setScale(),w.updateNames(),G(w.ticks,function(m){m.isNew=!0,m.isNewLabel=!0}))}),this.getMargins()),y.placed=!0,s.call(this,i,r),A.bubbleLegend.correctSizes(),a(A,u(A))):(s.call(this,i,r),A&&A.options.enabled&&A.bubbleLegend&&(A.render(),a(A,u(A))))}function n(s){let i=s.series,r=0;for(;r<i.length;){if(i[r]&&i[r].isBubble&&i[r].visible&&i[r].zData.length)return r;r++}return-1}function u(s){let i=s.allItems,r=[],y=i.length,S,I,A,v=0,w=0;for(v=0;v<y;v++)if(I=i[v].legendItem||{},A=(i[v+1]||{}).legendItem||{},I.labelHeight&&(i[v].itemHeight=I.labelHeight),i[v]===i[y-1]||I.y!==A.y){for(r.push({height:0}),S=r[r.length-1];w<=v;w++)i[w].itemHeight>S.height&&(S.height=i[w].itemHeight);S.step=v}return r}function t(s){let i=this.bubbleLegend,r=this.options,y=r.bubbleLegend,S=n(this.chart);i&&i.ranges&&i.ranges.length&&(y.ranges.length&&(y.autoRanges=!!y.ranges[0].autoRanges),this.destroyItem(i)),S>=0&&r.enabled&&y.enabled&&(y.seriesIndex=S,this.bubbleLegend=new f(y,this),this.bubbleLegend.addToLegend(s.allItems))}function o(s){let i;if(s.defaultPrevented)return!1;let r=s.legendItem,y=this.chart,S=r.visible;this&&this.bubbleLegend&&(r.visible=!S,r.ignoreSeries=S,i=n(y)>=0,this.bubbleLegend.visible!==i&&(this.update({bubbleLegend:{enabled:i}}),this.bubbleLegend.visible=i),r.visible=S)}function a(s,i){let r=s.allItems,y=s.options.rtl,S,I,A,v,w=0;r.forEach((m,O)=>{(v=m.legendItem||{}).group&&(S=v.group.translateX||0,I=v.y||0,((A=m.movementX)||y&&m.ranges)&&(A=y?S-m.options.maxSize/2:S+A,v.group.attr({translateX:A})),O>i[w].step&&w++,v.group.attr({translateY:Math.round(I+i[w].height/2)}),v.y=I+i[w].height/2)})}return{compose:function(s,i){z(k,"Series.BubbleLegend")&&(N({legend:{bubbleLegend:d}}),P(s.prototype,"drawChartBox",g),D(i,"afterGetAllItems",t),D(i,"itemClick",o))}}}),st(p,"Series/Bubble/BubblePoint.js",[p["Core/Series/Point.js"],p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f,M){let{seriesTypes:{scatter:{prototype:{pointClass:x}}}}=f,{extend:Y}=M;class N extends x{haloPath(D){let G=(D&&this.marker&&this.marker.radius||0)+D;if(this.series.chart.inverted){let z=this.pos()||[0,0],{xAxis:P,yAxis:g,chart:n}=this.series;return n.renderer.symbols.circle(P.len-z[1]-G,g.len-z[0]-G,2*G,2*G)}return d.prototype.haloPath.call(this,G)}}return Y(N.prototype,{ttBelow:!1}),N}),st(p,"Series/Bubble/BubbleSeries.js",[p["Series/Bubble/BubbleLegendComposition.js"],p["Series/Bubble/BubblePoint.js"],p["Core/Color/Color.js"],p["Core/Globals.js"],p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f,M,x,Y,N){let{parse:k}=M,{composed:D,noop:G}=x,{series:z,seriesTypes:{column:{prototype:P},scatter:g}}=Y,{addEvent:n,arrayMax:u,arrayMin:t,clamp:o,extend:a,isNumber:s,merge:i,pick:r,pushUnique:y}=N;function S(){let A=this.len,{coll:v,isXAxis:w,min:m}=this,O=w?"xData":"yData",W=(this.max||0)-(m||0),e=0,h=A,c=A/W,C;(v==="xAxis"||v==="yAxis")&&(this.series.forEach(T=>{if(T.bubblePadding&&T.reserveSpace()){this.allowZoomOutside=!0,C=!0;let L=T[O];if(w&&((T.onPoint||T).getRadii(0,0,T),T.onPoint&&(T.radii=T.onPoint.radii)),W>0){let K=L.length;for(;K--;)if(s(L[K])&&this.dataMin<=L[K]&&L[K]<=this.max){let F=T.radii&&T.radii[K]||0;e=Math.min((L[K]-m)*c-F,e),h=Math.max((L[K]-m)*c+F,h)}}}}),C&&W>0&&!this.logarithmic&&(h-=A,c*=(A+Math.max(0,e)-Math.min(h,A))/A,[["min","userMin",e],["max","userMax",h]].forEach(T=>{r(this.options[T[0]],this[T[1]])===void 0&&(this[T[0]]+=T[2]/c)})))}class I extends g{static compose(v,w,m){d.compose(w,m),y(D,"Series.Bubble")&&n(v,"foundExtremes",S)}animate(v){!v&&this.points.length<this.options.animationLimit&&this.points.forEach(function(w){let{graphic:m,plotX:O=0,plotY:W=0}=w;m&&m.width&&(this.hasRendered||m.attr({x:O,y:W,width:1,height:1}),m.animate(this.markerAttribs(w),this.options.animation))},this)}getRadii(){let v=this.zData,w=this.yData,m=[],O,W,e,h=this.chart.bubbleZExtremes,{minPxSize:c,maxPxSize:C}=this.getPxExtremes();if(!h){let T,L=Number.MAX_VALUE,K=-Number.MAX_VALUE;this.chart.series.forEach(F=>{if(F.bubblePadding&&F.reserveSpace()){let it=(F.onPoint||F).getZExtremes();it&&(L=Math.min(r(L,it.zMin),it.zMin),K=Math.max(r(K,it.zMax),it.zMax),T=!0)}}),T?(h={zMin:L,zMax:K},this.chart.bubbleZExtremes=h):h={zMin:0,zMax:0}}for(W=0,O=v.length;W<O;W++)e=v[W],m.push(this.getRadius(h.zMin,h.zMax,c,C,e,w&&w[W]));this.radii=m}getRadius(v,w,m,O,W,e){let h=this.options,c=h.sizeBy!=="width",C=h.zThreshold,T=w-v,L=.5;if(e===null||W===null)return null;if(s(W)){if(h.sizeByAbsoluteValue&&(W=Math.abs(W-C),w=T=Math.max(w-C,Math.abs(v-C)),v=0),W<v)return m/2-1;T>0&&(L=(W-v)/T)}return c&&L>=0&&(L=Math.sqrt(L)),Math.ceil(m+L*(O-m))/2}hasData(){return!!this.processedXData.length}markerAttribs(v,w){let m=super.markerAttribs(v,w),{height:O=0,width:W=0}=m;return this.chart.inverted?a(m,{x:(v.plotX||0)-W/2,y:(v.plotY||0)-O/2}):m}pointAttribs(v,w){let m=this.options.marker.fillOpacity,O=z.prototype.pointAttribs.call(this,v,w);return m!==1&&(O.fill=k(O.fill).setOpacity(m).get("rgba")),O}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:v,options:w,radii:m}=this,{minPxSize:O}=this.getPxExtremes(),W=v.length;for(;W--;){let e=v[W],h=m?m[W]:0;this.zoneAxis==="z"&&(e.negative=(e.z||0)<(w.zThreshold||0)),s(h)&&h>=O/2?(e.marker=a(e.marker,{radius:h,width:2*h,height:2*h}),e.dlBox={x:e.plotX-h,y:e.plotY-h,width:2*h,height:2*h}):(e.shapeArgs=e.plotY=e.dlBox=void 0,e.isInside=!1)}}getPxExtremes(){let v=Math.min(this.chart.plotWidth,this.chart.plotHeight),w=W=>{let e;return typeof W=="string"&&(e=/%$/.test(W),W=parseInt(W,10)),e?v*W/100:W},m=w(r(this.options.minSize,8)),O=Math.max(w(r(this.options.maxSize,"20%")),m);return{minPxSize:m,maxPxSize:O}}getZExtremes(){let v=this.options,w=(this.zData||[]).filter(s);if(w.length){let m=r(v.zMin,o(t(w),v.displayNegative===!1?v.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),O=r(v.zMax,u(w));if(s(m)&&s(O))return{zMin:m,zMax:O}}}}return I.defaultOptions=i(g.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:A}=this.series.chart,{z:v}=this.point;return s(v)?A(v,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),a(I.prototype,{alignDataLabel:P.alignDataLabel,applyZones:G,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:f,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),n(I,"updatedData",A=>{delete A.target.chart.bubbleZExtremes}),n(I,"remove",A=>{delete A.target.chart.bubbleZExtremes}),Y.registerSeriesType("bubble",I),I}),st(p,"Series/ColumnRange/ColumnRangePoint.js",[p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f){let{seriesTypes:{column:{prototype:{pointClass:{prototype:M}}},arearange:{prototype:{pointClass:x}}}}=d,{extend:Y,isNumber:N}=f;class k extends x{isValid(){return N(this.low)}}return Y(k.prototype,{setState:M.setState}),k}),st(p,"Series/ColumnRange/ColumnRangeSeries.js",[p["Series/ColumnRange/ColumnRangePoint.js"],p["Core/Globals.js"],p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f,M,x){let{noop:Y}=f,{seriesTypes:{arearange:N,column:k,column:{prototype:D}}}=M,{addEvent:G,clamp:z,extend:P,isNumber:g,merge:n,pick:u}=x;class t extends N{setOptions(){return n(!0,arguments[0],{stacking:void 0}),N.prototype.setOptions.apply(this,arguments)}translate(){return D.translate.apply(this)}pointAttribs(){return D.pointAttribs.apply(this,arguments)}translate3dPoints(){return D.translate3dPoints.apply(this,arguments)}translate3dShapes(){return D.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){let a,s,i,r,y=this.yAxis,S=this.xAxis,I=S.startAngleRad,A=this.chart,v=this.xAxis.isRadial,w=Math.max(A.chartWidth,A.chartHeight)+999;this.points.forEach(m=>{let O=m.shapeArgs||{},W=this.options.minPointLength,e=m.plotY,h=y.translate(m.high,0,1,0,1);if(g(h)&&g(e))if(m.plotHigh=z(h,-w,w),m.plotLow=z(e,-w,w),r=m.plotHigh,Math.abs(a=u(m.rectPlotY,m.plotY)-m.plotHigh)<W?(s=W-a,a+=s,r-=s/2):a<0&&(a*=-1,r-=a),v&&this.polar)i=m.barX+I,m.shapeType="arc",m.shapeArgs=this.polar.arc(r+a,r,i,i+m.pointWidth);else{O.height=a,O.y=r;let{x:c=0,width:C=0}=O;m.shapeArgs=n(m.shapeArgs,this.crispCol(c,r,C,a)),m.tooltipPos=A.inverted?[y.len+y.pos-A.plotLeft-r-a/2,S.len+S.pos-A.plotTop-c-C/2,a]:[S.left-A.plotLeft+c+C/2,y.pos-A.plotTop+r+a/2,a]}})}}return t.defaultOptions=n(k.defaultOptions,N.defaultOptions,{borderRadius:{where:"all"},pointRange:null,legendSymbol:"rectangle",marker:null,states:{hover:{halo:!1}}}),G(t,"afterColumnTranslate",function(){t.prototype.afterColumnTranslate.apply(this)},{order:5}),P(t.prototype,{directTouch:!0,pointClass:d,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:D.adjustForMissingColumns,animate:D.animate,crispCol:D.crispCol,drawGraph:Y,drawPoints:D.drawPoints,getSymbol:Y,drawTracker:D.drawTracker,getColumnMetrics:D.getColumnMetrics}),M.registerSeriesType("columnrange",t),t}),st(p,"Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js",[],function(){return{}}),st(p,"Series/ColumnPyramid/ColumnPyramidSeries.js",[p["Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js"],p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f,M){let{column:x}=f.seriesTypes,{clamp:Y,merge:N,pick:k}=M;class D extends x{translate(){let z=this.chart,P=this.options,g=this.dense=this.closestPointRange*this.xAxis.transA<2,n=this.borderWidth=k(P.borderWidth,g?0:1),u=this.yAxis,t=P.threshold,o=k(P.minPointLength,5),a=this.getColumnMetrics(),s=a.width,i=this.pointXOffset=a.offset,r=this.translatedThreshold=u.getThreshold(t),y=this.barW=Math.max(s,1+2*n);for(let S of(z.inverted&&(r-=.5),P.pointPadding&&(y=Math.ceil(y)),super.translate(),this.points)){let I=k(S.yBottom,r),A=999+Math.abs(I),v=Y(S.plotY,-A,u.len+A),w=y/2,m=Math.min(v,I),O=Math.max(v,I)-m,W=S.plotX+i,e,h,c,C,T,L,K,F,it,j,l;P.centerInCategory&&(W=this.adjustForMissingColumns(W,s,S,a)),S.barX=W,S.pointWidth=s,S.tooltipPos=z.inverted?[u.len+u.pos-z.plotLeft-v,this.xAxis.len-W-w,O]:[W+w,v+u.pos-z.plotTop,O],e=t+(S.total||S.y),P.stacking==="percent"&&(e=t+(S.y<0)?-100:100);let X=u.toPixels(e,!0);c=(h=z.plotHeight-X-(z.plotHeight-r))?w*(m-X)/h:0,C=h?w*(m+O-X)/h:0,L=W-c+w,K=W+c+w,F=W+C+w,it=W-C+w,j=m-o,l=m+O,S.y<0&&(j=m,l=m+O+o),z.inverted&&(T=u.width-m,h=X-(u.width-r),c=w*(X-T)/h,C=w*(X-(T-O))/h,K=(L=W+w+c)-2*c,F=W-C+w,it=W+C+w,j=m,l=m+O-o,S.y<0&&(l=m+O+o)),S.shapeType="path",S.shapeArgs={x:L,y:j,width:K-L,height:O,d:[["M",L,j],["L",K,j],["L",F,l],["L",it,l],["Z"]]}}}}return D.defaultOptions=N(x.defaultOptions,d),f.registerSeriesType("columnpyramid",D),D}),st(p,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),st(p,"Series/ErrorBar/ErrorBarSeries.js",[p["Series/BoxPlot/BoxPlotSeries.js"],p["Series/Column/ColumnSeries.js"],p["Series/ErrorBar/ErrorBarSeriesDefaults.js"],p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f,M,x,Y){let{arearange:N}=x.seriesTypes,{addEvent:k,merge:D,extend:G}=Y;class z extends d{getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||f.prototype.getColumnMetrics.call(this)}drawDataLabels(){let g=this.pointValKey;if(N)for(let n of(N.prototype.drawDataLabels.call(this),this.points))n.y=n[g]}toYData(g){return[g.low,g.high]}}return z.defaultOptions=D(d.defaultOptions,M),k(z,"afterTranslate",function(){for(let P of this.points)P.plotLow=P.plotY},{order:0}),G(z.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),x.registerSeriesType("errorbar",z),z}),st(p,"Series/Gauge/GaugePoint.js",[p["Core/Series/SeriesRegistry.js"]],function(d){let{series:{prototype:{pointClass:f}}}=d;return class extends f{setState(M){this.state=M}}}),st(p,"Series/Gauge/GaugeSeries.js",[p["Series/Gauge/GaugePoint.js"],p["Core/Globals.js"],p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f,M,x){let{noop:Y}=f,{series:N,seriesTypes:{column:k}}=M,{clamp:D,isNumber:G,extend:z,merge:P,pick:g,pInt:n,defined:u}=x;class t extends N{translate(){let a=this.yAxis,s=this.options,i=a.center;this.generatePoints(),this.points.forEach(r=>{let y=P(s.dial,r.dial),S=n(y.radius)*i[2]/200,I=n(y.baseLength)*S/100,A=n(y.rearLength)*S/100,v=y.baseWidth,w=y.topWidth,m=s.overshoot,O=a.startAngleRad+a.translate(r.y,void 0,void 0,void 0,!0);(G(m)||s.wrap===!1)&&(m=G(m)?m/180*Math.PI:0,O=D(O,a.startAngleRad-m,a.endAngleRad+m)),O=180*O/Math.PI,r.shapeType="path";let W=y.path||[["M",-A,-v/2],["L",I,-v/2],["L",S,-w/2],["L",S,w/2],["L",I,v/2],["L",-A,v/2],["Z"]];r.shapeArgs={d:W,translateX:i[0],translateY:i[1],rotation:O},r.plotX=i[0],r.plotY=i[1],u(r.y)&&a.max-a.min&&(r.percentage=(r.y-a.min)/(a.max-a.min)*100)})}drawPoints(){let a=this,s=a.chart,i=a.yAxis.center,r=a.pivot,y=a.options,S=y.pivot,I=s.renderer;a.points.forEach(A=>{let v=A.graphic,w=A.shapeArgs,m=w.d,O=P(y.dial,A.dial);v?(v.animate(w),w.d=m):A.graphic=I[A.shapeType](w).addClass("highcharts-dial").add(a.group),s.styledMode||A.graphic[v?"animate":"attr"]({stroke:O.borderColor,"stroke-width":O.borderWidth,fill:O.backgroundColor})}),r?r.animate({translateX:i[0],translateY:i[1]}):S&&(a.pivot=I.circle(0,0,S.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(i[0],i[1]).add(a.group),s.styledMode||a.pivot.attr({fill:S.backgroundColor,stroke:S.borderColor,"stroke-width":S.borderWidth}))}animate(a){let s=this;a||s.points.forEach(i=>{let r=i.graphic;r&&(r.attr({rotation:180*s.yAxis.startAngleRad/Math.PI}),r.animate({rotation:i.shapeArgs.rotation},s.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),N.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(a,s){N.prototype.setData.call(this,a,!1),this.processData(),this.generatePoints(),g(s,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return t.defaultOptions=P(N.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),z(t.prototype,{angular:!0,directTouch:!0,drawGraph:Y,drawTracker:k.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:d,trackerGroups:["group","dataLabelsGroup"]}),M.registerSeriesType("gauge",t),t}),st(p,"Series/DragNodesComposition.js",[p["Core/Globals.js"],p["Core/Utilities.js"]],function(d,f){let{composed:M}=d,{addEvent:x,pushUnique:Y}=f;function N(){let k,D,G,z=this;z.container&&(k=x(z.container,"mousedown",P=>{let g=z.hoverPoint;g&&g.series&&g.series.hasDraggableNodes&&g.series.options.draggable&&(g.series.onMouseDown(g,P),D=x(z.container,"mousemove",n=>g&&g.series&&g.series.onMouseMove(g,n)),G=x(z.container.ownerDocument,"mouseup",n=>(D(),G(),g&&g.series&&g.series.onMouseUp(g,n))))})),x(z,"destroy",function(){k()})}return{compose:function(k){Y(M,"DragNodes")&&x(k,"load",N)},onMouseDown:function(k,D){var z;let G=((z=this.chart.pointer)==null?void 0:z.normalize(D))||D;k.fixedPosition={chartX:G.chartX,chartY:G.chartY,plotX:k.plotX,plotY:k.plotY},k.inDragMode=!0},onMouseMove:function(k,D){var G;if(k.fixedPosition&&k.inDragMode){let z,P,g=this.chart,n=((G=g.pointer)==null?void 0:G.normalize(D))||D,u=k.fixedPosition.chartX-n.chartX,t=k.fixedPosition.chartY-n.chartY,o=g.graphLayoutsLookup;(Math.abs(u)>5||Math.abs(t)>5)&&(z=k.fixedPosition.plotX-u,P=k.fixedPosition.plotY-t,g.isInsidePlot(z,P)&&(k.plotX=z,k.plotY=P,k.hasDragged=!0,this.redrawHalo(k),o.forEach(a=>{a.restartSimulation()})))}},onMouseUp:function(k){k.fixedPosition&&(k.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),k.inDragMode=k.hasDragged=!1,this.options.fixedDraggable||delete k.fixedPosition)},redrawHalo:function(k){k&&this.halo&&this.halo.attr({d:k.haloPath(this.options.states.hover.halo.size)})}}}),st(p,"Series/GraphLayoutComposition.js",[p["Core/Animation/AnimationUtilities.js"],p["Core/Globals.js"],p["Core/Utilities.js"]],function(d,f,M){let{setAnimation:x}=d,{composed:Y}=f,{addEvent:N,pushUnique:k}=M;function D(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(g=>{g.updateSimulation()}),this.redraw())}function G(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(g=>{g.updateSimulation(!1)}),this.redraw())}function z(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(g=>{g.stop()})}function P(){let g,n=!1,u=t=>{t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()&&!t.enableSimulation&&(t.beforeStep&&t.beforeStep(),t.step(),g=!1,n=!0)};if(this.graphLayoutsLookup){for(x(!1,this),this.graphLayoutsLookup.forEach(t=>t.start());!g;)g=!0,this.graphLayoutsLookup.forEach(u);n&&this.series.forEach(t=>{t&&t.layout&&t.render()})}}return{compose:function(g){k(Y,"GraphLayout")&&(N(g,"afterPrint",D),N(g,"beforePrint",G),N(g,"predraw",z),N(g,"render",P))},integrations:{},layouts:{}}}),st(p,"Series/PackedBubble/PackedBubblePoint.js",[p["Core/Chart/Chart.js"],p["Core/Series/Point.js"],p["Core/Series/SeriesRegistry.js"]],function(d,f,M){let{seriesTypes:{bubble:{prototype:{pointClass:x}}}}=M;return class extends x{destroy(){var Y;return(Y=this.series)!=null&&Y.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),f.prototype.destroy.apply(this,arguments)}firePointEvent(){let Y=this.series.options;if(this.isParentNode&&Y.parentNode){let N=Y.allowPointSelect;Y.allowPointSelect=Y.parentNode.allowPointSelect,f.prototype.firePointEvent.apply(this,arguments),Y.allowPointSelect=N}else f.prototype.firePointEvent.apply(this,arguments)}select(){let Y=this.series.chart;this.isParentNode?(Y.getSelectedPoints=Y.getSelectedParentNodes,f.prototype.select.apply(this,arguments),Y.getSelectedPoints=d.prototype.getSelectedPoints):f.prototype.select.apply(this,arguments)}}}),st(p,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[p["Core/Utilities.js"]],function(d){let{isNumber:f}=d;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){let{numberFormatter:M}=this.series.chart,{value:x}=this.point;return f(x)?M(x,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),st(p,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(d,f,M){let x=d.getMass(),Y=-M.x*f*this.diffTemperature,N=-M.y*f*this.diffTemperature;d.fromNode.fixedPosition||(d.fromNode.plotX-=Y*x.fromNode/d.fromNode.degree,d.fromNode.plotY-=N*x.fromNode/d.fromNode.degree),d.toNode.fixedPosition||(d.toNode.plotX+=Y*x.toNode/d.toNode.degree,d.toNode.plotY+=N*x.toNode/d.toNode.degree)},attractiveForceFunction:function(d,f){return(f-d)/d},barycenter:function(){let d=this.options.gravitationalConstant||0,f=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*d,M=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*d;this.nodes.forEach(function(x){x.fixedPosition||(x.plotX-=f/x.mass/x.degree,x.plotY-=M/x.mass/x.degree)})},getK:function(d){return Math.pow(d.box.width*d.box.height/d.nodes.length,.5)},integrate:function(d,f){let M=-d.options.friction,x=d.options.maxSpeed,Y=f.prevX,N=f.prevY,k=(f.plotX+f.dispX-Y)*M,D=(f.plotY+f.dispY-N)*M,G=Math.abs,z=G(k)/(k||1),P=G(D)/(D||1),g=z*Math.min(x,Math.abs(k)),n=P*Math.min(x,Math.abs(D));f.prevX=f.plotX+f.dispX,f.prevY=f.plotY+f.dispY,f.plotX+=g,f.plotY+=n,f.temperature=d.vectorLength({x:g,y:n})},repulsive:function(d,f,M){let x=f*this.diffTemperature/d.mass/d.degree;d.fixedPosition||(d.plotX+=M.x*x,d.plotY+=M.y*x)},repulsiveForceFunction:function(d,f){return(f-d)/d*(f>d?1:0)}}}),st(p,"Series/PackedBubble/PackedBubbleIntegration.js",[p["Core/Globals.js"],p["Series/Networkgraph/VerletIntegration.js"]],function(d,f){let{noop:M}=d;return{barycenter:function(){let x,Y,N=this.options.gravitationalConstant,k=this.box,D=this.nodes;for(let G of D)this.options.splitSeries&&!G.isParentNode?(x=G.series.parentNode.plotX,Y=G.series.parentNode.plotY):(x=k.width/2,Y=k.height/2),G.fixedPosition||(G.plotX-=(G.plotX-x)*N/(G.mass*Math.sqrt(D.length)),G.plotY-=(G.plotY-Y)*N/(G.mass*Math.sqrt(D.length)))},getK:M,integrate:f.integrate,repulsive:function(x,Y,N,k){let D=Y*this.diffTemperature/x.mass/x.degree,G=N.x*D,z=N.y*D;x.fixedPosition||(x.plotX+=G,x.plotY+=z),k.fixedPosition||(k.plotX-=G,k.plotY-=z)},repulsiveForceFunction:function(x,Y,N,k){return Math.min(x,(N.marker.radius+k.marker.radius)/2)}}}),st(p,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(d,f,M,x){let Y=d.getMass(),N=M.x/x*f,k=M.y/x*f;d.fromNode.fixedPosition||(d.fromNode.dispX-=N*Y.fromNode/d.fromNode.degree,d.fromNode.dispY-=k*Y.fromNode/d.fromNode.degree),d.toNode.fixedPosition||(d.toNode.dispX+=N*Y.toNode/d.toNode.degree,d.toNode.dispY+=k*Y.toNode/d.toNode.degree)},attractiveForceFunction:function(d,f){return d*d/f},barycenter:function(){let d=this.options.gravitationalConstant,f=this.barycenter.xFactor,M=this.barycenter.yFactor;this.nodes.forEach(function(x){if(!x.fixedPosition){let Y=x.getDegree(),N=Y*(1+Y/2);x.dispX+=(f-x.plotX)*d*N/x.degree,x.dispY+=(M-x.plotY)*d*N/x.degree}})},getK:function(d){return Math.pow(d.box.width*d.box.height/d.nodes.length,.3)},integrate:function(d,f){f.dispX+=f.dispX*d.options.friction,f.dispY+=f.dispY*d.options.friction;let M=f.temperature=d.vectorLength({x:f.dispX,y:f.dispY});M!==0&&(f.plotX+=f.dispX/M*Math.min(Math.abs(f.dispX),d.temperature),f.plotY+=f.dispY/M*Math.min(Math.abs(f.dispY),d.temperature))},repulsive:function(d,f,M,x){d.dispX+=M.x/x*f/d.degree,d.dispY+=M.y/x*f/d.degree},repulsiveForceFunction:function(d,f){return f*f/d}}}),st(p,"Series/Networkgraph/QuadTreeNode.js",[],function(){class d{constructor(M){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=M,this.boxSize=Math.min(M.width,M.height)}divideBox(){let M=this.box.width/2,x=this.box.height/2;this.nodes[0]=new d({left:this.box.left,top:this.box.top,width:M,height:x}),this.nodes[1]=new d({left:this.box.left+M,top:this.box.top,width:M,height:x}),this.nodes[2]=new d({left:this.box.left+M,top:this.box.top+x,width:M,height:x}),this.nodes[3]=new d({left:this.box.left,top:this.box.top+x,width:M,height:x})}getBoxPosition(M){let x=M.plotX<this.box.left+this.box.width/2,Y=M.plotY<this.box.top+this.box.height/2;return x?Y?0:3:Y?1:2}insert(M,x){let Y;this.isInternal?this.nodes[this.getBoxPosition(M)].insert(M,x-1):(this.isEmpty=!1,this.body?x?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,x-1),this.body=!0),this.nodes[this.getBoxPosition(M)].insert(M,x-1)):((Y=new d({top:M.plotX||NaN,left:M.plotY||NaN,width:.1,height:.1})).body=M,Y.isInternal=!1,this.nodes.push(Y)):(this.isInternal=!1,this.body=M))}updateMassAndCenter(){let M=0,x=0,Y=0;if(this.isInternal){for(let N of this.nodes)N.isEmpty||(M+=N.mass,x+=N.plotX*N.mass,Y+=N.plotY*N.mass);x/=M,Y/=M}else this.body&&(M=this.body.mass,x=this.body.plotX,Y=this.body.plotY);this.mass=M,this.plotX=x,this.plotY=Y}}return d}),st(p,"Series/Networkgraph/QuadTree.js",[p["Series/Networkgraph/QuadTreeNode.js"]],function(d){return class{constructor(f,M,x,Y){this.box={left:f,top:M,width:x,height:Y},this.maxDepth=25,this.root=new d(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(f){f.updateMassAndCenter()})}insertNodes(f){for(let M of f)this.root.insert(M,this.maxDepth)}visitNodeRecursive(f,M,x){let Y;if(f||(f=this.root),f===this.root&&M&&(Y=M(f)),Y!==!1){for(let N of f.nodes){if(N.isInternal){if(M&&(Y=M(N)),Y===!1)continue;this.visitNodeRecursive(N,M,x)}else N.body&&M&&M(N.body);x&&x(N)}f===this.root&&x&&x(f)}}}}),st(p,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[p["Series/Networkgraph/EulerIntegration.js"],p["Core/Globals.js"],p["Series/GraphLayoutComposition.js"],p["Series/Networkgraph/QuadTree.js"],p["Core/Utilities.js"],p["Series/Networkgraph/VerletIntegration.js"]],function(d,f,M,x,Y,N){let{win:k}=f,{clamp:D,defined:G,isFunction:z,fireEvent:P,pick:g}=Y;class n{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(t){M.compose(t),M.integrations.euler=d,M.integrations.verlet=N,M.layouts["reingold-fruchterman"]=n}init(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=M.integrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=g(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=g(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation}updateSimulation(t){this.enableSimulation=g(t,this.options.enableSimulation)}start(){let t=this.series,o=this.options;this.currentStep=0,this.forces=t[0]&&t[0].forces||[],this.chart=t[0]&&t[0].chart,this.initialRendering&&(this.initPositions(),t.forEach(function(a){a.finishedAnimating=!0,a.render()})),this.setK(),this.resetSimulation(o),this.enableSimulation&&this.step()}step(){let t=this.series;for(let o of(this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter()),this.forces||[]))this[o+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(let o of t)o.chart&&o.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&k.cancelAnimationFrame(this.simulation),this.simulation=k.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(o=>{P(o,"afterSimulation")}))}}stop(){this.simulation&&k.cancelAnimationFrame(this.simulation)}setArea(t,o,a,s){this.box={left:t,top:o,width:a,height:s}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(t,o){for(let a of t)o.indexOf(a)===-1&&o.push(a)}removeElementFromCollection(t,o){let a=o.indexOf(t);a!==-1&&o.splice(a,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(t){this.maxIterations=g(t,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(t){this.initialRendering=t}createQuadTree(){this.quadTree=new x(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){let t=this.options.initialPositions;if(z(t))for(let o of(t.call(this),this.nodes))G(o.prevX)||(o.prevX=o.plotX),G(o.prevY)||(o.prevY=o.plotY),o.dispX=0,o.dispY=0;else t==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){let t,o=this.box,a=this.nodes,s=2*Math.PI/(a.length+1),i=a.filter(function(A){return A.linksTo.length===0}),r={},y=this.options.initialPositionRadius,S=A=>{for(let v of A.linksFrom||[])r[v.toNode.id]||(r[v.toNode.id]=!0,I.push(v.toNode),S(v.toNode))},I=[];for(let A of i)I.push(A),S(A);if(I.length)for(let A of a)I.indexOf(A)===-1&&I.push(A);else I=a;for(let A=0,v=I.length;A<v;++A)(t=I[A]).plotX=t.prevX=g(t.plotX,o.width/2+y*Math.cos(A*s)),t.plotY=t.prevY=g(t.plotY,o.height/2+y*Math.sin(A*s)),t.dispX=0,t.dispY=0}setRandomPositions(){let t,o=this.box,a=this.nodes,s=a.length+1,i=r=>{let y=r*r/Math.PI;return y-Math.floor(y)};for(let r=0,y=a.length;r<y;++r)(t=a[r]).plotX=t.prevX=g(t.plotX,o.width*i(r)),t.plotY=t.prevY=g(t.plotY,o.height*i(s+r)),t.dispX=0,t.dispY=0}force(t,...o){this.integration[t].apply(this,o)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let t=0,o=0,a=0;for(let s of this.nodes)o+=s.plotX*s.mass,a+=s.plotY*s.mass,t+=s.mass;return this.barycenter={x:o,y:a,xFactor:o/t,yFactor:a/t},this.barycenter}barnesHutApproximation(t,o){let a,s,i=this.getDistXY(t,o),r=this.vectorLength(i);return t!==o&&r!==0&&(o.isInternal?o.boxSize/r<this.options.theta&&r!==0?(s=this.repulsiveForce(r,this.k),this.force("repulsive",t,s*o.mass,i,r),a=!1):a=!0:(s=this.repulsiveForce(r,this.k),this.force("repulsive",t,s*o.mass,i,r))),a}repulsiveForces(){if(this.approximation==="barnes-hut")for(let t of this.nodes)this.quadTree.visitNodeRecursive(null,o=>this.barnesHutApproximation(t,o));else{let t,o,a;for(let s of this.nodes)for(let i of this.nodes)s===i||s.fixedPosition||(a=this.getDistXY(s,i),(o=this.vectorLength(a))!==0&&(t=this.repulsiveForce(o,this.k),this.force("repulsive",s,t*i.mass,a,o)))}}attractiveForces(){let t,o,a;for(let s of this.links)s.fromNode&&s.toNode&&(t=this.getDistXY(s.fromNode,s.toNode),(o=this.vectorLength(t))!==0&&(a=this.attractiveForce(o,this.k),this.force("attractive",s,a,t,o)))}applyLimits(){for(let t of this.nodes)t.fixedPosition||(this.integration.integrate(this,t),this.applyLimitBox(t,this.box),t.dispX=0,t.dispY=0)}applyLimitBox(t,o){let a=t.radius;t.plotX=D(t.plotX,o.left+a,o.width-a),t.plotY=D(t.plotY,o.top+a,o.height-a)}coolDown(t,o,a){return t-o*a}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0}getSystemTemperature(){let t=0;for(let o of this.nodes)t+=o.temperature;return t}vectorLength(t){return Math.sqrt(t.x*t.x+t.y*t.y)}getDistR(t,o){let a=this.getDistXY(t,o);return this.vectorLength(a)}getDistXY(t,o){let a=t.plotX-o.plotX,s=t.plotY-o.plotY;return{x:a,y:s,absX:Math.abs(a),absY:Math.abs(s)}}}return n}),st(p,"Series/PackedBubble/PackedBubbleLayout.js",[p["Series/GraphLayoutComposition.js"],p["Series/PackedBubble/PackedBubbleIntegration.js"],p["Series/Networkgraph/ReingoldFruchtermanLayout.js"],p["Core/Utilities.js"]],function(d,f,M,x){let{addEvent:Y,pick:N}=x;function k(){let z=this.series,P=[];return z.forEach(g=>{g.parentNode&&g.parentNode.selected&&P.push(g.parentNode)}),P}function D(){this.allDataPoints&&delete this.allDataPoints}class G extends M{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.series=[]}static compose(P){M.compose(P),d.integrations.packedbubble=f,d.layouts.packedbubble=G;let g=P.prototype;g.getSelectedParentNodes||(Y(P,"beforeRedraw",D),g.getSelectedParentNodes=k)}beforeStep(){this.options.marker&&this.series.forEach(P=>{P&&P.calculateParentRadius()})}isStable(){let P=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&P<1e-5||this.temperature<=0}setCircularPositions(){let P=this.box,g=this.nodes,n=2*Math.PI/(g.length+1),u=this.options.initialPositionRadius,t,o,a=0;for(let s of g)this.options.splitSeries&&!s.isParentNode?(t=s.series.parentNode.plotX,o=s.series.parentNode.plotY):(t=P.width/2,o=P.height/2),s.plotX=s.prevX=N(s.plotX,t+u*Math.cos(s.index||a*n)),s.plotY=s.prevY=N(s.plotY,o+u*Math.sin(s.index||a*n)),s.dispX=0,s.dispY=0,a++}repulsiveForces(){let P,g,n,u=this,t=u.options.bubblePadding,o=u.nodes;o.forEach(a=>{a.degree=a.mass,a.neighbours=0,o.forEach(s=>{P=0,a!==s&&!a.fixedPosition&&(u.options.seriesInteraction||a.series===s.series)&&(n=u.getDistXY(a,s),(g=u.vectorLength(n)-(a.marker.radius+s.marker.radius+t))<0&&(a.degree+=.01,a.neighbours++,P=u.repulsiveForce(-g/Math.sqrt(a.neighbours),u.k,a,s)),u.force("repulsive",a,P*s.mass,n,s,g))})})}applyLimitBox(P,g){let n,u;this.options.splitSeries&&!P.isParentNode&&this.options.parentNodeLimit&&(n=this.getDistXY(P,P.series.parentNode),(u=P.series.parentNodeRadius-P.marker.radius-this.vectorLength(n))<0&&u>-2*P.marker.radius&&(P.plotX-=.01*n.x,P.plotY-=.01*n.y)),super.applyLimitBox(P,g)}}return d.layouts.packedbubble=G,G}),st(p,"Series/SimulationSeriesUtilities.js",[p["Core/Utilities.js"],p["Core/Animation/AnimationUtilities.js"]],function(d,f){let{merge:M,syncTimeout:x}=d,{animObject:Y}=f;return{initDataLabels:function(){let N=this.options.dataLabels;if(!this.dataLabelsGroup){let k=this.initDataLabelsGroup();return!this.chart.styledMode&&(N!=null&&N.style)&&k.css(N.style),k.attr({opacity:0}),this.visible&&k.show(),k}return this.dataLabelsGroup.attr(M({opacity:1},this.getPlotBox("data-labels"))),this.dataLabelsGroup},initDataLabelsDefer:function(){var k;let N=this.options.dataLabels;N!=null&&N.defer&&((k=this.options.layoutAlgorithm)!=null&&k.enableSimulation)?x(()=>{this.deferDataLabels=!1},N?Y(N.animation).defer:0):this.deferDataLabels=!1}}}),st(p,"Extensions/TextPath.js",[p["Core/Globals.js"],p["Core/Utilities.js"]],function(d,f){let{deg2rad:M}=d,{addEvent:x,merge:Y,uniqueKey:N,defined:k,extend:D}=f;function G(g,n){n=Y(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},n);let u=this.renderer.url,t=this.text||this,o=t.textPath,{attributes:a,enabled:s}=n;if(g=g||o&&o.path,o&&o.undo(),g&&s){let i=x(t,"afterModifyTree",r=>{if(g&&s){let y=g.attr("id");y||g.attr("id",y=N());let S={x:0,y:0};k(a.dx)&&(S.dx=a.dx,delete a.dx),k(a.dy)&&(S.dy=a.dy,delete a.dy),t.attr(S),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let I=r.nodes.slice(0);r.nodes.length=0,r.nodes[0]={tagName:"textPath",attributes:D(a,{"text-anchor":a.textAnchor,href:`${u}#${y}`}),children:I}}});t.textPath={path:g,undo:i}}else t.attr({dx:0,dy:0}),delete t.textPath;return this.added&&(t.textCache="",this.renderer.buildText(t)),this}function z(g){var t;let n=g.bBox,u=(t=this.element)==null?void 0:t.querySelector("textPath");if(u){let o=[],{b:a,h:s}=this.renderer.fontMetrics(this.element),i=s-a,r=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),y=u.innerHTML.replace(r,"").split(/<tspan class="highcharts-br"[^>]*>/),S=y.length,I=(A,v)=>{let{x:w,y:m}=v,O=(u.getRotationOfChar(A)-90)*M,W=Math.cos(O),e=Math.sin(O);return[[w-i*W,m-i*e],[w+a*W,m+a*e]]};for(let A=0,v=0;v<S;v++){let w=y[v].length;for(let m=0;m<w;m+=5)try{let O=A+m+v,[W,e]=I(O,u.getStartPositionOfChar(O));m===0?(o.push(e),o.push(W)):(v===0&&o.unshift(e),v===S-1&&o.push(W))}catch{break}A+=w-1;try{let m=A+v,O=u.getEndPositionOfChar(m),[W,e]=I(m,O);o.unshift(e),o.unshift(W)}catch{break}}o.length&&o.push(o[0].slice()),n.polygon=o}return n}function P(g){var o;let n=g.labelOptions,u=g.point,t=n[u.formatPrefix+"TextPath"]||n.textPath;t&&!n.useHTML&&(this.setTextPath(((o=u.getDataLabelPath)==null?void 0:o.call(u,this))||u.graphic,t),u.dataLabelPath&&!t.enabled&&(u.dataLabelPath=u.dataLabelPath.destroy()))}return{compose:function(g){x(g,"afterGetBBox",z),x(g,"beforeAddingDataLabel",P);let n=g.prototype;n.setTextPath||(n.setTextPath=G)}}}),st(p,"Series/PackedBubble/PackedBubbleSeries.js",[p["Core/Color/Color.js"],p["Series/DragNodesComposition.js"],p["Series/GraphLayoutComposition.js"],p["Core/Globals.js"],p["Series/PackedBubble/PackedBubblePoint.js"],p["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],p["Series/PackedBubble/PackedBubbleLayout.js"],p["Core/Series/SeriesRegistry.js"],p["Series/SimulationSeriesUtilities.js"],p["Core/Utilities.js"],p["Core/Renderer/SVG/SVGElement.js"],p["Extensions/TextPath.js"]],function(d,f,M,x,Y,N,k,D,G,z,P,g){let{parse:n}=d,{noop:u}=x,{series:{prototype:t},seriesTypes:{bubble:o}}=D,{initDataLabels:a,initDataLabelsDefer:s}=G,{addEvent:i,clamp:r,defined:y,extend:S,fireEvent:I,isArray:A,isNumber:v,merge:w,pick:m}=z;g.compose(P);class O extends o{constructor(){super(...arguments),this.parentNodeMass=0,this.deferDataLabels=!0}static compose(e,h,c){o.compose(e,h,c),f.compose(h),k.compose(h)}accumulateAllPoints(){let e,h=this.chart,c=[];for(let C of h.series)if(C.is("packedbubble")&&C.reserveSpace()){e=C.yData||[];for(let T=0;T<e.length;T++)c.push([null,null,e[T],C.index,T,{id:T,marker:{radius:0}}])}return c}addLayout(){let e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},h=e.type||"packedbubble",c=this.chart.options.chart,C=this.chart.graphLayoutsStorage,T=this.chart.graphLayoutsLookup,L;C||(this.chart.graphLayoutsStorage=C={},this.chart.graphLayoutsLookup=T=[]),(L=C[h])||(e.enableSimulation=y(c.forExport)?!c.forExport:e.enableSimulation,C[h]=L=new M.layouts[h],L.init(e),T.splice(L.index,0,L)),this.layout=L,this.points.forEach(K=>{K.mass=2,K.degree=1,K.collisionNmb=1}),L.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),L.addElementsToCollection([this],L.series),L.addElementsToCollection(this.points,L.nodes)}addSeriesLayout(){let e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},h=e.type||"packedbubble",c=this.chart.graphLayoutsStorage,C=this.chart.graphLayoutsLookup,T=w(e,e.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),L=c[h+"-series"];L||(c[h+"-series"]=L=new M.layouts[h],L.init(T),C.splice(L.index,0,L)),this.parentNodeLayout=L,this.createParentNodes()}calculateParentRadius(){let e=this.seriesBox();this.parentNodeRadius=r(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,e?Math.max(Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let e=this.chart.series,h=this.options.zMin,c=this.options.zMax,C=1/0,T=-1/0;return h&&c?[h,c]:(e.forEach(L=>{L.yData.forEach(K=>{y(K)&&(K>T&&(T=K),K<C&&(C=K))})}),[h=m(h,C),c=m(c,T)])}checkOverlap(e,h){let c=e[0]-h[0],C=e[1]-h[1];return Math.sqrt(c*c+C*C)-Math.abs(e[2]+h[2])<-.001}createParentNodes(){let e=this.pointClass,h=this.chart,c=this.parentNodeLayout,C=this.layout.options,T,L=this.parentNode,K={radius:this.parentNodeRadius,lineColor:this.color,fillColor:n(this.color).brighten(.4).get()};C.parentNodeOptions&&(K=w(C.parentNodeOptions.marker||{},K)),this.parentNodeMass=0,this.points.forEach(F=>{this.parentNodeMass+=Math.PI*Math.pow(F.marker.radius,2)}),this.calculateParentRadius(),c.nodes.forEach(F=>{F.seriesIndex===this.index&&(T=!0)}),c.setArea(0,0,h.plotWidth,h.plotHeight),T||(L||(L=new e(this,{mass:this.parentNodeRadius/2,marker:K,dataLabels:{inside:!1},states:{normal:{marker:K},hover:{marker:K}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(L.plotX=this.parentNode.plotX,L.plotY=this.parentNode.plotY),this.parentNode=L,c.addElementsToCollection([this],c.series),c.addElementsToCollection([L],c.nodes))}deferLayout(){let e=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),e.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(e=>{e.removeElementFromCollection(this,e.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),t.destroy.apply(this,arguments)}drawDataLabels(){!this.deferDataLabels&&(t.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",t.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){var T;if(!this.layout||!this.layout.options.splitSeries)return;let e=this.chart,h=this.layout.options.parentNodeOptions.marker,c={fill:h.fillColor||n(this.color).brighten(.4).get(),opacity:h.fillOpacity,stroke:h.lineColor||this.color,"stroke-width":m(h.lineWidth,this.options.lineWidth)},C={};this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,e.seriesGroup),(T=this.group)==null||T.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&y(this.parentNode.plotX)&&y(this.parentNode.plotY)&&y(this.parentNodeRadius)&&(C=w({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},c),this.parentNode.graphic||(this.graph=this.parentNode.graphic=e.renderer.symbol(c.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(C))}drawTracker(){let e,h=this.parentNode;super.drawTracker(),h&&(e=A(h.dataLabels)?h.dataLabels:h.dataLabel?[h.dataLabel]:[],h.graphic&&(h.graphic.element.point=h),e.forEach(c=>{(c.div||c.element).point=h}))}getPointRadius(){let e,h,c,C,T=this.chart,L=T.plotWidth,K=T.plotHeight,F=this.options,it=F.useSimulation,j=Math.min(L,K),l={},X=[],R=T.allDataPoints||[],U=R.length;["minSize","maxSize"].forEach(_=>{let b=parseInt(F[_],10),B=/%$/.test(F[_]);l[_]=B?j*b/100:b*Math.sqrt(U)}),T.minRadius=e=l.minSize/Math.sqrt(U),T.maxRadius=h=l.maxSize/Math.sqrt(U);let q=it?this.calculateZExtremes():[e,h];R.forEach((_,b)=>{c=it?r(_[2],q[0],q[1]):_[2],(C=this.getRadius(q[0],q[1],e,h,c))===0&&(C=null),R[b][2]=C,X.push(C)}),this.radii=X}init(){return t.init.apply(this,arguments),s.call(this),this.eventsToUnbind.push(i(this,"updatedData",function(){this.chart.series.forEach(e=>{e.type===this.type&&(e.isDirty=!0)},this)})),this}onMouseUp(e){if(e.fixedPosition&&!e.removed){let h,c=this.layout,C=this.parentNodeLayout;C&&c.options.dragBetweenSeries&&C.nodes.forEach(T=>{e&&e.marker&&T!==e.series.parentNode&&(h=c.getDistXY(e,T),c.vectorLength(h)-T.marker.radius-e.marker.radius<0&&(T.series.addPoint(w(e.options,{plotX:e.plotX,plotY:e.plotY}),!1),c.removeElementFromCollection(e,c.nodes),e.remove()))}),f.onMouseUp.apply(this,arguments)}}placeBubbles(e){let h=this.checkOverlap,c=this.positionBubble,C=[],T=1,L=0,K=0,F,it=[],j,l=e.sort((X,R)=>R[2]-X[2]);if(l.length){if(C.push([[0,0,l[0][2],l[0][3],l[0][4]]]),l.length>1)for(C.push([[0,0-l[1][2]-l[0][2],l[1][2],l[1][3],l[1][4]]]),j=2;j<l.length;j++)l[j][2]=l[j][2]||1,h(F=c(C[T][L],C[T-1][K],l[j]),C[T][0])?(C.push([]),K=0,C[T+1].push(c(C[T][L],C[T][0],l[j])),T++,L=0):T>1&&C[T-1][K+1]&&h(F,C[T-1][K+1])?(K++,C[T].push(c(C[T][L],C[T-1][K],l[j])),L++):(L++,C[T].push(F));this.chart.stages=C,this.chart.rawPositions=[].concat.apply([],C),this.resizeRadius(),it=this.chart.rawPositions}return it}pointAttribs(e,h){let c=this.options,C=e&&e.isParentNode,T=c.marker;C&&c.layoutAlgorithm&&c.layoutAlgorithm.parentNodeOptions&&(T=c.layoutAlgorithm.parentNodeOptions.marker);let L=T.fillOpacity,K=t.pointAttribs.call(this,e,h);return L!==1&&(K["fill-opacity"]=L),K}positionBubble(e,h,c){let C=Math.asin,T=Math.acos,L=Math.pow,K=Math.abs,F=(0,Math.sqrt)(L(e[0]-h[0],2)+L(e[1]-h[1],2)),it=T((L(F,2)+L(c[2]+h[2],2)-L(c[2]+e[2],2))/(2*(c[2]+h[2])*F)),j=C(K(e[0]-h[0])/F),l=(e[1]-h[1]<0?0:Math.PI)+it+j*((e[0]-h[0])*(e[1]-h[1])<0?1:-1),X=Math.cos(l),R=Math.sin(l);return[h[0]+(h[2]+c[2])*R,h[1]-(h[2]+c[2])*X,c[2],c[3],c[4]]}render(){let e=[];t.render.apply(this,arguments),!this.options.dataLabels.allowOverlap&&(this.data.forEach(h=>{A(h.dataLabels)&&h.dataLabels.forEach(c=>{e.push(c)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(e))}resizeRadius(){let e,h,c,C,T,L=this.chart,K=L.rawPositions,F=Math.min,it=Math.max,j=L.plotLeft,l=L.plotTop,X=L.plotHeight,R=L.plotWidth;for(let b of(e=c=Number.POSITIVE_INFINITY,h=C=Number.NEGATIVE_INFINITY,K))T=b[2],e=F(e,b[0]-T),h=it(h,b[0]+T),c=F(c,b[1]-T),C=it(C,b[1]+T);let U=[h-e,C-c],q=[(R-j)/U[0],(X-l)/U[1]],_=F.apply([],q);if(Math.abs(_-1)>1e-10){for(let b of K)b[2]*=_;this.placeBubbles(K)}else L.diffY=X/2+l-c-(C-c)/2,L.diffX=R/2+j-e-(h-e)/2}seriesBox(){let e,h=this.chart,c=this.data,C=Math.max,T=Math.min,L=[h.plotLeft,h.plotLeft+h.plotWidth,h.plotTop,h.plotTop+h.plotHeight];return c.forEach(K=>{y(K.plotX)&&y(K.plotY)&&K.marker.radius&&(e=K.marker.radius,L[0]=T(L[0],K.plotX-e),L[1]=C(L[1],K.plotX+e),L[2]=T(L[2],K.plotY-e),L[3]=C(L[3],K.plotY+e))}),v(L.width/L.height)?L:null}setVisible(){let e=this;t.setVisible.apply(e,arguments),e.parentNodeLayout&&e.graph?e.visible?(e.graph.show(),e.parentNode.dataLabel&&e.parentNode.dataLabel.show()):(e.graph.hide(),e.parentNodeLayout.removeElementFromCollection(e.parentNode,e.parentNodeLayout.nodes),e.parentNode.dataLabel&&e.parentNode.dataLabel.hide()):e.layout&&(e.visible?e.layout.addElementsToCollection(e.points,e.layout.nodes):e.points.forEach(h=>{e.layout.removeElementFromCollection(h,e.layout.nodes)}))}translate(){let e,h,c,C=this.chart,T=this.data,L=this.index,K=this.options.useSimulation;for(let F of(this.processedXData=this.xData,this.generatePoints(),y(C.allDataPoints)||(C.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),K?c=C.allDataPoints:(c=this.placeBubbles(C.allDataPoints),this.options.draggable=!1),c))F[3]===L&&(e=T[F[4]],h=m(F[2],void 0),K||(e.plotX=F[0]-C.plotLeft+C.diffX,e.plotY=F[1]-C.plotTop+C.diffY),v(h)&&(e.marker=S(e.marker,{radius:h,width:2*h,height:2*h}),e.radius=h));K&&this.deferLayout(),I(this,"afterTranslate")}}return O.defaultOptions=w(o.defaultOptions,N),S(O.prototype,{pointClass:Y,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:a,alignDataLabel:t.alignDataLabel,indexateNodes:u,onMouseDown:f.onMouseDown,onMouseMove:f.onMouseMove,redrawHalo:f.redrawHalo,searchPoint:u}),D.registerSeriesType("packedbubble",O),O}),st(p,"Series/Polygon/PolygonSeriesDefaults.js",[],function(){return{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}}),st(p,"Series/Polygon/PolygonSeries.js",[p["Core/Globals.js"],p["Series/Polygon/PolygonSeriesDefaults.js"],p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"]],function(d,f,M,x){let{noop:Y}=d,{area:N,line:k,scatter:D}=M.seriesTypes,{extend:G,merge:z}=x;class P extends D{getGraphPath(){let n=k.prototype.getGraphPath.call(this),u=n.length+1;for(;u--;)(u===n.length||n[u][0]==="M")&&u>0&&n.splice(u,0,["Z"]);return this.areaPath=n,n}drawGraph(){this.options.fillColor=this.color,N.prototype.drawGraph.call(this)}}return P.defaultOptions=z(D.defaultOptions,f),G(P.prototype,{type:"polygon",drawTracker:k.prototype.drawTracker,setStackedPoints:Y}),M.registerSeriesType("polygon",P),P}),st(p,"Core/Axis/RadialAxisDefaults.js",[],function(){return{circular:{gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},radial:{gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",padding:5,x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},radialGauge:{endOnTick:!1,gridLineWidth:0,labels:{align:"center",distance:-25,x:0,y:void 0},lineWidth:1,minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickPosition:"inside",tickWidth:2,title:{rotation:0,text:""},zIndex:2}}}),st(p,"Core/Axis/RadialAxis.js",[p["Core/Axis/RadialAxisDefaults.js"],p["Core/Defaults.js"],p["Core/Globals.js"],p["Core/Utilities.js"]],function(d,f,M,x){var Y;let{defaultOptions:N}=f,{composed:k,noop:D}=M,{addEvent:G,correctFloat:z,defined:P,extend:g,fireEvent:n,isObject:u,merge:t,pick:o,pushUnique:a,relativeLength:s,wrap:i}=x;return function(r){function y(){this.autoConnect=this.isCircular&&o(this.userMax,this.options.max)===void 0&&z(this.endAngleRad-this.startAngleRad)===z(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function S(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(b=>this.ticks[b]&&this.ticks[b].label).filter(b=>!!b)}}function I(){return D}function A(b,B,E){let V=this.pane.center,$=b.value,H,Z,J;return this.isCircular?(P($)?b.point&&(b.point.shapeArgs||{}).start&&($=this.chart.inverted?this.translate(b.point.rectPlotY,!0):b.point.x):(Z=b.chartX||0,J=b.chartY||0,$=this.translate(Math.atan2(J-E,Z-B)-this.startAngleRad,!0)),Z=(H=this.getPosition($)).x,J=H.y):(P($)||(Z=b.chartX,J=b.chartY),P(Z)&&P(J)&&(E=V[1]+this.chart.plotTop,$=this.translate(Math.min(Math.sqrt(Math.pow(Z-B,2)+Math.pow(J-E,2)),V[2]/2)-V[3]/2,!0))),[$,Z||0,J||0]}function v(b,B,E){let V=this.pane.center,$=this.chart,H=this.left||0,Z=this.top||0,J,Q=o(B,V[2]/2-this.offset),tt;return E===void 0&&(E=this.horiz?0:this.center&&-this.center[3]/2),E&&(Q+=E),this.isCircular||B!==void 0?((tt=this.chart.renderer.symbols.arc(H+V[0],Z+V[1],Q,Q,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[H+V[0]],tt.yBounds=[Z+V[1]-Q]):(J=this.postTranslate(this.angleRad,Q),tt=[["M",this.center[0]+$.plotLeft,this.center[1]+$.plotTop],["L",J.x,J.y]]),tt}function w(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function m(b,B,E){let V=this.chart,$=pt=>{if(typeof pt=="string"){let mt=parseInt(pt,10);return at.test(pt)&&(mt=mt*J/100),mt}return pt},H=this.center,Z=this.startAngleRad,J=H[2]/2,Q=Math.min(this.offset,0),tt=this.left||0,ot=this.top||0,at=/%$/,lt=this.isCircular,et,rt,nt,ht,dt,ct,ut=o($(E.outerRadius),J),ft=$(E.innerRadius),gt=o($(E.thickness),10);if(this.options.gridLineInterpolation==="polygon")ct=this.getPlotLinePath({value:b}).concat(this.getPlotLinePath({value:B,reverse:!0}));else{b=Math.max(b,this.min),B=Math.min(B,this.max);let pt=this.translate(b),mt=this.translate(B);lt||(ut=pt||0,ft=mt||0),E.shape!=="circle"&&lt?(et=Z+(pt||0),rt=Z+(mt||0)):(et=-Math.PI/2,rt=1.5*Math.PI,dt=!0),ut-=Q,gt-=Q,ct=V.renderer.symbols.arc(tt+H[0],ot+H[1],ut,ut,{start:Math.min(et,rt),end:Math.max(et,rt),innerR:o(ft,ut-gt),open:dt,borderRadius:E.borderRadius}),lt&&(nt=(rt+et)/2,ht=tt+H[0]+H[2]/2*Math.cos(nt),ct.xBounds=nt>-Math.PI/2&&nt<Math.PI/2?[ht,V.plotWidth]:[0,ht],ct.yBounds=[ot+H[1]+H[2]/2*Math.sin(nt)],ct.yBounds[0]+=nt>-Math.PI&&nt<0||nt>Math.PI?-10:10)}return ct}function O(b){let B=this.pane.center,E=this.chart,V=E.inverted,$=b.reverse,H=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},Z=H.innerRadius||"0%",J=H.outerRadius||"100%",Q=B[0]+E.plotLeft,tt=B[1]+E.plotTop,ot=this.height,at=b.isCrosshair,lt=B[3]/2,et=b.value,rt,nt,ht,dt,ct,ut,ft,gt,pt,mt=this.getPosition(et),xt=mt.x,Pt=mt.y;if(at&&(et=(gt=this.getCrosshairPosition(b,Q,tt))[0],xt=gt[1],Pt=gt[2]),this.isCircular)nt=Math.sqrt(Math.pow(xt-Q,2)+Math.pow(Pt-tt,2)),ht=typeof Z=="string"?s(Z,1):Z/nt,dt=typeof J=="string"?s(J,1):J/nt,B&&lt&&(ht<(rt=lt/nt)&&(ht=rt),dt<rt&&(dt=rt)),pt=[["M",Q+ht*(xt-Q),tt-ht*(tt-Pt)],["L",xt-(1-dt)*(xt-Q),Pt+(1-dt)*(tt-Pt)]];else if((et=this.translate(et))&&(et<0||et>ot)&&(et=0),this.options.gridLineInterpolation==="circle")pt=this.getLinePath(0,et,lt);else if(pt=[],E[V?"yAxis":"xAxis"].forEach(bt=>{bt.pane===this.pane&&(ct=bt)}),ct){ft=ct.tickPositions,ct.autoConnect&&(ft=ft.concat([ft[0]])),$&&(ft=ft.slice().reverse()),et&&(et+=lt);for(let bt=0;bt<ft.length;bt++)ut=ct.getPosition(ft[bt],et),pt.push(bt?["L",ut.x,ut.y]:["M",ut.x,ut.y])}return pt}function W(b,B){let E=this.translate(b);return this.postTranslate(this.isCircular?E:this.angleRad,o(this.isCircular?B:E<0?0:E,this.center[2]/2)-this.offset)}function e(){let b=this.center,B=this.chart,E=this.options.title;return{x:B.plotLeft+b[0]+(E.x||0),y:B.plotTop+b[1]-{high:.5,middle:.25,low:0}[E.align]*b[2]+(E.y||0)}}function h(b){b.beforeSetTickPositions=y,b.createLabelCollector=S,b.getCrosshairPosition=A,b.getLinePath=v,b.getOffset=w,b.getPlotBandPath=m,b.getPlotLinePath=O,b.getPosition=W,b.getTitlePosition=e,b.postTranslate=l,b.setAxisSize=R,b.setAxisTranslation=U,b.setOptions=q}function c(){let b=this.chart,B=this.options,E=b.angular&&this.isXAxis,V=this.pane,$=V&&V.options;if(!E&&V&&(b.angular||b.polar)){let H=2*Math.PI,Z=(o($.startAngle,0)-90)*Math.PI/180,J=(o($.endAngle,o($.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(B.angle||0)*Math.PI/180,this.startAngleRad=Z,this.endAngleRad=J,this.offset=B.offset||0;let Q=(Z%H+H)%H,tt=(J%H+H)%H;Q>Math.PI&&(Q-=H),tt>Math.PI&&(tt-=H),this.normalizedStartAngleRad=Q,this.normalizedEndAngleRad=tt}}function C(b){this.isRadial&&(b.align=void 0,b.preventDefault())}function T(){if(this.chart&&this.chart.labelCollectors){let b=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;b>=0&&this.chart.labelCollectors.splice(b,1)}}function L(b){let B,E=this.chart,V=E.angular,$=E.polar,H=this.isXAxis,Z=this.coll,J=b.userOptions.pane||0,Q=this.pane=E.pane&&E.pane[J];if(Z==="colorAxis"){this.isRadial=!1;return}V?(V&&H?(this.isHidden=!0,this.createLabelCollector=I,this.getOffset=D,this.redraw=X,this.render=X,this.setScale=D,this.setCategories=D,this.setTitle=D):h(this),B=!H):$&&(h(this),B=this.horiz),V||$?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&E.labelCollectors.push(this.labelCollector)):this.isRadial=!1,Q&&B&&(Q.axis=this),this.isCircular=B}function K(){this.isRadial&&this.beforeSetTickPositions()}function F(b){let B=this.label;if(!B)return;let E=this.axis,V=B.getBBox(),$=E.options.labels,H=(E.translate(this.pos)+E.startAngleRad+Math.PI/2)/Math.PI*180%360,Z=Math.round(H),J=P($.y)?0:-(.3*V.height),Q=$.y,tt,ot=20,at=$.align,lt="end",et=Z<0?Z+360:Z,rt=et,nt=0,ht=0;E.isRadial&&(tt=E.getPosition(this.pos,E.center[2]/2+s(o($.distance,-25),E.center[2]/2,-E.center[2]/2)),$.rotation==="auto"?B.attr({rotation:H}):P(Q)||(Q=E.chart.renderer.fontMetrics(B).b-V.height/2),P(at)||(E.isCircular?(V.width>E.len*E.tickInterval/(E.max-E.min)&&(ot=0),at=H>ot&&H<180-ot?"left":H>180+ot&&H<360-ot?"right":"center"):at="center",B.attr({align:at})),at==="auto"&&E.tickPositions.length===2&&E.isCircular&&(et>90&&et<180?et=180-et:et>270&&et<=360&&(et=540-et),rt>180&&rt<=360&&(rt=360-rt),(E.pane.options.startAngle===Z||E.pane.options.startAngle===Z+360||E.pane.options.startAngle===Z-360)&&(lt="start"),at=Z>=-90&&Z<=90||Z>=-360&&Z<=-270||Z>=270&&Z<=360?lt==="start"?"right":"left":lt==="start"?"left":"right",rt>70&&rt<110&&(at="center"),et<15||et>=180&&et<195?nt=.3*V.height:et>=15&&et<=35?nt=lt==="start"?0:.75*V.height:et>=195&&et<=215?nt=lt==="start"?.75*V.height:0:et>35&&et<=90?nt=lt==="start"?-(.25*V.height):V.height:et>215&&et<=270&&(nt=lt==="start"?V.height:-(.25*V.height)),rt<15?ht=lt==="start"?-(.15*V.height):.15*V.height:rt>165&&rt<=180&&(ht=lt==="start"?.15*V.height:-(.15*V.height)),B.attr({align:at}),B.translate(ht,nt+J)),b.pos.x=tt.x+($.x||0),b.pos.y=tt.y+(Q||0))}function it(b){this.axis.getPosition&&g(b.pos,this.axis.getPosition(this.pos))}function j({options:b}){b.xAxis&&t(!0,r.radialDefaultOptions.circular,b.xAxis),b.yAxis&&t(!0,r.radialDefaultOptions.radialGauge,b.yAxis)}function l(b,B){let E=this.chart,V=this.center;return b=this.startAngleRad+b,{x:E.plotLeft+V[0]+Math.cos(b)*B,y:E.plotTop+V[1]+Math.sin(b)*B}}function X(){this.isDirty=!1}function R(){let b,B;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),b=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(B=this.postTranslate(this.angleRad,b[3]/2),b[0]=B.x-this.chart.plotLeft,b[1]=B.y-this.chart.plotTop),this.len=this.width=this.height=(b[2]-b[3])*o(this.sector,1)/2)}function U(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)}function q(b){let{coll:B}=this,{angular:E,inverted:V,polar:$}=this.chart,H={};E?this.isXAxis||(H=t(N.yAxis,r.radialDefaultOptions.radialGauge)):$&&(H=this.horiz?t(N.xAxis,r.radialDefaultOptions.circular):t(B==="xAxis"?N.xAxis:N.yAxis,r.radialDefaultOptions.radial)),V&&B==="yAxis"&&(H.stackLabels=u(N.yAxis,!0)?N.yAxis.stackLabels:{},H.reversedStacks=!0);let Z=this.options=t(H,b);Z.plotBands||(Z.plotBands=[]),n(this,"afterSetOptions")}function _(b,B,E,V,$,H,Z){let J,Q=this.axis;return Q.isRadial?["M",B,E,"L",(J=Q.getPosition(this.pos,Q.center[2]/2+V)).x,J.y]:b.call(this,B,E,V,$,H,Z)}r.radialDefaultOptions=t(d),r.compose=function(b,B){return a(k,"Axis.Radial")&&(G(b,"afterInit",c),G(b,"autoLabelAlign",C),G(b,"destroy",T),G(b,"init",L),G(b,"initialAxisTranslation",K),G(B,"afterGetLabelPosition",F),G(B,"afterGetPosition",it),G(M,"setOptions",j),i(B.prototype,"getMarkPath",_)),b}}(Y||(Y={})),Y}),st(p,"Series/PolarComposition.js",[p["Core/Animation/AnimationUtilities.js"],p["Core/Globals.js"],p["Core/Series/Series.js"],p["Extensions/Pane/Pane.js"],p["Core/Axis/RadialAxis.js"],p["Core/Utilities.js"]],function(d,f,M,x,Y,N){let{animObject:k}=d,{composed:D}=f,{addEvent:G,defined:z,find:P,isNumber:g,merge:n,pick:u,pushUnique:t,relativeLength:o,splat:a,uniqueKey:s,wrap:i}=N;function r(){(this.pane||[]).forEach(j=>{j.render()})}function y(j){let l=j.args[0].xAxis,X=j.args[0].yAxis,R=j.args[0].chart;l&&X&&(X.gridLineInterpolation==="polygon"?(l.startOnTick=!0,l.endOnTick=!0):l.gridLineInterpolation==="polygon"&&R.inverted&&(X.startOnTick=!0,X.endOnTick=!0))}function S(){this.pane||(this.pane=[]),this.options.pane=a(this.options.pane),this.options.pane.forEach(j=>{new x(j,this)},this)}function I(j){let l=j.args.marker,X=this.chart.xAxis[0],R=this.chart.yAxis[0],U=this.chart.inverted,q=U?R:X,_=U?X:R;if(this.chart.polar){j.preventDefault();let b=(l.attr?l.attr("start"):l.start)-q.startAngleRad,B=l.attr?l.attr("r"):l.r,E=(l.attr?l.attr("end"):l.end)-q.startAngleRad,V=l.attr?l.attr("innerR"):l.innerR;j.result.x=b+q.pos,j.result.width=E-b,j.result.y=_.len+_.pos-B,j.result.height=B-V}}function A(j){let l=this.chart;if(l.polar&&l.hoverPane&&l.hoverPane.axis){j.preventDefault();let X=l.hoverPane.center,R=l.mouseDownX||0,U=l.mouseDownY||0,q=j.args.chartY,_=j.args.chartX,b=2*Math.PI,B=l.hoverPane.axis.startAngleRad,E=l.hoverPane.axis.endAngleRad,V=l.inverted?l.xAxis[0]:l.yAxis[0],$={},H="arc";if($.x=X[0]+l.plotLeft,$.y=X[1]+l.plotTop,this.zoomHor){let Z=B>0?E-B:Math.abs(B)+Math.abs(E),J=Math.atan2(U-l.plotTop-X[1],R-l.plotLeft-X[0])-B,Q=Math.atan2(q-l.plotTop-X[1],_-l.plotLeft-X[0])-B;$.r=X[2]/2,$.innerR=X[3]/2,J<=0&&(J+=b),Q<=0&&(Q+=b),Q<J&&(Q=[J,J=Q][0]),Z<b&&B+Q>E+(b-Z)/2&&(Q=J,J=B<=0?B:0);let tt=$.start=Math.max(J+B,B),ot=$.end=Math.min(Q+B,E);if(V.options.gridLineInterpolation==="polygon"){let at=l.hoverPane.axis,lt=tt-at.startAngleRad+at.pos,et=V.getPlotLinePath({value:V.max}),rt=at.toValue(lt),nt=at.toValue(lt+(ot-tt));if(rt<at.getExtremes().min){let{min:ht,max:dt}=at.getExtremes();rt=dt-(ht-rt)}if(nt<at.getExtremes().min){let{min:ht,max:dt}=at.getExtremes();nt=dt-(ht-nt)}nt<rt&&(nt=[rt,rt=nt][0]),(et=O(et,rt,nt,at)).push(["L",X[0]+l.plotLeft,l.plotTop+X[1]]),$.d=et,H="path"}}if(this.zoomVert){let Z=l.inverted?l.xAxis[0]:l.yAxis[0],J=Math.sqrt(Math.pow(R-l.plotLeft-X[0],2)+Math.pow(U-l.plotTop-X[1],2)),Q=Math.sqrt(Math.pow(_-l.plotLeft-X[0],2)+Math.pow(q-l.plotTop-X[1],2));if(Q<J&&(J=[Q,Q=J][0]),Q>X[2]/2&&(Q=X[2]/2),J<X[3]/2&&(J=X[3]/2),this.zoomHor||($.start=B,$.end=E),$.r=Q,$.innerR=J,Z.options.gridLineInterpolation==="polygon"){let tt=Z.toValue(Z.len+Z.pos-J),ot=Z.toValue(Z.len+Z.pos-Q),at=Z.getPlotLinePath({value:ot}).concat(Z.getPlotLinePath({value:tt,reverse:!0}));$.d=at,H="path"}}if(this.zoomHor&&this.zoomVert&&V.options.gridLineInterpolation==="polygon"){let Z=l.hoverPane.axis,J=$.start||0,Q=$.end||0,tt=J-Z.startAngleRad+Z.pos,ot=Z.toValue(tt),at=Z.toValue(tt+(Q-J));if($.d instanceof Array){let lt=$.d.slice(0,$.d.length/2),et=$.d.slice($.d.length/2,$.d.length);et=[...et].reverse();let rt=l.hoverPane.axis;lt=O(lt,ot,at,rt),(et=O(et,ot,at,rt))&&(et[0][0]="L"),et=[...et].reverse(),$.d=lt.concat(et),H="path"}}j.attrs=$,j.shapeType=H}}function v(){let j=this.chart;j.polar&&(this.polar=new it(this),j.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function w(){if(this.chart.polar&&this.xAxis){let{xAxis:j,yAxis:l}=this,X=this.chart;this.kdByAngle=X.tooltip&&X.tooltip.shared,this.kdByAngle||X.inverted?this.searchPoint=m:this.options.findNearestPointBy="xy";let R=this.points,U=R.length;for(;U--;)this.is("column")||this.is("columnrange")||this.polar.toXY(R[U]),X.hasParallelCoordinates||this.yAxis.reversed||(u(R[U].y,Number.MIN_VALUE)<l.min||R[U].x<j.min||R[U].x>j.max?(R[U].isNull=!0,R[U].plotY=NaN):R[U].isNull=R[U].isValid&&!R[U].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(G(this,"afterRender",function(){let q;X.polar&&this.options.clip!==!1&&(q=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:q[0],y:q[1],r:q[2]/2,innerR:q[3]/2}):this.clipCircle=function(_,b,B,E,V){let $=s(),H=_.createElement("clipPath").attr({id:$}).add(_.defs),Z=V?_.arc(b,B,E,V,0,2*Math.PI).add(H):_.circle(b,B,E).add(H);return Z.id=$,Z.clipPath=H,Z}(X.renderer,q[0],q[1],q[2]/2,q[3]/2),this.group.clip(this.clipCircle),this.setClip=f.noop)})))}}function m(j){let l=this.chart,X=this.xAxis,R=this.yAxis,U=X.pane&&X.pane.center,q=j.chartX-(U&&U[0]||0)-l.plotLeft,_=j.chartY-(U&&U[1]||0)-l.plotTop,b=l.inverted?{clientX:j.chartX-R.pos,plotY:j.chartY-X.pos}:{clientX:180+-180/Math.PI*Math.atan2(q,_)};return this.searchKDTree(b)}function O(j,l,X,R){let U=R.tickInterval,q=R.tickPositions,_=P(q,B=>B>=X),b=P([...q].reverse(),B=>B<=l);return z(_)||(_=q[q.length-1]),z(b)||(b=q[0],_+=U,j[0][0]="L",j.unshift(j[j.length-3])),(j=j.slice(q.indexOf(b),q.indexOf(_)+1))[0][0]="M",j}function W(j,l){return P(this.pane||[],X=>X.options.id===l)||j.call(this,l)}function e(j,l,X,R,U,q){let _,b,B,E=this.chart,V=u(R.inside,!!this.options.stacking);if(E.polar){if(_=l.rectPlotX/Math.PI*180,E.inverted)this.forceDL=E.isInsidePlot(l.plotX,l.plotY),V&&l.shapeArgs?(b=l.shapeArgs,U=n(U,{x:(B=this.yAxis.postTranslate(((b.start||0)+(b.end||0))/2-this.xAxis.startAngleRad,l.barX+l.pointWidth/2)).x-E.plotLeft,y:B.y-E.plotTop})):l.tooltipPos&&(U=n(U,{x:l.tooltipPos[0],y:l.tooltipPos[1]})),R.align=u(R.align,"center"),R.verticalAlign=u(R.verticalAlign,"middle");else{var $;let H,Z;($=R).align===null&&(H=_>20&&_<160?"left":_>200&&_<340?"right":"center",$.align=H),$.verticalAlign===null&&(Z=_<45||_>315?"bottom":_>135&&_<225?"top":"middle",$.verticalAlign=Z),R=$}M.prototype.alignDataLabel.call(this,l,X,R,U,q),this.isRadialBar&&l.shapeArgs&&l.shapeArgs.start===l.shapeArgs.end?X.hide():X.show()}else j.call(this,l,X,R,U,q)}function h(){let j=this.options,l=j.stacking,X=this.chart,R=this.xAxis,U=this.yAxis,q=U.reversed,_=U.center,b=R.startAngleRad,B=R.endAngleRad-b,E=j.threshold,V=0,$,H,Z,J,Q,tt=0,ot=0,at,lt,et,rt,nt,ht,dt,ct;if(R.isRadial)for(Z=($=this.points).length,J=U.translate(U.min),Q=U.translate(U.max),E=j.threshold||0,X.inverted&&g(E)&&z(V=U.translate(E))&&(V<0?V=0:V>B&&(V=B),this.translatedThreshold=V+b);Z--;){if(ht=(H=$[Z]).barX,lt=H.x,et=H.y,H.shapeType="arc",X.inverted){H.plotY=U.translate(et),l&&U.stacking?(nt=U.stacking.stacks[(et<0?"-":"")+this.stackKey],this.visible&&nt&&nt[lt]&&!H.isNull&&(rt=nt[lt].points[this.getStackIndicator(void 0,lt,this.index).key],tt=U.translate(rt[0]),ot=U.translate(rt[1]),z(tt)&&(tt=N.clamp(tt,0,B)))):(tt=V,ot=H.plotY),tt>ot&&(ot=[tt,tt=ot][0]),q?ot>J?ot=J:tt<Q?tt=Q:(tt>J||ot<Q)&&(tt=ot=B):tt<J?tt=J:ot>Q?ot=Q:(ot<J||tt>Q)&&(tt=ot=0),U.min>U.max&&(tt=ot=q?B:0),tt+=b,ot+=b,_&&(H.barX=ht+=_[3]/2),dt=Math.max(ht,0),ct=Math.max(ht+H.pointWidth,0);let ut=j.borderRadius,ft=o((typeof ut=="object"?ut.radius:ut)||0,ct-dt);H.shapeArgs={x:_[0],y:_[1],r:ct,innerR:dt,start:tt,end:ot,borderRadius:ft},H.opacity=tt===ot?0:void 0,H.plotY=(z(this.translatedThreshold)&&(tt<this.translatedThreshold?tt:ot))-b}else tt=ht+b,H.shapeArgs=this.polar.arc(H.yBottom,H.plotY,tt,tt+H.pointWidth),H.shapeArgs.borderRadius=0;this.polar.toXY(H),X.inverted?(at=U.postTranslate(H.rectPlotY,ht+H.pointWidth/2),H.tooltipPos=[at.x-X.plotLeft,at.y-X.plotTop]):H.tooltipPos=[H.plotX,H.plotY],_&&(H.ttBelow=H.plotY>_[1])}}function c(j,l){let X,R,U=this;if(this.chart.polar){l=l||this.points;for(let _=0;_<l.length;_++)if(!l[_].isNull){X=_;break}this.options.connectEnds!==!1&&X!==void 0&&(this.connectEnds=!0,l.splice(l.length,0,l[X]),R=!0),l.forEach(_=>{_.polarPlotY===void 0&&U.polar.toXY(_)})}let q=j.apply(this,[].slice.call(arguments,1));return R&&l.pop(),q}function C(j,l){let X=this.chart,R={xAxis:[],yAxis:[]};return X.polar?X.axes.forEach(U=>{if(U.coll==="colorAxis")return;let q=U.isXAxis,_=U.center,b=l.chartX-_[0]-X.plotLeft,B=l.chartY-_[1]-X.plotTop;R[q?"xAxis":"yAxis"].push({axis:U,value:U.translate(q?Math.PI-Math.atan2(b,B):Math.sqrt(Math.pow(b,2)+Math.pow(B,2)),!0)})}):R=j.call(this,l),R}function T(j,l){this.chart.polar||j.call(this,l)}function L(j,l){let X=this,R=this.chart,U=this.group,q=this.markerGroup,_=this.xAxis&&this.xAxis.center,b=R.plotLeft,B=R.plotTop,E=this.options.animation,V,$,H,Z,J,Q;R.polar?X.isRadialBar?l||(X.startAngleRad=u(X.translatedThreshold,X.xAxis.startAngleRad),f.seriesTypes.pie.prototype.animate.call(X,l)):(E=k(E),X.is("column")?l||($=_[3]/2,X.points.forEach(tt=>{H=tt.graphic,J=(Z=tt.shapeArgs)&&Z.r,Q=Z&&Z.innerR,H&&Z&&(H.attr({r:$,innerR:$}),H.animate({r:J,innerR:Q},X.options.animation))})):l?(V={translateX:_[0]+b,translateY:_[1]+B,scaleX:.001,scaleY:.001},U.attr(V),q&&q.attr(V)):(V={translateX:b,translateY:B,scaleX:1,scaleY:1},U.animate(V,E),q&&q.animate(V,E))):j.call(this,l)}function K(j,l,X,R){let U,q;if(this.chart.polar)if(R){let _=(q=function B(E,V,$,H){let Z,J,Q,tt,ot,at,lt=H?1:0,et=(Z=V>=0&&V<=E.length-1?V:V<0?E.length-1+V:0)-1<0?E.length-(1+lt):Z-1,rt=Z+1>E.length-1?lt:Z+1,nt=E[et],ht=E[rt],dt=nt.plotX,ct=nt.plotY,ut=ht.plotX,ft=ht.plotY,gt=E[Z].plotX,pt=E[Z].plotY;J=(1.5*gt+dt)/2.5,Q=(1.5*pt+ct)/2.5,tt=(1.5*gt+ut)/2.5,ot=(1.5*pt+ft)/2.5;let mt=Math.sqrt(Math.pow(J-gt,2)+Math.pow(Q-pt,2)),xt=Math.sqrt(Math.pow(tt-gt,2)+Math.pow(ot-pt,2)),Pt=Math.atan2(Q-pt,J-gt);at=Math.PI/2+(Pt+Math.atan2(ot-pt,tt-gt))/2,Math.abs(Pt-at)>Math.PI/2&&(at-=Math.PI),J=gt+Math.cos(at)*mt,Q=pt+Math.sin(at)*mt;let bt={rightContX:tt=gt+Math.cos(Math.PI+at)*xt,rightContY:ot=pt+Math.sin(Math.PI+at)*xt,leftContX:J,leftContY:Q,plotX:gt,plotY:pt};return $&&(bt.prevPointCont=B(E,et,!1,H)),bt}(l,R,!0,this.connectEnds)).prevPointCont&&q.prevPointCont.rightContX,b=q.prevPointCont&&q.prevPointCont.rightContY;U=["C",g(_)?_:q.plotX,g(b)?b:q.plotY,g(q.leftContX)?q.leftContX:q.plotX,g(q.leftContY)?q.leftContY:q.plotY,q.plotX,q.plotY]}else U=["M",X.plotX,X.plotY];else U=j.call(this,l,X,R);return U}function F(j,l,X=this.plotY){if(!this.destroyed){let{plotX:R,series:U}=this,{chart:q}=U;return q.polar&&g(R)&&g(X)?[R+(l?q.plotLeft:0),X+(l?q.plotTop:0)]:j.call(this,l,X)}}class it{static compose(l,X,R,U,q,_,b,B,E,V){if(x.compose(X,R),Y.compose(l,q),t(D,"Polar")){let $=X.prototype,H=_.prototype,Z=R.prototype,J=U.prototype;if(G(X,"afterDrawChartBox",r),G(X,"getAxes",S),G(X,"init",y),i($,"get",W),i(Z,"getCoordinates",C),i(Z,"pinch",T),G(R,"getSelectionMarkerAttrs",A),G(R,"getSelectionBox",I),G(U,"afterInit",v),G(U,"afterTranslate",w,{order:2}),G(U,"afterColumnTranslate",h,{order:4}),i(J,"animate",L),i(H,"pos",F),B){let Q=B.prototype;i(Q,"alignDataLabel",e),i(Q,"animate",L)}if(E&&i(E.prototype,"getGraphPath",c),V){let Q=V.prototype;i(Q,"getPointSpline",K),b&&(b.prototype.getPointSpline=Q.getPointSpline)}}}constructor(l){this.series=l}arc(l,X,R,U){let q=this.series,_=q.xAxis.center,b=q.yAxis.len,B=_[3]/2,E=b-X+B,V=b-u(l,b)+B;return q.yAxis.reversed&&(E<0&&(E=B),V<0&&(V=B)),{x:_[0],y:_[1],r:E,innerR:V,start:R,end:U}}toXY(l){let X=this.series,R=X.chart,U=X.xAxis,q=X.yAxis,_=l.plotX,b=R.inverted,B=l.y,E=l.plotY,V=b?_:q.len-E,$;if(b&&X&&!X.isRadialBar&&(l.plotY=E=g(B)?q.translate(B):0),l.rectPlotX=_,l.rectPlotY=E,q.center&&(V+=q.center[3]/2),g(E)){let H=b?q.postTranslate(E,V):U.postTranslate(_,V);l.plotX=l.polarPlotX=H.x-R.plotLeft,l.plotY=l.polarPlotY=H.y-R.plotTop}X.kdByAngle?(($=(_/Math.PI*180+U.pane.options.startAngle)%360)<0&&($+=360),l.clientX=$):l.clientX=l.plotX}}return it}),st(p,"Core/Axis/WaterfallAxis.js",[p["Core/Globals.js"],p["Core/Axis/Stacking/StackItem.js"],p["Core/Utilities.js"]],function(d,f,M){var x;let{composed:Y}=d,{addEvent:N,objectEach:k,pushUnique:D}=M;return function(G){function z(){let t=this.waterfall.stacks;t&&(t.changed=!1,delete t.alreadyChanged)}function P(){let t=this.options.stackLabels;t&&t.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function g(){this.waterfall||(this.waterfall=new u(this))}function n(){let t=this.axes;for(let o of this.series)if(o.options.stacking){for(let a of t)a.isXAxis||(a.waterfall.stacks.changed=!0);break}}G.compose=function(t,o){D(Y,"Axis.Waterfall")&&(N(t,"init",g),N(t,"afterBuildStacks",z),N(t,"afterRender",P),N(o,"beforeRedraw",n))};class u{constructor(o){this.axis=o,this.stacks={changed:!1}}renderStackTotals(){let o=this.axis,a=o.waterfall.stacks,s=o.stacking&&o.stacking.stackTotalGroup,i=new f(o,o.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=i,s&&k(a,r=>{k(r,(y,S)=>{i.total=y.stackTotal,i.x=+S,y.label&&(i.label=y.label),f.prototype.render.call(i,s),y.label=i.label,delete i.label})}),i.total=null}}G.Composition=u}(x||(x={})),x}),st(p,"Series/Waterfall/WaterfallPoint.js",[p["Series/Column/ColumnSeries.js"],p["Core/Series/Point.js"],p["Core/Utilities.js"]],function(d,f,M){let{isNumber:x}=M;class Y extends d.prototype.pointClass{getClassName(){let k=f.prototype.getClassName.call(this);return this.isSum?k+=" highcharts-sum":this.isIntermediateSum&&(k+=" highcharts-intermediate-sum"),k}isValid(){return x(this.y)||this.isSum||!!this.isIntermediateSum}}return Y}),st(p,"Series/Waterfall/WaterfallSeriesDefaults.js",[],function(){return{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}}),st(p,"Series/Waterfall/WaterfallSeries.js",[p["Core/Series/SeriesRegistry.js"],p["Core/Utilities.js"],p["Core/Axis/WaterfallAxis.js"],p["Series/Waterfall/WaterfallPoint.js"],p["Series/Waterfall/WaterfallSeriesDefaults.js"]],function(d,f,M,x,Y){let{column:N,line:k}=d.seriesTypes,{addEvent:D,arrayMax:G,arrayMin:z,correctFloat:P,crisp:g,extend:n,isNumber:u,merge:t,objectEach:o,pick:a}=f;function s(r,y){return Object.hasOwnProperty.call(r,y)}class i extends N{generatePoints(){N.prototype.generatePoints.apply(this);for(let y=0,S=this.points.length;y<S;y++){let I=this.points[y],A=this.processedYData[y];u(A)&&(I.isIntermediateSum||I.isSum)&&(I.y=P(A))}}processData(y){let S,I,A,v,w,m,O=this.options,W=this.yData,e=O.data,h=W.length,c=O.threshold||0;A=I=v=w=0;for(let C=0;C<h;C++)m=W[C],S=e&&e[C]?e[C]:{},m==="sum"||S.isSum?W[C]=P(A):m==="intermediateSum"||S.isIntermediateSum?(W[C]=P(I),I=0):(A+=m,I+=m),v=Math.min(A,v),w=Math.max(A,w);super.processData.call(this,y),O.stacking||(this.dataMin=v+c,this.dataMax=w)}toYData(y){return y.isSum?"sum":y.isIntermediateSum?"intermediateSum":y.y}updateParallelArrays(y,S){super.updateParallelArrays.call(this,y,S),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(y,S){let I=this.options.upColor;I&&!y.options.color&&u(y.y)&&(y.color=y.y>0?I:void 0);let A=N.prototype.pointAttribs.call(this,y,S);return delete A.dashstyle,A}getGraphPath(){return[["M",0,0]]}getCrispPath(){var W;let y=this.data.filter(e=>u(e.y)),S=this.yAxis,I=y.length,A=((W=this.graph)==null?void 0:W.strokeWidth())||0,v=this.xAxis.reversed,w=this.yAxis.reversed,m=this.options.stacking,O=[];for(let e=1;e<I;e++){if(!(this.options.connectNulls||u(this.data[y[e].index-1].y)))continue;let h=y[e].box,c=y[e-1],C=c.y||0,T=y[e-1].box;if(!h||!T)continue;let L=S.waterfall.stacks[this.stackKey],K=C>0?-T.height:0;if(L&&T&&h){let F,it=L[e-1];if(m){let j=it.connectorThreshold;F=g(S.translate(j,!1,!0,!1,!0)+(w?K:0),A)}else F=g(T.y+(c.minPointLengthOffset||0),A);O.push(["M",(T.x||0)+(v?0:T.width||0),F],["L",(h.x||0)+(v&&h.width||0),F])}if(T&&O.length&&(!m&&C<0&&!w||C>0&&w)){let F=O[O.length-2];F&&typeof F[2]=="number"&&(F[2]+=T.height||0);let it=O[O.length-1];it&&typeof it[2]=="number"&&(it[2]+=T.height||0)}}return O}drawGraph(){k.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(y){var U;let S=this.options,I=(U=y.waterfall)==null?void 0:U.stacks,A=S.threshold||0,v=this.stackKey,w=this.xData,m=w.length,O=A,W=O,e,h=0,c=0,C=0,T,L,K,F,it,j,l,X,R=(q,_,b,B)=>{if(e){if(T)for(;b<T;b++)e.stackState[b]+=B;else e.stackState[0]=q,T=e.stackState.length;e.stackState.push(e.stackState[T-1]+_)}};if(y.stacking&&I&&this.reserveSpace()){X=I.changed,(l=I.alreadyChanged)&&0>l.indexOf(v)&&(X=!0),I[v]||(I[v]={});let q=I[v];if(q)for(let _=0;_<m;_++)(!q[j=w[_]]||X)&&(q[j]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:X&&q[j]?q[j].label:void 0}),e=q[j],(it=this.yData[_])>=0?e.posTotal+=it:e.negTotal+=it,F=S.data[_],L=e.absolutePos=e.posTotal,K=e.absoluteNeg=e.negTotal,e.stackTotal=L+K,T=e.stackState.length,F&&F.isIntermediateSum?(R(C,c,0,C),C=c,c=A,O^=W,W^=O,O^=W):F&&F.isSum?(R(A,h,T,0),O=A):(R(O,it,0,h),F&&(h+=it,c+=it)),e.stateIndex++,e.threshold=O,O+=e.stackTotal;I.changed=!1,I.alreadyChanged||(I.alreadyChanged=[]),I.alreadyChanged.push(v)}}getExtremes(){let y,S,I,A=this.options.stacking;return A?(y=this.yAxis.waterfall.stacks,S=this.stackedYNeg=[],I=this.stackedYPos=[],A==="overlap"?o(y[this.stackKey],function(v){S.push(z(v.stackState)),I.push(G(v.stackState))}):o(y[this.stackKey],function(v){S.push(v.negTotal+v.threshold),I.push(v.posTotal+v.threshold)}),{dataMin:z(S),dataMax:G(I)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return i.defaultOptions=t(N.defaultOptions,Y),i.compose=M.compose,n(i.prototype,{pointValKey:"y",showLine:!0,pointClass:x}),D(i,"afterColumnTranslate",function(){let{options:r,points:y,yAxis:S}=this,I=a(r.minPointLength,5),A=I/2,v=r.threshold||0,w=r.stacking,m=S.waterfall.stacks[this.stackKey],O=v,W=v,e,h,c,C;for(let T=0;T<y.length;T++){let L=y[T],K=this.processedYData[T],F=n({x:0,y:0,width:0,height:0},L.shapeArgs||{});L.box=F;let it=[0,K],j=L.y||0;if(w){if(m){let R=m[T];w==="overlap"?(h=R.stackState[R.stateIndex--],e=j>=0?h:h-j,s(R,"absolutePos")&&delete R.absolutePos,s(R,"absoluteNeg")&&delete R.absoluteNeg):(j>=0?(h=R.threshold+R.posTotal,R.posTotal-=j,e=h):(h=R.threshold+R.negTotal,R.negTotal-=j,e=h-j),!R.posTotal&&u(R.absolutePos)&&s(R,"absolutePos")&&(R.posTotal=R.absolutePos,delete R.absolutePos),!R.negTotal&&u(R.absoluteNeg)&&s(R,"absoluteNeg")&&(R.negTotal=R.absoluteNeg,delete R.absoluteNeg)),L.isSum||(R.connectorThreshold=R.threshold+R.stackTotal),S.reversed?(c=j>=0?e-j:e+j,C=e):(c=e,C=e-j),L.below=c<=v,F.y=S.translate(c,!1,!0,!1,!0),F.height=Math.abs(F.y-S.translate(C,!1,!0,!1,!0));let U=S.waterfall.dummyStackItem;U&&(U.x=T,U.label=m[T].label,U.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[T],this.stackedYPos[T],void 0,this.xAxis))}}else e=Math.max(W,W+j)+it[0],F.y=S.translate(e,!1,!0,!1,!0),L.isSum?(F.y=S.translate(it[1],!1,!0,!1,!0),F.height=Math.min(S.translate(it[0],!1,!0,!1,!0),S.len)-F.y,L.below=it[1]<=v):L.isIntermediateSum?(j>=0?(c=it[1]+O,C=O):(c=O,C=it[1]+O),S.reversed&&(c^=C,C^=c,c^=C),F.y=S.translate(c,!1,!0,!1,!0),F.height=Math.abs(F.y-Math.min(S.translate(C,!1,!0,!1,!0),S.len)),O+=it[1],L.below=c<=v):(F.height=K>0?S.translate(W,!1,!0,!1,!0)-F.y:S.translate(W,!1,!0,!1,!0)-S.translate(W-K,!1,!0,!1,!0),W+=K,L.below=W<v),F.height<0&&(F.y+=F.height,F.height*=-1);L.plotY=F.y,L.yBottom=F.y+F.height,F.height<=I&&!L.isNull?(F.height=I,F.y-=A,L.yBottom=F.y+F.height,L.plotY=F.y,j<0?L.minPointLengthOffset=-A:L.minPointLengthOffset=A):(L.isNull&&(F.width=0),L.minPointLengthOffset=0);let l=L.plotY+(L.negative?F.height:0);L.below&&(L.plotY+=F.height),L.tooltipPos&&(this.chart.inverted?L.tooltipPos[0]=S.len-l:L.tooltipPos[1]=l),L.isInside=this.isPointInside(L);let X=g(L.yBottom,this.borderWidth);F.y=g(F.y,this.borderWidth),F.height=X-F.y,t(!0,L.shapeArgs,F)}},{order:2}),d.registerSeriesType("waterfall",i),i}),st(p,"masters/highcharts-more.src.js",[p["Core/Globals.js"],p["Core/Series/SeriesRegistry.js"],p["Extensions/Pane/Pane.js"],p["Series/Bubble/BubbleSeries.js"],p["Series/PackedBubble/PackedBubbleSeries.js"],p["Series/PolarComposition.js"],p["Core/Axis/RadialAxis.js"],p["Series/Waterfall/WaterfallSeries.js"]],function(d,f,M,x,Y,N,k,D){return d.RadialAxis=k,x.compose(d.Axis,d.Chart,d.Legend),Y.compose(d.Axis,d.Chart,d.Legend),M.compose(d.Chart,d.Pointer),N.compose(d.Axis,d.Chart,d.Pointer,d.Series,d.Tick,d.Point,f.seriesTypes.areasplinerange,f.seriesTypes.column,f.seriesTypes.line,f.seriesTypes.spline),D.compose(d.Axis,d.Chart),d})})})(Mt);var vt=Mt.exports;const kt=Lt(vt),At=Object.freeze(Object.defineProperty({__proto__:null,default:kt},Symbol.toStringTag,{value:"Module"}));export{At as h};
