import{aE as A}from"./DgWlP6BF.js";function I(Y,E){for(var f=0;f<E.length;f++){const D=E[f];if(typeof D!="string"&&!Array.isArray(D)){for(const i in D)if(i!=="default"&&!(i in Y)){const s=Object.getOwnPropertyDescriptor(D,i);s&&Object.defineProperty(Y,i,s.get?s:{enumerable:!0,get:()=>D[i]})}}}return Object.freeze(Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}))}var j={exports:{}};(function(Y){(function(E){Y.exports?(E.default=E,Y.exports=E):E(typeof Highcharts<"u"?Highcharts:void 0)})(function(E){var f=E?E._modules:{};function D(i,s,r,n){i.hasOwnProperty(s)||(i[s]=n.apply(null,r),typeof CustomEvent=="function"&&E.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:i[s]}})))}D(f,"Series/DragNodesComposition.js",[f["Core/Globals.js"],f["Core/Utilities.js"]],function(i,s){let{composed:r}=i,{addEvent:n,pushUnique:m}=s;function c(){let d,P,T,S=this;S.container&&(d=n(S.container,"mousedown",M=>{let h=S.hoverPoint;h&&h.series&&h.series.hasDraggableNodes&&h.series.options.draggable&&(h.series.onMouseDown(h,M),P=n(S.container,"mousemove",l=>h&&h.series&&h.series.onMouseMove(h,l)),T=n(S.container.ownerDocument,"mouseup",l=>(P(),T(),h&&h.series&&h.series.onMouseUp(h,l))))})),n(S,"destroy",function(){d()})}return{compose:function(d){m(r,"DragNodes")&&n(d,"load",c)},onMouseDown:function(d,P){var S;let T=((S=this.chart.pointer)==null?void 0:S.normalize(P))||P;d.fixedPosition={chartX:T.chartX,chartY:T.chartY,plotX:d.plotX,plotY:d.plotY},d.inDragMode=!0},onMouseMove:function(d,P){var T;if(d.fixedPosition&&d.inDragMode){let S,M,h=this.chart,l=((T=h.pointer)==null?void 0:T.normalize(P))||P,p=d.fixedPosition.chartX-l.chartX,t=d.fixedPosition.chartY-l.chartY,e=h.graphLayoutsLookup;(Math.abs(p)>5||Math.abs(t)>5)&&(S=d.fixedPosition.plotX-p,M=d.fixedPosition.plotY-t,h.isInsidePlot(S,M)&&(d.plotX=S,d.plotY=M,d.hasDragged=!0,this.redrawHalo(d),e.forEach(o=>{o.restartSimulation()})))}},onMouseUp:function(d){d.fixedPosition&&(d.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),d.inDragMode=d.hasDragged=!1,this.options.fixedDraggable||delete d.fixedPosition)},redrawHalo:function(d){d&&this.halo&&this.halo.attr({d:d.haloPath(this.options.states.hover.halo.size)})}}}),D(f,"Series/GraphLayoutComposition.js",[f["Core/Animation/AnimationUtilities.js"],f["Core/Globals.js"],f["Core/Utilities.js"]],function(i,s,r){let{setAnimation:n}=i,{composed:m}=s,{addEvent:c,pushUnique:d}=r;function P(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(h=>{h.updateSimulation()}),this.redraw())}function T(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(h=>{h.updateSimulation(!1)}),this.redraw())}function S(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(h=>{h.stop()})}function M(){let h,l=!1,p=t=>{t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()&&!t.enableSimulation&&(t.beforeStep&&t.beforeStep(),t.step(),h=!1,l=!0)};if(this.graphLayoutsLookup){for(n(!1,this),this.graphLayoutsLookup.forEach(t=>t.start());!h;)h=!0,this.graphLayoutsLookup.forEach(p);l&&this.series.forEach(t=>{t&&t.layout&&t.render()})}}return{compose:function(h){d(m,"GraphLayout")&&(c(h,"afterPrint",P),c(h,"beforePrint",T),c(h,"predraw",S),c(h,"render",M))},integrations:{},layouts:{}}}),D(f,"Series/NodesComposition.js",[f["Core/Series/SeriesRegistry.js"],f["Core/Utilities.js"]],function(i,s){var r;let{series:{prototype:n,prototype:{pointClass:{prototype:m}}}}=i,{defined:c,extend:d,find:P,merge:T,pick:S}=s;return function(M){function h(){return this.data=[].concat(this.points||[],this.nodes),n.destroy.apply(this,arguments)}function l(){this.nodes&&(this.nodes.forEach(e=>{e.destroy()}),this.nodes.length=0),n.setData.apply(this,arguments)}function p(e){let o=arguments,a=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];e!=="select"&&a.forEach(u=>{u&&u.series&&(m.setState.apply(u,o),!u.isNode&&(u.fromNode.graphic&&m.setState.apply(u.fromNode,o),u.toNode&&u.toNode.graphic&&m.setState.apply(u.toNode,o)))}),m.setState.apply(this,o)}function t(e,o,a,u){let k=this.series.options.nodes,b=this.series.options.data,X=b&&b.length||0,v=b&&b[this.index];if(m.update.call(this,e,!this.isNode&&o,a,u),this.isNode){let N=(k||[]).reduce((y,g,x)=>this.id===g.id?x:y,-1),w=T(k&&k[N]||{},b&&b[this.index]||{});b&&(v?b[this.index]=v:b.length=X),k?N>=0?k[N]=w:k.push(w):this.series.options.nodes=[w],S(o,!0)&&this.series.chart.redraw(a)}}M.compose=function(e,o){let a=e.prototype,u=o.prototype;return a.setNodeState=p,a.setState=p,a.update=t,u.destroy=h,u.setData=l,o},M.createNode=function(e){let o=this.pointClass,a=(b,X)=>P(b,v=>v.id===X),u=a(this.nodes,e),k;if(!u){k=this.options.nodes&&a(this.options.nodes,e);let b=new o(this,d({className:"highcharts-node",isNode:!0,id:e,y:1},k));b.linksTo=[],b.linksFrom=[],b.getSum=function(){let X=0,v=0;return b.linksTo.forEach(N=>{X+=N.weight||0}),b.linksFrom.forEach(N=>{v+=N.weight||0}),Math.max(X,v)},b.offset=function(X,v){let N=0;for(let w=0;w<b[v].length;w++){if(b[v][w]===X)return N;N+=b[v][w].weight}},b.hasShape=function(){let X=0;return b.linksTo.forEach(v=>{v.outgoing&&X++}),!b.linksTo.length||X!==b.linksTo.length},b.index=this.nodes.push(b)-1,u=b}return u.formatPrefix="node",u.name=u.name||u.options.id||"",u.mass=S(u.options.mass,u.options.marker&&u.options.marker.radius,this.options.marker&&this.options.marker.radius,4),u},M.destroy=h,M.generatePoints=function(){let e=this.chart,o={};n.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(a=>{a.linksFrom.length=0,a.linksTo.length=0,a.level=a.options.level}),this.points.forEach(a=>{c(a.from)&&(o[a.from]||(o[a.from]=this.createNode(a.from)),o[a.from].linksFrom.push(a),a.fromNode=o[a.from],e.styledMode?a.colorIndex=S(a.options.colorIndex,o[a.from].colorIndex):a.color=a.options.color||o[a.from].color),c(a.to)&&(o[a.to]||(o[a.to]=this.createNode(a.to)),o[a.to].linksTo.push(a),a.toNode=o[a.to]),a.name=a.name||a.id},this),this.nodeLookup=o},M.setNodeState=p,M.updateNode=t}(r||(r={})),r}),D(f,"Series/Networkgraph/NetworkgraphPoint.js",[f["Series/NodesComposition.js"],f["Core/Series/SeriesRegistry.js"],f["Core/Utilities.js"]],function(i,s,r){let{series:{prototype:n,prototype:{pointClass:m}}}=s,{addEvent:c,css:d,defined:P,extend:T,pick:S}=r;class M extends m{destroy(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(l){l.destroyElements&&l.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),m.prototype.destroy.apply(this,arguments)}getDegree(){let l=this.isNode?this.linksFrom.length+this.linksTo.length:0;return l===0?1:l}getLinkAttributes(){let l=this.series.options.link,p=this.options;return{"stroke-width":S(p.width,l.width),stroke:p.color||l.color,dashstyle:p.dashStyle||l.dashStyle,opacity:S(p.opacity,l.opacity,1)}}getLinkPath(){let l=this.fromNode,p=this.toNode;return l.plotX>p.plotX&&(l=this.toNode,p=this.fromNode),[["M",l.plotX||0,l.plotY||0],["L",p.plotX||0,p.plotY||0]]}getMass(){let l=this.fromNode.mass,p=this.toNode.mass,t=l+p;return{fromNode:1-l/t,toNode:1-p/t}}constructor(l,p,t){super(l,p,t),this.series.options.draggable&&!this.series.chart.styledMode&&(c(this,"mouseOver",function(){d(this.series.chart.container,{cursor:"move"})}),c(this,"mouseOut",function(){d(this.series.chart.container,{cursor:"default"})}))}isValid(){return!this.isNode||P(this.id)}redrawLink(){let l,p=this.getLinkPath();if(this.graphic){this.shapeArgs={d:p},this.series.chart.styledMode||(l=this.series.pointAttribs(this),this.graphic.attr(l),(this.dataLabels||[]).forEach(function(o){o&&o.attr({opacity:l.opacity})})),this.graphic.animate(this.shapeArgs);let t=p[0],e=p[1];t[0]==="M"&&e[0]==="L"&&(this.plotX=(t[1]+e[1])/2,this.plotY=(t[2]+e[2])/2)}}remove(l,p){let t=this.series,e=t.options.nodes||[],o,a=e.length;if(this.isNode){for(t.points=[],[].concat(this.linksFrom).concat(this.linksTo).forEach(function(u){(o=u.fromNode.linksFrom.indexOf(u))>-1&&u.fromNode.linksFrom.splice(o,1),(o=u.toNode.linksTo.indexOf(u))>-1&&u.toNode.linksTo.splice(o,1),n.removePoint.call(t,t.data.indexOf(u),!1,!1)}),t.points=t.data.slice(),t.nodes.splice(t.nodes.indexOf(this),1);a--;)if(e[a].id===this.options.id){t.options.nodes.splice(a,1);break}this&&this.destroy(),t.isDirty=!0,t.isDirtyData=!0,l&&t.chart.redraw(l)}else t.removePoint(t.data.indexOf(this),l,p)}renderLink(){let l;this.graphic||(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),this.series.chart.styledMode||(l=this.series.pointAttribs(this),this.graphic.attr(l),(this.dataLabels||[]).forEach(function(p){p&&p.attr({opacity:l.opacity})})))}}return T(M.prototype,{setState:i.setNodeState}),M}),D(f,"Series/Networkgraph/NetworkgraphSeriesDefaults.js",[],function(){return{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"},defer:!0,animation:{defer:1e3}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}}),D(f,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(i,s,r,n){let m=i.getMass(),c=r.x/n*s,d=r.y/n*s;i.fromNode.fixedPosition||(i.fromNode.dispX-=c*m.fromNode/i.fromNode.degree,i.fromNode.dispY-=d*m.fromNode/i.fromNode.degree),i.toNode.fixedPosition||(i.toNode.dispX+=c*m.toNode/i.toNode.degree,i.toNode.dispY+=d*m.toNode/i.toNode.degree)},attractiveForceFunction:function(i,s){return i*i/s},barycenter:function(){let i=this.options.gravitationalConstant,s=this.barycenter.xFactor,r=this.barycenter.yFactor;this.nodes.forEach(function(n){if(!n.fixedPosition){let m=n.getDegree(),c=m*(1+m/2);n.dispX+=(s-n.plotX)*i*c/n.degree,n.dispY+=(r-n.plotY)*i*c/n.degree}})},getK:function(i){return Math.pow(i.box.width*i.box.height/i.nodes.length,.3)},integrate:function(i,s){s.dispX+=s.dispX*i.options.friction,s.dispY+=s.dispY*i.options.friction;let r=s.temperature=i.vectorLength({x:s.dispX,y:s.dispY});r!==0&&(s.plotX+=s.dispX/r*Math.min(Math.abs(s.dispX),i.temperature),s.plotY+=s.dispY/r*Math.min(Math.abs(s.dispY),i.temperature))},repulsive:function(i,s,r,n){i.dispX+=r.x/n*s/i.degree,i.dispY+=r.y/n*s/i.degree},repulsiveForceFunction:function(i,s){return s*s/i}}}),D(f,"Series/Networkgraph/QuadTreeNode.js",[],function(){class i{constructor(r){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=r,this.boxSize=Math.min(r.width,r.height)}divideBox(){let r=this.box.width/2,n=this.box.height/2;this.nodes[0]=new i({left:this.box.left,top:this.box.top,width:r,height:n}),this.nodes[1]=new i({left:this.box.left+r,top:this.box.top,width:r,height:n}),this.nodes[2]=new i({left:this.box.left+r,top:this.box.top+n,width:r,height:n}),this.nodes[3]=new i({left:this.box.left,top:this.box.top+n,width:r,height:n})}getBoxPosition(r){let n=r.plotX<this.box.left+this.box.width/2,m=r.plotY<this.box.top+this.box.height/2;return n?m?0:3:m?1:2}insert(r,n){let m;this.isInternal?this.nodes[this.getBoxPosition(r)].insert(r,n-1):(this.isEmpty=!1,this.body?n?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,n-1),this.body=!0),this.nodes[this.getBoxPosition(r)].insert(r,n-1)):((m=new i({top:r.plotX||NaN,left:r.plotY||NaN,width:.1,height:.1})).body=r,m.isInternal=!1,this.nodes.push(m)):(this.isInternal=!1,this.body=r))}updateMassAndCenter(){let r=0,n=0,m=0;if(this.isInternal){for(let c of this.nodes)c.isEmpty||(r+=c.mass,n+=c.plotX*c.mass,m+=c.plotY*c.mass);n/=r,m/=r}else this.body&&(r=this.body.mass,n=this.body.plotX,m=this.body.plotY);this.mass=r,this.plotX=n,this.plotY=m}}return i}),D(f,"Series/Networkgraph/QuadTree.js",[f["Series/Networkgraph/QuadTreeNode.js"]],function(i){return class{constructor(s,r,n,m){this.box={left:s,top:r,width:n,height:m},this.maxDepth=25,this.root=new i(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(s){s.updateMassAndCenter()})}insertNodes(s){for(let r of s)this.root.insert(r,this.maxDepth)}visitNodeRecursive(s,r,n){let m;if(s||(s=this.root),s===this.root&&r&&(m=r(s)),m!==!1){for(let c of s.nodes){if(c.isInternal){if(r&&(m=r(c)),m===!1)continue;this.visitNodeRecursive(c,r,n)}else c.body&&r&&r(c.body);n&&n(c)}s===this.root&&n&&n(s)}}}}),D(f,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(i,s,r){let n=i.getMass(),m=-r.x*s*this.diffTemperature,c=-r.y*s*this.diffTemperature;i.fromNode.fixedPosition||(i.fromNode.plotX-=m*n.fromNode/i.fromNode.degree,i.fromNode.plotY-=c*n.fromNode/i.fromNode.degree),i.toNode.fixedPosition||(i.toNode.plotX+=m*n.toNode/i.toNode.degree,i.toNode.plotY+=c*n.toNode/i.toNode.degree)},attractiveForceFunction:function(i,s){return(s-i)/i},barycenter:function(){let i=this.options.gravitationalConstant||0,s=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*i,r=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*i;this.nodes.forEach(function(n){n.fixedPosition||(n.plotX-=s/n.mass/n.degree,n.plotY-=r/n.mass/n.degree)})},getK:function(i){return Math.pow(i.box.width*i.box.height/i.nodes.length,.5)},integrate:function(i,s){let r=-i.options.friction,n=i.options.maxSpeed,m=s.prevX,c=s.prevY,d=(s.plotX+s.dispX-m)*r,P=(s.plotY+s.dispY-c)*r,T=Math.abs,S=T(d)/(d||1),M=T(P)/(P||1),h=S*Math.min(n,Math.abs(d)),l=M*Math.min(n,Math.abs(P));s.prevX=s.plotX+s.dispX,s.prevY=s.plotY+s.dispY,s.plotX+=h,s.plotY+=l,s.temperature=i.vectorLength({x:h,y:l})},repulsive:function(i,s,r){let n=s*this.diffTemperature/i.mass/i.degree;i.fixedPosition||(i.plotX+=r.x*n,i.plotY+=r.y*n)},repulsiveForceFunction:function(i,s){return(s-i)/i*(s>i?1:0)}}}),D(f,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[f["Series/Networkgraph/EulerIntegration.js"],f["Core/Globals.js"],f["Series/GraphLayoutComposition.js"],f["Series/Networkgraph/QuadTree.js"],f["Core/Utilities.js"],f["Series/Networkgraph/VerletIntegration.js"]],function(i,s,r,n,m,c){let{win:d}=s,{clamp:P,defined:T,isFunction:S,fireEvent:M,pick:h}=m;class l{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(t){r.compose(t),r.integrations.euler=i,r.integrations.verlet=c,r.layouts["reingold-fruchterman"]=l}init(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=r.integrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=h(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=h(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation}updateSimulation(t){this.enableSimulation=h(t,this.options.enableSimulation)}start(){let t=this.series,e=this.options;this.currentStep=0,this.forces=t[0]&&t[0].forces||[],this.chart=t[0]&&t[0].chart,this.initialRendering&&(this.initPositions(),t.forEach(function(o){o.finishedAnimating=!0,o.render()})),this.setK(),this.resetSimulation(e),this.enableSimulation&&this.step()}step(){let t=this.series;for(let e of(this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter()),this.forces||[]))this[e+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(let e of t)e.chart&&e.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&d.cancelAnimationFrame(this.simulation),this.simulation=d.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(e=>{M(e,"afterSimulation")}))}}stop(){this.simulation&&d.cancelAnimationFrame(this.simulation)}setArea(t,e,o,a){this.box={left:t,top:e,width:o,height:a}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(t,e){for(let o of t)e.indexOf(o)===-1&&e.push(o)}removeElementFromCollection(t,e){let o=e.indexOf(t);o!==-1&&e.splice(o,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(t){this.maxIterations=h(t,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(t){this.initialRendering=t}createQuadTree(){this.quadTree=new n(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){let t=this.options.initialPositions;if(S(t))for(let e of(t.call(this),this.nodes))T(e.prevX)||(e.prevX=e.plotX),T(e.prevY)||(e.prevY=e.plotY),e.dispX=0,e.dispY=0;else t==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){let t,e=this.box,o=this.nodes,a=2*Math.PI/(o.length+1),u=o.filter(function(N){return N.linksTo.length===0}),k={},b=this.options.initialPositionRadius,X=N=>{for(let w of N.linksFrom||[])k[w.toNode.id]||(k[w.toNode.id]=!0,v.push(w.toNode),X(w.toNode))},v=[];for(let N of u)v.push(N),X(N);if(v.length)for(let N of o)v.indexOf(N)===-1&&v.push(N);else v=o;for(let N=0,w=v.length;N<w;++N)(t=v[N]).plotX=t.prevX=h(t.plotX,e.width/2+b*Math.cos(N*a)),t.plotY=t.prevY=h(t.plotY,e.height/2+b*Math.sin(N*a)),t.dispX=0,t.dispY=0}setRandomPositions(){let t,e=this.box,o=this.nodes,a=o.length+1,u=k=>{let b=k*k/Math.PI;return b-Math.floor(b)};for(let k=0,b=o.length;k<b;++k)(t=o[k]).plotX=t.prevX=h(t.plotX,e.width*u(k)),t.plotY=t.prevY=h(t.plotY,e.height*u(a+k)),t.dispX=0,t.dispY=0}force(t,...e){this.integration[t].apply(this,e)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let t=0,e=0,o=0;for(let a of this.nodes)e+=a.plotX*a.mass,o+=a.plotY*a.mass,t+=a.mass;return this.barycenter={x:e,y:o,xFactor:e/t,yFactor:o/t},this.barycenter}barnesHutApproximation(t,e){let o,a,u=this.getDistXY(t,e),k=this.vectorLength(u);return t!==e&&k!==0&&(e.isInternal?e.boxSize/k<this.options.theta&&k!==0?(a=this.repulsiveForce(k,this.k),this.force("repulsive",t,a*e.mass,u,k),o=!1):o=!0:(a=this.repulsiveForce(k,this.k),this.force("repulsive",t,a*e.mass,u,k))),o}repulsiveForces(){if(this.approximation==="barnes-hut")for(let t of this.nodes)this.quadTree.visitNodeRecursive(null,e=>this.barnesHutApproximation(t,e));else{let t,e,o;for(let a of this.nodes)for(let u of this.nodes)a===u||a.fixedPosition||(o=this.getDistXY(a,u),(e=this.vectorLength(o))!==0&&(t=this.repulsiveForce(e,this.k),this.force("repulsive",a,t*u.mass,o,e)))}}attractiveForces(){let t,e,o;for(let a of this.links)a.fromNode&&a.toNode&&(t=this.getDistXY(a.fromNode,a.toNode),(e=this.vectorLength(t))!==0&&(o=this.attractiveForce(e,this.k),this.force("attractive",a,o,t,e)))}applyLimits(){for(let t of this.nodes)t.fixedPosition||(this.integration.integrate(this,t),this.applyLimitBox(t,this.box),t.dispX=0,t.dispY=0)}applyLimitBox(t,e){let o=t.radius;t.plotX=P(t.plotX,e.left+o,e.width-o),t.plotY=P(t.plotY,e.top+o,e.height-o)}coolDown(t,e,o){return t-e*o}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0}getSystemTemperature(){let t=0;for(let e of this.nodes)t+=e.temperature;return t}vectorLength(t){return Math.sqrt(t.x*t.x+t.y*t.y)}getDistR(t,e){let o=this.getDistXY(t,e);return this.vectorLength(o)}getDistXY(t,e){let o=t.plotX-e.plotX,a=t.plotY-e.plotY;return{x:o,y:a,absX:Math.abs(o),absY:Math.abs(a)}}}return l}),D(f,"Series/SimulationSeriesUtilities.js",[f["Core/Utilities.js"],f["Core/Animation/AnimationUtilities.js"]],function(i,s){let{merge:r,syncTimeout:n}=i,{animObject:m}=s;return{initDataLabels:function(){let c=this.options.dataLabels;if(!this.dataLabelsGroup){let d=this.initDataLabelsGroup();return!this.chart.styledMode&&(c!=null&&c.style)&&d.css(c.style),d.attr({opacity:0}),this.visible&&d.show(),d}return this.dataLabelsGroup.attr(r({opacity:1},this.getPlotBox("data-labels"))),this.dataLabelsGroup},initDataLabelsDefer:function(){var d;let c=this.options.dataLabels;c!=null&&c.defer&&((d=this.options.layoutAlgorithm)!=null&&d.enableSimulation)?n(()=>{this.deferDataLabels=!1},c?m(c.animation).defer:0):this.deferDataLabels=!1}}}),D(f,"Extensions/TextPath.js",[f["Core/Globals.js"],f["Core/Utilities.js"]],function(i,s){let{deg2rad:r}=i,{addEvent:n,merge:m,uniqueKey:c,defined:d,extend:P}=s;function T(h,l){l=m(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},l);let p=this.renderer.url,t=this.text||this,e=t.textPath,{attributes:o,enabled:a}=l;if(h=h||e&&e.path,e&&e.undo(),h&&a){let u=n(t,"afterModifyTree",k=>{if(h&&a){let b=h.attr("id");b||h.attr("id",b=c());let X={x:0,y:0};d(o.dx)&&(X.dx=o.dx,delete o.dx),d(o.dy)&&(X.dy=o.dy,delete o.dy),t.attr(X),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let v=k.nodes.slice(0);k.nodes.length=0,k.nodes[0]={tagName:"textPath",attributes:P(o,{"text-anchor":o.textAnchor,href:`${p}#${b}`}),children:v}}});t.textPath={path:h,undo:u}}else t.attr({dx:0,dy:0}),delete t.textPath;return this.added&&(t.textCache="",this.renderer.buildText(t)),this}function S(h){var t;let l=h.bBox,p=(t=this.element)==null?void 0:t.querySelector("textPath");if(p){let e=[],{b:o,h:a}=this.renderer.fontMetrics(this.element),u=a-o,k=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),b=p.innerHTML.replace(k,"").split(/<tspan class="highcharts-br"[^>]*>/),X=b.length,v=(N,w)=>{let{x:y,y:g}=w,x=(p.getRotationOfChar(N)-90)*r,L=Math.cos(x),C=Math.sin(x);return[[y-u*L,g-u*C],[y+o*L,g+o*C]]};for(let N=0,w=0;w<X;w++){let y=b[w].length;for(let g=0;g<y;g+=5)try{let x=N+g+w,[L,C]=v(x,p.getStartPositionOfChar(x));g===0?(e.push(C),e.push(L)):(w===0&&e.unshift(C),w===X-1&&e.push(L))}catch{break}N+=y-1;try{let g=N+w,x=p.getEndPositionOfChar(g),[L,C]=v(g,x);e.unshift(C),e.unshift(L)}catch{break}}e.length&&e.push(e[0].slice()),l.polygon=e}return l}function M(h){var e;let l=h.labelOptions,p=h.point,t=l[p.formatPrefix+"TextPath"]||l.textPath;t&&!l.useHTML&&(this.setTextPath(((e=p.getDataLabelPath)==null?void 0:e.call(p,this))||p.graphic,t),p.dataLabelPath&&!t.enabled&&(p.dataLabelPath=p.dataLabelPath.destroy()))}return{compose:function(h){n(h,"afterGetBBox",S),n(h,"beforeAddingDataLabel",M);let l=h.prototype;l.setTextPath||(l.setTextPath=T)}}}),D(f,"Series/Networkgraph/NetworkgraphSeries.js",[f["Core/Renderer/SVG/SVGElement.js"],f["Series/DragNodesComposition.js"],f["Series/GraphLayoutComposition.js"],f["Core/Globals.js"],f["Series/Networkgraph/NetworkgraphPoint.js"],f["Series/Networkgraph/NetworkgraphSeriesDefaults.js"],f["Series/NodesComposition.js"],f["Series/Networkgraph/ReingoldFruchtermanLayout.js"],f["Core/Series/SeriesRegistry.js"],f["Series/SimulationSeriesUtilities.js"],f["Core/Utilities.js"],f["Extensions/TextPath.js"]],function(i,s,r,n,m,c,d,P,T,S,M,h){let{noop:l}=n,{series:p,seriesTypes:{column:{prototype:t},line:{prototype:e}}}=T,{initDataLabels:o,initDataLabelsDefer:a}=S,{addEvent:u,defined:k,extend:b,merge:X,pick:v}=M;h.compose(i);class N extends p{constructor(){super(...arguments),this.deferDataLabels=!0}static compose(y){s.compose(y),P.compose(y)}deferLayout(){let y=this.options.layoutAlgorithm,g=this.chart.options.chart,x,L=this.chart.graphLayoutsStorage,C=this.chart.graphLayoutsLookup;this.visible&&(L||(this.chart.graphLayoutsStorage=L={},this.chart.graphLayoutsLookup=C=[]),(x=L[y.type])||(y.enableSimulation=k(g.forExport)?!g.forExport:y.enableSimulation,L[y.type]=x=new r.layouts[y.type],x.init(y),C.splice(x.index,0,x)),this.layout=x,x.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),x.addElementsToCollection([this],x.series),x.addElementsToCollection(this.nodes,x.nodes),x.addElementsToCollection(this.points,x.links))}destroy(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),d.destroy.call(this)}drawDataLabels(){let y;if(this.deferDataLabels)return;let g=this.options.dataLabels;g!=null&&g.textPath&&(y=g.textPath),p.prototype.drawDataLabels.call(this,this.nodes),g!=null&&g.linkTextPath&&(g.textPath=g.linkTextPath),p.prototype.drawDataLabels.call(this,this.data),g!=null&&g.textPath&&(g.textPath=y)}generatePoints(){let y,g;for(d.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(x){this.nodeLookup[x.id]||(this.nodeLookup[x.id]=this.createNode(x.id))},this),g=this.nodes.length-1;g>=0;g--)(y=this.nodes[g]).degree=y.getDegree(),y.radius=v(y.marker&&y.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[y.id]||y.remove();this.data.forEach(function(x){x.formatPrefix="link"}),this.indexateNodes()}getPointsCollection(){return this.nodes||[]}indexateNodes(){this.nodes.forEach(function(y,g){y.index=g})}init(y,g){return super.init(y,g),a.call(this),u(this,"updatedData",()=>{this.layout&&this.layout.stop()}),u(this,"afterUpdate",()=>{this.nodes.forEach(x=>{x&&x.series&&x.resolveColor()})}),u(this,"afterSimulation",function(){this.deferDataLabels=!1,this.drawDataLabels()}),this}markerAttribs(y,g){let x=p.prototype.markerAttribs.call(this,y,g);return k(y.plotY)||(x.y=0),x.x=(y.plotX||0)-(x.width||0)/2,x}pointAttribs(y,g){let x=g||y&&y.state||"normal",L=this.options.states[x],C=p.prototype.pointAttribs.call(this,y,x);return y&&!y.isNode&&(C=y.getLinkAttributes(),L&&(C={stroke:L.linkColor||C.stroke,dashstyle:L.linkDashStyle||C.dashstyle,opacity:v(L.linkOpacity,C.opacity),"stroke-width":L.linkColor||C["stroke-width"]})),C}render(){let y=this.points,g=this.chart.hoverPoint,x=[];this.points=this.nodes,e.render.call(this),this.points=y,y.forEach(function(L){L.fromNode&&L.toNode&&(L.renderLink(),L.redrawLink())}),g&&g.series===this&&this.redrawHalo(g),this.chart.hasRendered&&!this.options.dataLabels.allowOverlap&&(this.nodes.concat(this.points).forEach(function(L){L.dataLabel&&x.push(L.dataLabel)}),this.chart.hideOverlappingLabels(x))}setState(y,g){g?(this.points=this.nodes.concat(this.data),p.prototype.setState.apply(this,arguments),this.points=this.data):p.prototype.setState.apply(this,arguments),this.layout.simulation||y||this.render()}translate(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(y){y.isInside=!0,y.linksFrom.forEach(function(g){g.shapeType="path",g.y=1})})}}return N.defaultOptions=X(p.defaultOptions,c),b(N.prototype,{pointClass:m,animate:void 0,directTouch:!0,drawGraph:void 0,forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["from","to"],requireSorting:!1,trackerGroups:["group","markerGroup","dataLabelsGroup"],initDataLabels:o,buildKDTree:l,createNode:d.createNode,drawTracker:t.drawTracker,onMouseDown:s.onMouseDown,onMouseMove:s.onMouseMove,onMouseUp:s.onMouseUp,redrawHalo:s.redrawHalo}),T.registerSeriesType("networkgraph",N),N}),D(f,"masters/modules/networkgraph.src.js",[f["Core/Globals.js"],f["Series/Networkgraph/NetworkgraphSeries.js"]],function(i,s){return s.compose(i.Chart),i})})})(j);var F=j.exports;const O=A(F),G=I({__proto__:null,default:O},[F]);export{G as n};
