import{aE as me}from"./DgWlP6BF.js";function ge(ie,_){for(var x=0;x<_.length;x++){const N=_[x];if(typeof N!="string"&&!Array.isArray(N)){for(const S in N)if(S!=="default"&&!(S in ie)){const I=Object.getOwnPropertyDescriptor(N,S);I&&Object.defineProperty(ie,S,I.get?I:{enumerable:!0,get:()=>N[S]})}}}return Object.freeze(Object.defineProperty(ie,Symbol.toStringTag,{value:"Module"}))}var pe={exports:{}};(function(ie){(function(_){ie.exports?(_.default=_,ie.exports=_):_(typeof Highcharts<"u"?Highcharts:void 0)})(function(_){var x=_?_._modules:{};function N(S,I,G,k){S.hasOwnProperty(I)||(S[I]=k.apply(null,G),typeof CustomEvent=="function"&&_.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:I,module:S[I]}})))}N(x,"Core/Axis/Color/ColorAxisComposition.js",[x["Core/Color/Color.js"],x["Core/Utilities.js"]],function(S,I){var G;let{parse:k}=S,{addEvent:A,extend:E,merge:P,pick:j,splat:T}=I;return function(B){let O;function L(){let{userOptions:l}=this;this.colorAxis=[],l.colorAxis&&(l.colorAxis=T(l.colorAxis),l.colorAxis.map(e=>new O(this,e)))}function g(l){let e=this.chart.colorAxis||[],c=D=>{let y=l.allItems.indexOf(D);y!==-1&&(this.destroyItem(l.allItems[y]),l.allItems.splice(y,1))},r=[],f,u;for(e.forEach(function(D){(f=D.options)&&f.showInLegend&&(f.dataClasses&&f.visible?r=r.concat(D.getDataClassLegendSymbols()):f.visible&&r.push(D),D.series.forEach(function(y){(!y.options.showInLegend||f.dataClasses)&&(y.options.legendType==="point"?y.points.forEach(function(s){c(s)}):c(y))}))}),u=r.length;u--;)l.allItems.unshift(r[u])}function i(l){l.visible&&l.item.legendColor&&l.item.legendItem.symbol.attr({fill:l.item.legendColor})}function m(l){var e;(e=this.chart.colorAxis)==null||e.forEach(c=>{c.update({},l.redraw)})}function C(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function v(){let l=this.axisTypes;l?l.indexOf("colorAxis")===-1&&l.push("colorAxis"):this.axisTypes=["colorAxis"]}function b(l){let e=this,c=l?"show":"hide";e.visible=e.options.visible=!!l,["graphic","dataLabel"].forEach(function(r){e[r]&&e[r][c]()}),this.series.buildKDTree()}function t(){let l=this,e=this.getPointsCollection(),c=this.options.nullColor,r=this.colorAxis,f=this.colorKey;e.forEach(u=>{let D=u.getNestedProperty(f),y=u.options.color||(u.isNull||u.value===null?c:r&&D!==void 0?r.toColor(D,u):u.color||l.color);y&&u.color!==y&&(u.color=y,l.options.legendType==="point"&&u.legendItem&&u.legendItem.label&&l.chart.legend.colorizeItem(u,u.visible))})}function n(){this.elem.attr("fill",k(this.start).tweenTo(k(this.end),this.pos),void 0,!0)}function p(){this.elem.attr("stroke",k(this.start).tweenTo(k(this.end),this.pos),void 0,!0)}B.compose=function(l,e,c,r,f){let u=e.prototype,D=c.prototype,y=f.prototype;u.collectionsWithUpdate.includes("colorAxis")||(O=l,u.collectionsWithUpdate.push("colorAxis"),u.collectionsWithInit.colorAxis=[u.addColorAxis],A(e,"afterGetAxes",L),function(s){let o=s.prototype.createAxis;s.prototype.createAxis=function(a,M){if(a!=="colorAxis")return o.apply(this,arguments);let d=new O(this,P(M.axis,{index:this[a].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(h=>{h.series=[]}),this.series.forEach(h=>{h.bindAxes(),h.isDirtyData=!0}),j(M.redraw,!0)&&this.redraw(M.animation),d}}(e),D.fillSetter=n,D.strokeSetter=p,A(r,"afterGetAllItems",g),A(r,"afterColorizeItem",i),A(r,"afterUpdate",m),E(y,{optionalAxis:"colorAxis",translateColors:t}),E(y.pointClass.prototype,{setVisible:b}),A(f,"afterTranslate",C,{order:1}),A(f,"bindAxes",v))},B.pointSetVisible=b}(G||(G={})),G}),N(x,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}}),N(x,"Core/Axis/Color/ColorAxisLike.js",[x["Core/Color/Color.js"],x["Core/Utilities.js"]],function(S,I){var G,k;let{parse:A}=S,{merge:E}=I;return(k=G||(G={})).initDataClasses=function(P){let j=this.chart,T=this.legendItem=this.legendItem||{},B=this.options,O=P.dataClasses||[],L,g,i=j.options.chart.colorCount,m=0,C;this.dataClasses=g=[],T.labels=[];for(let v=0,b=O.length;v<b;++v)L=E(L=O[v]),g.push(L),(j.styledMode||!L.color)&&(B.dataClassColor==="category"?(j.styledMode||(i=(C=j.options.colors||[]).length,L.color=C[m]),L.colorIndex=m,++m===i&&(m=0)):L.color=A(B.minColor).tweenTo(A(B.maxColor),b<2?.5:v/(b-1)))},k.initStops=function(){let P=this.options,j=this.stops=P.stops||[[0,P.minColor||""],[1,P.maxColor||""]];for(let T=0,B=j.length;T<B;++T)j[T].color=A(j[T][1])},k.normalizedValue=function(P){let j=this.max||0,T=this.min||0;return this.logarithmic&&(P=this.logarithmic.log2lin(P)),1-(j-P)/(j-T||1)},k.toColor=function(P,j){let T,B,O,L,g,i,m=this.dataClasses,C=this.stops;if(m){for(i=m.length;i--;)if(B=(g=m[i]).from,O=g.to,(B===void 0||P>=B)&&(O===void 0||P<=O)){L=g.color,j&&(j.dataClass=i,j.colorIndex=g.colorIndex);break}}else{for(T=this.normalizedValue(P),i=C.length;i--&&!(T>C[i][0]););B=C[i]||C[i+1],T=1-((O=C[i+1]||B)[0]-T)/(O[0]-B[0]||1),L=B.color.tweenTo(O.color,T)}return L},G}),N(x,"Core/Axis/Color/ColorAxis.js",[x["Core/Axis/Axis.js"],x["Core/Axis/Color/ColorAxisComposition.js"],x["Core/Axis/Color/ColorAxisDefaults.js"],x["Core/Axis/Color/ColorAxisLike.js"],x["Core/Defaults.js"],x["Core/Legend/LegendSymbol.js"],x["Core/Series/SeriesRegistry.js"],x["Core/Utilities.js"]],function(S,I,G,k,A,E,P,j){let{defaultOptions:T}=A,{series:B}=P,{defined:O,extend:L,fireEvent:g,isArray:i,isNumber:m,merge:C,pick:v,relativeLength:b}=j;T.colorAxis=C(T.xAxis,G);class t extends S{static compose(p,l,e,c){I.compose(t,p,l,e,c)}constructor(p,l){super(p,l),this.coll="colorAxis",this.visible=!0,this.init(p,l)}init(p,l){let e=p.options.legend||{},c=l.layout?l.layout!=="vertical":e.layout!=="vertical";this.side=l.side||c?2:1,this.reversed=l.reversed||!c,this.opposite=!c,super.init(p,l,"colorAxis"),this.userOptions=l,i(p.userOptions.colorAxis)&&(p.userOptions.colorAxis[this.index]=l),l.dataClasses&&this.initDataClasses(l),this.initStops(),this.horiz=c,this.zoomEnabled=!1}hasData(){return!!(this.tickPositions||[]).length}setTickPositions(){if(!this.dataClasses)return super.setTickPositions()}setOptions(p){let l=C(T.colorAxis,p,{showEmpty:!1,title:null,visible:this.chart.options.legend.enabled&&p.visible!==!1});super.setOptions(l),this.options.crosshair=this.options.marker}setAxisSize(){var r;let p=this.chart,l=(r=this.legendItem)==null?void 0:r.symbol,{width:e,height:c}=this.getSize();l&&(this.left=+l.attr("x"),this.top=+l.attr("y"),this.width=e=+l.attr("width"),this.height=c=+l.attr("height"),this.right=p.chartWidth-this.left-e,this.bottom=p.chartHeight-this.top-c,this.pos=this.horiz?this.left:this.top),this.len=(this.horiz?e:c)||t.defaultLegendLength}getOffset(){var e;let p=(e=this.legendItem)==null?void 0:e.group,l=this.chart.axisOffset[this.side];if(p){this.axisParent=p,super.getOffset();let c=this.chart.legend;c.allItems.forEach(function(r){r instanceof t&&r.drawLegendSymbol(c,r)}),c.render(),this.chart.getMargins(!0),this.chart.series.some(r=>r.isDrilling)||(this.isDirty=!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=l}}setLegendColor(){let p=this.horiz,l=this.reversed,e=l?1:0,c=l?0:1,r=p?[e,0,c,0]:[0,c,0,e];this.legendColor={linearGradient:{x1:r[0],y1:r[1],x2:r[2],y2:r[3]},stops:this.stops}}drawLegendSymbol(p,l){let e=l.legendItem||{},c=p.padding,r=p.options,f=this.options.labels,u=v(r.itemDistance,10),D=this.horiz,{width:y,height:s}=this.getSize(),o=v(r.labelPadding,D?16:30);this.setLegendColor(),e.symbol||(e.symbol=this.chart.renderer.symbol("roundedRect").attr({r:r.symbolRadius??3,zIndex:1}).add(e.group)),e.symbol.attr({x:0,y:(p.baseline||0)-11,width:y,height:s}),e.labelWidth=y+c+(D?u:v(f.x,f.distance)+(this.maxLabelLength||0)),e.labelHeight=s+c+(D?o:0)}setState(p){this.series.forEach(function(l){l.setState(p)})}setVisible(){}getSeriesExtremes(){let p=this.series,l,e,c,r,f,u,D=p.length,y,s;for(this.dataMin=1/0,this.dataMax=-1/0;D--;){if(e=(u=p[D]).colorKey=v(u.options.colorKey,u.colorKey,u.pointValKey,u.zoneAxis,"y"),r=u.pointArrayMap,f=u[e+"Min"]&&u[e+"Max"],u[e+"Data"])l=u[e+"Data"];else if(r){if(l=[],c=r.indexOf(e),y=u.yData,c>=0&&y)for(s=0;s<y.length;s++)l.push(v(y[s][c],y[s]))}else l=u.yData;if(f)u.minColorValue=u[e+"Min"],u.maxColorValue=u[e+"Max"];else{let o=B.prototype.getExtremes.call(u,l);u.minColorValue=o.dataMin,u.maxColorValue=o.dataMax}O(u.minColorValue)&&O(u.maxColorValue)&&(this.dataMin=Math.min(this.dataMin,u.minColorValue),this.dataMax=Math.max(this.dataMax,u.maxColorValue)),f||B.prototype.applyExtremes.call(u)}}drawCrosshair(p,l){let e,c=this.legendItem||{},r=l&&l.plotX,f=l&&l.plotY,u=this.pos,D=this.len;l&&((e=this.toPixels(l.getNestedProperty(l.series.colorKey)))<u?e=u-2:e>u+D&&(e=u+D+2),l.plotX=e,l.plotY=this.len-e,super.drawCrosshair(p,l),l.plotX=r,l.plotY=f,this.cross&&!this.cross.addedToColorAxis&&c.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(c.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||typeof this.crosshair!="object"||this.cross.attr({fill:this.crosshair.color})))}getPlotLinePath(p){let l=this.left,e=p.translatedValue,c=this.top;return m(e)?this.horiz?[["M",e-4,c-6],["L",e+4,c-6],["L",e,c],["Z"]]:[["M",l,e],["L",l-6,e+6],["L",l-6,e-6],["Z"]]:super.getPlotLinePath(p)}update(p,l){let e=this.chart.legend;this.series.forEach(c=>{c.isDirtyData=!0}),(p.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems(),super.update(p,l),this.legendItem&&this.legendItem.label&&(this.setLegendColor(),e.colorizeItem(this,!0))}destroyItems(){let p=this.chart,l=this.legendItem||{};if(l.label)p.legend.destroyItem(this);else if(l.labels)for(let e of l.labels)p.legend.destroyItem(e);p.isDirtyLegend=!0}destroy(){this.chart.isDirtyLegend=!0,this.destroyItems(),super.destroy(...[].slice.call(arguments))}remove(p){this.destroyItems(),super.remove(p)}getDataClassLegendSymbols(){let p,l=this,e=l.chart,c=l.legendItem&&l.legendItem.labels||[],r=e.options.legend,f=v(r.valueDecimals,-1),u=v(r.valueSuffix,""),D=y=>l.series.reduce((s,o)=>(s.push(...o.points.filter(a=>a.dataClass===y)),s),[]);return c.length||l.dataClasses.forEach((y,s)=>{let o=y.from,a=y.to,{numberFormatter:M}=e,d=!0;p="",o===void 0?p="< ":a===void 0&&(p="> "),o!==void 0&&(p+=M(o,f)+u),o!==void 0&&a!==void 0&&(p+=" - "),a!==void 0&&(p+=M(a,f)+u),c.push(L({chart:e,name:p,options:{},drawLegendSymbol:E.rectangle,visible:!0,isDataClass:!0,setState:h=>{for(let w of D(s))w.setState(h)},setVisible:function(){this.visible=d=l.visible=!d;let h=[];for(let w of D(s))w.setVisible(d),w.hiddenInDataClass=!d,h.indexOf(w.series)===-1&&h.push(w.series);e.legend.colorizeItem(this,d),h.forEach(w=>{g(w,"afterDataClassLegendClick")})}},y))}),c}getSize(){let{chart:p,horiz:l}=this,{height:e,width:c}=this.options,{legend:r}=p.options;return{width:v(O(c)?b(c,p.chartWidth):void 0,r==null?void 0:r.symbolWidth,l?t.defaultLegendLength:12),height:v(O(e)?b(e,p.chartHeight):void 0,r==null?void 0:r.symbolHeight,l?12:t.defaultLegendLength)}}}return t.defaultLegendLength=200,t.keepProps=["legendItem"],L(t.prototype,k),Array.prototype.push.apply(S.keepProps,t.keepProps),t}),N(x,"masters/modules/coloraxis.src.js",[x["Core/Globals.js"],x["Core/Axis/Color/ColorAxis.js"]],function(S,I){return S.ColorAxis=S.ColorAxis||I,S.ColorAxis.compose(S.Chart,S.Fx,S.Legend,S.Series),S}),N(x,"Maps/MapNavigationDefaults.js",[],function(){return{lang:{zoomIn:"Zoom in",zoomOut:"Zoom out"},mapNavigation:{buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}}),N(x,"Maps/MapPointer.js",[x["Core/Utilities.js"]],function(S){var I;let{defined:G,extend:k,pick:A,wrap:E}=S;return function(P){let j,T=0;function B(i){let m=this.chart;i=this.normalize(i),m.options.mapNavigation.enableDoubleClickZoomTo?m.pointer.inClass(i.target,"highcharts-tracker")&&m.hoverPoint&&m.hoverPoint.zoomTo():m.isInsidePlot(i.chartX-m.plotLeft,i.chartY-m.plotTop)&&m.mapZoom(.5,void 0,void 0,i.chartX,i.chartY)}function O(i){let m=this.chart,C=G((i=this.normalize(i)).wheelDelta)&&-i.wheelDelta/120||i.deltaY||i.detail;Math.abs(C)>=1&&(T+=Math.abs(C),j&&clearTimeout(j),j=setTimeout(()=>{T=0},50)),T<10&&m.isInsidePlot(i.chartX-m.plotLeft,i.chartY-m.plotTop)&&m.mapView&&m.mapView.zoomBy(-((m.options.mapNavigation.mouseWheelSensitivity-1)*C),void 0,[i.chartX,i.chartY],!(1>Math.abs(C))&&void 0)}function L(i,m,C){let v=this.chart;if(m=i.call(this,m,C),v&&v.mapView){let b=v.mapView.pixelsToLonLat({x:m.chartX-v.plotLeft,y:m.chartY-v.plotTop});b&&k(m,b)}return m}function g(i){let m=this.chart.options.mapNavigation;m&&A(m.enableTouchZoom,m.enabled)&&(this.chart.zooming.pinchType="xy"),i.apply(this,[].slice.call(arguments,1))}P.compose=function(i){let m=i.prototype;m.onContainerDblClick||(k(m,{onContainerDblClick:B,onContainerMouseWheel:O}),E(m,"normalize",L),E(m,"zoomOption",g))}}(I||(I={})),I}),N(x,"Maps/MapSymbols.js",[],function(){let S;function I(k,A,E,P,j){if(j){let T=(j==null?void 0:j.r)||0;j.brBoxY=A-T,j.brBoxHeight=P+T}return S.roundedRect(k,A,E,P,j)}function G(k,A,E,P,j){if(j){let T=(j==null?void 0:j.r)||0;j.brBoxHeight=P+T}return S.roundedRect(k,A,E,P,j)}return{compose:function(k){(S=k.prototype.symbols).bottombutton=I,S.topbutton=G}}}),N(x,"Maps/MapNavigation.js",[x["Core/Defaults.js"],x["Core/Globals.js"],x["Maps/MapNavigationDefaults.js"],x["Maps/MapPointer.js"],x["Maps/MapSymbols.js"],x["Core/Utilities.js"]],function(S,I,G,k,A,E){let{setOptions:P}=S,{composed:j}=I,{addEvent:T,extend:B,merge:O,objectEach:L,pick:g,pushUnique:i}=E;function m(v){v&&(v.preventDefault&&v.preventDefault(),v.stopPropagation&&v.stopPropagation(),v.cancelBubble=!0)}class C{static compose(b,t,n){k.compose(t),A.compose(n),i(j,"Map.Navigation")&&(T(b,"beforeRender",function(){this.mapNavigation=new C(this),this.mapNavigation.update()}),P(G))}constructor(b){this.chart=b,this.navButtons=[]}update(b){let t=this,n=t.chart,p=t.navButtons,l=function(c){this.handler.call(n,c),m(c)},e=n.options.mapNavigation;for(b&&(e=n.options.mapNavigation=O(n.options.mapNavigation,b));p.length;)p.pop().destroy();if(!n.renderer.forExport&&g(e.enableButtons,e.enabled)){t.navButtonsGroup||(t.navButtonsGroup=n.renderer.g().attr({zIndex:7}).add()),L(e.buttons,(r,f)=>{var M;let u={padding:(r=O(e.buttonOptions,r)).padding};!n.styledMode&&r.theme&&(B(u,r.theme),u.style=O(r.theme.style,r.style));let{text:D,width:y=0,height:s=0,padding:o=0}=r,a=n.renderer.button(D!=="+"&&D!=="-"&&D||"",0,0,l,u,void 0,void 0,void 0,f==="zoomIn"?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[f]).attr({width:y,height:s,title:n.options.lang[f],zIndex:5}).add(t.navButtonsGroup);if(D==="+"||D==="-"){let d=y+1,h=[["M",o+3,o+s/2],["L",o+d-3,o+s/2]];D==="+"&&h.push(["M",o+d/2,o+3],["L",o+d/2,o+s-3]),n.renderer.path(h).addClass("highcharts-button-symbol").attr(n.styledMode?{}:{stroke:(M=r.style)==null?void 0:M.color,"stroke-width":3,"stroke-linecap":"round"}).add(a)}if(a.handler=r.onclick,T(a.element,"dblclick",m),p.push(a),B(r,{width:a.width,height:2*(a.height||0)}),n.hasLoaded)a.align(r,!1,r.alignTo);else{let d=T(n,"load",()=>{a.element&&a.align(r,!1,r.alignTo),d()})}});let c=(r,f)=>!(f.x>=r.x+r.width||f.x+f.width<=r.x||f.y>=r.y+r.height||f.y+f.height<=r.y);n.hasLoaded||T(n,"render",function(){let r=n.exportingGroup&&n.exportingGroup.getBBox();if(r){let f=t.navButtonsGroup.getBBox();if(c(r,f)){let u=-f.y-f.height+r.y-5,D=r.y+r.height-f.y+5,y=e.buttonOptions&&e.buttonOptions.verticalAlign;t.navButtonsGroup.attr({translateY:y==="bottom"?u:D})}}})}this.updateEvents(e)}updateEvents(b){let t=this.chart;g(b.enableDoubleClickZoom,b.enabled)||b.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||T(t.container,"dblclick",function(n){t.pointer.onContainerDblClick(n)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),g(b.enableMouseWheelZoom,b.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||T(t.container,"wheel",function(n){return t.pointer.inClass(n.target,"highcharts-no-mousewheel")||(t.pointer.onContainerMouseWheel(n),m(n)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())}}return C}),N(x,"Series/ColorMapComposition.js",[x["Core/Series/SeriesRegistry.js"],x["Core/Renderer/SVG/SVGElement.js"],x["Core/Utilities.js"]],function(S,I,G){var k;let{column:{prototype:A}}=S.seriesTypes,{addEvent:E,defined:P}=G;return function(j){function T(B){let O=this.series,L=O.chart.renderer;this.moveToTopOnHover&&this.graphic&&(O.stateMarkerGraphic||(O.stateMarkerGraphic=new I(L,"use").css({pointerEvents:"none"}).add(this.graphic.parentGroup)),(B==null?void 0:B.state)==="hover"?(this.graphic.attr({id:this.id}),O.stateMarkerGraphic.attr({href:`${L.url}#${this.id}`,visibility:"visible"})):O.stateMarkerGraphic.attr({href:""}))}j.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return this.value!==null&&this.value!==1/0&&this.value!==-1/0&&(this.value===void 0||!isNaN(this.value))}},j.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(B){let O={};return P(B.color)&&(!B.state||B.state==="normal")&&(O[this.colorProp||"fill"]=B.color),O},pointAttribs:A.pointAttribs},j.compose=function(B){return E(B.prototype.pointClass,"afterSetState",T),B}}(k||(k={})),k}),N(x,"Core/Chart/MapChart.js",[x["Core/Chart/Chart.js"],x["Core/Defaults.js"],x["Core/Renderer/SVG/SVGRenderer.js"],x["Core/Utilities.js"]],function(S,I,G,k){var A;let{getOptions:E}=I,{isNumber:P,merge:j,pick:T}=k;class B extends S{init(L,g){let i=E().credits,m=j({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:T(i.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:T(i.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},L);super.init(m,g)}mapZoom(L,g,i,m,C){this.mapView&&(P(L)&&(L=Math.log(L)/Math.log(.5)),this.mapView.zoomBy(L,P(g)&&P(i)?this.mapView.projection.inverse([g,i]):void 0,P(m)&&P(C)?[m,C]:void 0))}update(L){var g;L.chart&&"map"in L.chart&&((g=this.mapView)==null||g.recommendMapView(this,[L.chart.map,...(this.options.series||[]).map(i=>i.mapData)],!0)),super.update.apply(this,arguments)}}return(A=B||(B={})).maps={},A.mapChart=function(O,L,g){return new A(O,L,g)},A.splitPath=function(O){let L;return L=typeof O=="string"?(O=O.replace(/([A-Z])/gi," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(g=>/[A-Z]/i.test(g)?g:parseFloat(g)):O,G.prototype.pathToSegments(L)},B}),N(x,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(S){let I=-Number.MAX_VALUE,G=Number.MAX_VALUE,k=-Number.MAX_VALUE,A=Number.MAX_VALUE,E;if(S.forEach(P=>{let j=P[P.length-2],T=P[P.length-1];typeof j=="number"&&typeof T=="number"&&(G=Math.min(G,j),I=Math.max(I,j),A=Math.min(A,T),k=Math.max(k,T),E=!0)}),E)return{x1:G,y1:A,x2:I,y2:k}}}}),N(x,"Series/Map/MapPoint.js",[x["Series/ColorMapComposition.js"],x["Maps/MapUtilities.js"],x["Core/Series/SeriesRegistry.js"],x["Core/Utilities.js"]],function(S,I,G,k){let{boundsFromPath:A}=I,E=G.seriesTypes.scatter.prototype.pointClass,{extend:P,isNumber:j,pick:T}=k;class B extends E{static getProjectedPath(L,g){return L.projectedPath||(g&&L.geometry?(g.hasCoordinates=!0,L.projectedPath=g.path(L.geometry)):L.projectedPath=L.path),L.projectedPath||[]}applyOptions(L,g){let i=this.series,m=super.applyOptions(L,g),C=i.joinBy;if(i.mapData&&i.mapMap){let v=C[1],b=super.getNestedProperty(v),t=b!==void 0&&i.mapMap[b];t?P(m,{...t,name:m.name??t.name}):i.pointArrayMap.indexOf("value")!==-1&&(m.value=m.value||null)}return m}getProjectedBounds(L){let g=A(B.getProjectedPath(this,L)),i=this.properties,m=this.series.chart.mapView;if(g){let C=i&&i["hc-middle-lon"],v=i&&i["hc-middle-lat"];if(m&&j(C)&&j(v)){let b=L.forward([C,v]);g.midX=b[0],g.midY=b[1]}else{let b=i&&i["hc-middle-x"],t=i&&i["hc-middle-y"];g.midX=g.x1+(g.x2-g.x1)*T(this.middleX,j(b)?b:.5);let n=T(this.middleY,j(t)?t:.5);this.geometry||(n=1-n),g.midY=g.y2-(g.y2-g.y1)*n}return g}}onMouseOver(L){k.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?super.onMouseOver.call(this,L):this.series.onMouseOut()}setVisible(L){this.visible=this.options.visible=!!L,this.dataLabel&&this.dataLabel[L?"show":"hide"](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))}zoomTo(L){let g=this.series.chart,i=g.mapView,m=this.bounds;if(i&&m){let C=j(this.insetIndex)&&i.insets[this.insetIndex];if(C){let v=C.projectedUnitsToPixels({x:m.x1,y:m.y1}),b=C.projectedUnitsToPixels({x:m.x2,y:m.y2}),t=i.pixelsToProjectedUnits({x:v.x,y:v.y}),n=i.pixelsToProjectedUnits({x:b.x,y:b.y});m={x1:t.x,y1:t.y,x2:n.x,y2:n.y}}i.fitToBounds(m,void 0,!1),this.series.isDirty=!0,g.redraw(L)}}}return P(B.prototype,{dataLabelOnNull:S.pointMembers.dataLabelOnNull,moveToTopOnHover:S.pointMembers.moveToTopOnHover,isValid:S.pointMembers.isValid}),B}),N(x,"Series/Map/MapSeriesDefaults.js",[x["Core/Utilities.js"]],function(S){let{isNumber:I}=S;return{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){let{numberFormatter:G}=this.series.chart,{value:k}=this.point;return I(k)?G(k,-1):this.point.name},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"}}),N(x,"Maps/MapViewDefaults.js",[],function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0,insetOptions:{borderColor:"#cccccc",borderWidth:1,padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}}}),N(x,"Maps/GeoJSONComposition.js",[x["Core/Globals.js"],x["Core/Templating.js"],x["Core/Utilities.js"]],function(S,I,G){var k;let{win:A}=S,{format:E}=I,{error:P,extend:j,merge:T,wrap:B}=G;return function(O){function L(b){return this.mapView&&this.mapView.lonLatToProjectedUnits(b)}function g(b){return this.mapView&&this.mapView.projectedUnitsToLonLat(b)}function i(b,t){let n=this.options.chart.proj4||A.proj4;if(!n){P(21,!1,this);return}let{jsonmarginX:p=0,jsonmarginY:l=0,jsonres:e=1,scale:c=1,xoffset:r=0,xpan:f=0,yoffset:u=0,ypan:D=0}=t,y=n(t.crs,[b.lon,b.lat]),s=t.cosAngle||t.rotation&&Math.cos(t.rotation),o=t.sinAngle||t.rotation&&Math.sin(t.rotation),a=t.rotation?[y[0]*s+y[1]*o,-y[0]*o+y[1]*s]:y;return{x:((a[0]-r)*c+f)*e+p,y:-(((u-a[1])*c+D)*e-l)}}function m(b,t){let n=this.options.chart.proj4||A.proj4;if(!n){P(21,!1,this);return}if(b.y===null)return;let{jsonmarginX:p=0,jsonmarginY:l=0,jsonres:e=1,scale:c=1,xoffset:r=0,xpan:f=0,yoffset:u=0,ypan:D=0}=t,y={x:((b.x-p)/e-f)/c+r,y:((b.y-l)/e+D)/c+u},s=t.cosAngle||t.rotation&&Math.cos(t.rotation),o=t.sinAngle||t.rotation&&Math.sin(t.rotation),a=n(t.crs,"WGS84",t.rotation?{x:y.x*s+-(y.y*o),y:y.x*o+y.y*s}:y);return{lat:a.y,lon:a.x}}function C(b,t){t||(t=Object.keys(b.objects)[0]);let n=b.objects[t];if(n["hc-decoded-geojson"]&&n["hc-decoded-geojson"].title===b.title)return n["hc-decoded-geojson"];let p=b.arcs;if(b.transform){let f,u,D,y=b.arcs,{scale:s,translate:o}=b.transform;p=[];for(let a=0,M=y.length;a<M;++a){let d=y[a];p.push(f=[]),u=0,D=0;for(let h=0,w=d.length;h<w;++h)f.push([(u+=d[h][0])*s[0]+o[0],(D+=d[h][1])*s[1]+o[1]])}}let l=f=>typeof f[0]=="number"?f.reduce((u,D,y)=>{let s=D<0?p[~D]:p[D];return D<0?(s=s.slice(0,y===0?s.length:s.length-1)).reverse():y&&(s=s.slice(1)),u.concat(s)},[]):f.map(l),e=n.geometries,c=[];for(let f=0,u=e.length;f<u;++f)c.push({type:"Feature",properties:e[f].properties,geometry:{type:e[f].type,coordinates:e[f].coordinates||l(e[f].arcs)}});let r={type:"FeatureCollection",copyright:b.copyright,copyrightShort:b.copyrightShort,copyrightUrl:b.copyrightUrl,features:c,"hc-recommended-mapview":n["hc-recommended-mapview"],bbox:b.bbox,title:b.title};return n["hc-decoded-geojson"]=r,r}function v(b,t){t=T(!0,this.options.credits,t),this.mapCredits&&(t.href=void 0),b.call(this,t),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}O.compose=function(b){let t=b.prototype;t.transformFromLatLon||(t.fromLatLonToPoint=L,t.fromPointToLatLon=g,t.transformFromLatLon=i,t.transformToLatLon=m,B(t,"addCredits",v))},O.geojson=function(b,t="map",n){var c,r;let p=[],l=b.type==="Topology"?C(b):b,e=l.features;for(let f=0,u=e.length;f<u;++f){let D,y=e[f],s=y.geometry||{},o=s.type,a=s.coordinates,M=y.properties;if((t==="map"||t==="mapbubble")&&(o==="Polygon"||o==="MultiPolygon")?a.length&&(D={geometry:{coordinates:a,type:o}}):t==="mapline"&&(o==="LineString"||o==="MultiLineString")?a.length&&(D={geometry:{coordinates:a,type:o}}):t==="mappoint"&&o==="Point"&&a.length&&(D={geometry:{coordinates:a,type:o}}),D){let d=M&&(M.name||M.NAME),h=M&&M.lon,w=M&&M.lat;p.push(j(D,{lat:typeof w=="number"?w:void 0,lon:typeof h=="number"?h:void 0,name:typeof d=="string"?d:void 0,properties:M}))}}return n&&l.copyrightShort&&(n.chart.mapCredits=E((c=n.chart.options.credits)==null?void 0:c.mapText,{geojson:l}),n.chart.mapCreditsFull=E((r=n.chart.options.credits)==null?void 0:r.mapTextFull,{geojson:l})),p},O.topo2geo=C}(k||(k={})),k}),N(x,"Core/Geometry/PolygonClip.js",[],function(){function S(k,A,E=!0){let P=A[A.length-1],j,T,B,O=k;for(let L=0;L<A.length;L++){let g=O;j=A[L],O=[],T=E?g[g.length-1]:g[0];for(let i=0;i<g.length;i++)I(P,j,B=g[i])?(I(P,j,T)||O.push(G(P,j,T,B)),O.push(B)):I(P,j,T)&&O.push(G(P,j,T,B)),T=B;P=j}return O}function I(k,A,E){return(A[0]-k[0])*(E[1]-k[1])>(A[1]-k[1])*(E[0]-k[0])}function G(k,A,E,P){let j=[k[0]-A[0],k[1]-A[1]],T=[E[0]-P[0],E[1]-P[1]],B=k[0]*A[1]-k[1]*A[0],O=E[0]*P[1]-E[1]*P[0],L=1/(j[0]*T[1]-j[1]*T[0]),g=[(B*T[0]-O*j[0])*L,(B*T[1]-O*j[1])*L];return g.isIntersection=!0,g}return{clipLineString:function(k,A){let E=[],P=S(k,A,!1);for(let j=1;j<P.length;j++)P[j].isIntersection&&P[j-1].isIntersection&&(E.push(P.splice(0,j)),j=0),j===P.length-1&&E.push(P);return E},clipPolygon:S}}),N(x,"Maps/Projections/LambertConformalConic.js",[],function(){let S=Math.sign||(A=>A===0?0:A>0?1:-1),I=Math.PI/180,G=Math.PI/2,k=A=>Math.tan((G+A)/2);return class{constructor(A){let E=(A.parallels||[]).map(O=>O*I),P=E[0]||0,j=E[1]??P,T=Math.cos(P);typeof A.projectedBounds=="object"&&(this.projectedBounds=A.projectedBounds);let B=P===j?Math.sin(P):Math.log(T/Math.cos(j))/Math.log(k(j)/k(P));1e-10>Math.abs(B)&&(B=1e-10*(S(B)||1)),this.n=B,this.c=T*Math.pow(k(P),B)/B}forward(A){let{c:E,n:P,projectedBounds:j}=this,T=A[0]*I,B=A[1]*I;E>0?B<-G+1e-6&&(B=-G+1e-6):B>G-1e-6&&(B=G-1e-6);let O=E/Math.pow(k(B),P),L=O*Math.sin(P*T)*63.78137,g=(E-O*Math.cos(P*T))*63.78137,i=[L,g];return j&&(L<j.x1||L>j.x2||g<j.y1||g>j.y2)&&(i.outside=!0),i}inverse(A){let{c:E,n:P}=this,j=A[0]/63.78137,T=E-A[1]/63.78137,B=S(P)*Math.sqrt(j*j+T*T),O=Math.atan2(j,Math.abs(T))*S(T);return T*P<0&&(O-=Math.PI*S(j)*S(T)),[O/P/I,(2*Math.atan(Math.pow(E/B,1/P))-G)/I]}}}),N(x,"Maps/Projections/EqualEarth.js",[],function(){let S=Math.sqrt(3)/2;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}forward(I){let G=Math.PI/180,k=Math.asin(S*Math.sin(I[1]*G)),A=k*k,E=A*A*A;return[I[0]*G*Math.cos(k)*74.03120656864502/(S*(1.340264+-.24331799999999998*A+E*(.0062510000000000005+.034164*A))),74.03120656864502*k*(1.340264+-.081106*A+E*(893e-6+.003796*A))]}inverse(I){let G=I[0]/74.03120656864502,k=I[1]/74.03120656864502,A=180/Math.PI,E=k,P,j,T,B;for(let g=0;g<12&&(j=(P=E*E)*P*P,T=E*(1.340264+-.081106*P+j*(893e-6+.003796*P))-k,E-=B=T/(1.340264+-.24331799999999998*P+j*(.0062510000000000005+.034164*P)),!(1e-9>Math.abs(B)));++g);j=(P=E*E)*P*P;let O=A*S*G*(1.340264+-.24331799999999998*P+j*(.0062510000000000005+.034164*P))/Math.cos(E),L=A*Math.asin(Math.sin(E)/S);return Math.abs(O)>180?[NaN,NaN]:[O,L]}}}),N(x,"Maps/Projections/Miller.js",[],function(){let S=Math.PI/4,I=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}forward(G){return[G[0]*I*63.78137,79.7267125*Math.log(Math.tan(S+.4*G[1]*I))]}inverse(G){return[G[0]/63.78137/I,2.5*(Math.atan(Math.exp(.8*(G[1]/63.78137)))-S)/I]}}}),N(x,"Maps/Projections/Orthographic.js",[],function(){let S=Math.PI/180;return class{constructor(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}forward(I){let G=I[0],k=I[1]*S,A=[Math.cos(k)*Math.sin(G*S)*63.78460826781007,63.78460826781007*Math.sin(k)];return(G<-90||G>90)&&(A.outside=!0),A}inverse(I){let G=I[0]/63.78460826781007,k=I[1]/63.78460826781007,A=Math.sqrt(G*G+k*k),E=Math.asin(A),P=Math.sin(E);return[Math.atan2(G*P,A*Math.cos(E))/S,Math.asin(A&&k*P/A)/S]}}}),N(x,"Maps/Projections/WebMercator.js",[],function(){let S=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}forward(I){let G=Math.sin(I[1]*S),k=[63.78137*I[0]*S,63.78137*Math.log((1+G)/(1-G))/2];return Math.abs(I[1])>this.maxLatitude&&(k.outside=!0),k}inverse(I){return[I[0]/(63.78137*S),(2*Math.atan(Math.exp(I[1]/63.78137))-Math.PI/2)/S]}}}),N(x,"Maps/Projections/ProjectionRegistry.js",[x["Maps/Projections/LambertConformalConic.js"],x["Maps/Projections/EqualEarth.js"],x["Maps/Projections/Miller.js"],x["Maps/Projections/Orthographic.js"],x["Maps/Projections/WebMercator.js"]],function(S,I,G,k,A){return{EqualEarth:I,LambertConformalConic:S,Miller:G,Orthographic:k,WebMercator:A}}),N(x,"Maps/Projection.js",[x["Core/Geometry/PolygonClip.js"],x["Maps/Projections/ProjectionRegistry.js"],x["Core/Utilities.js"]],function(S,I,G){let{clipLineString:k,clipPolygon:A}=S,{clamp:E,erase:P}=G,j=2*Math.PI/360,T=g=>(g<-180&&(g+=360),g>180&&(g-=360),g),B=g=>(1-Math.cos(g))/2,O=(g,i)=>{let m=Math.cos,C=g[1]*j,v=g[0]*j,b=i[1]*j,t=i[0]*j;return B(b-C)+m(C)*m(b)*B(t-v)};class L{static add(i,m){L.registry[i]=m}static distance(i,m){let{atan2:C,sqrt:v}=Math,b=O(i,m);return 6371e3*(2*C(v(b),v(1-b)))}static geodesic(i,m,C,v=5e5){let{atan2:b,cos:t,sin:n,sqrt:p}=Math,l=L.distance,e=i[1]*j,c=i[0]*j,r=m[1]*j,f=m[0]*j,u=t(e)*t(c),D=t(r)*t(f),y=t(e)*n(c),s=t(r)*n(f),o=n(e),a=n(r),M=l(i,m),d=M/6371e3,h=n(d),w=Math.round(M/v),z=[];if(C&&z.push(i),w>1){let V=1/w;for(let U=V;U<.999;U+=V){let X=n((1-U)*d)/h,W=n(U*d)/h,q=X*u+W*D,H=X*y+W*s,Y=b(X*o+W*a,p(q*q+H*H)),Z=b(H,q);z.push([Z/j,Y/j])}}return C&&z.push(m),z}static insertGeodesics(i){let m=i.length-1;for(;m--;)if(Math.max(Math.abs(i[m][0]-i[m+1][0]),Math.abs(i[m][1]-i[m+1][1]))>10){let C=L.geodesic(i[m],i[m+1]);C.length&&i.splice(m+1,0,...C)}}static toString(i){let{name:m,rotation:C}=i||{};return[m,C&&C.join(",")].join(";")}constructor(i={}){this.hasCoordinates=!1,this.hasGeoProjection=!1,this.maxLatitude=90,this.options=i;let{name:m,projectedBounds:C,rotation:v}=i;this.rotator=v?this.getRotator(v):void 0;let b=m?L.registry[m]:void 0;b&&(this.def=new b(i));let{def:t,rotator:n}=this;t&&(this.maxLatitude=t.maxLatitude||90,this.hasGeoProjection=!0),n&&t?(this.forward=p=>t.forward(n.forward(p)),this.inverse=p=>n.inverse(t.inverse(p))):t?(this.forward=p=>t.forward(p),this.inverse=p=>t.inverse(p)):n&&(this.forward=n.forward,this.inverse=n.inverse),this.bounds=C==="world"?t&&t.bounds:C}lineIntersectsBounds(i){let{x1:m,x2:C,y1:v,y2:b}=this.bounds||{},t=(l,e,c)=>{let[r,f]=l,u=e?0:1;if(typeof c=="number"&&r[e]>=c!=f[e]>=c){let D=(c-r[e])/(f[e]-r[e]),y=r[u]+D*(f[u]-r[u]);return e?[y,c]:[c,y]}},n,p=i[0];return((n=t(i,0,m))||(n=t(i,0,C)))&&(p=n,i[1]=n),((n=t(i,1,v))||(n=t(i,1,b)))&&(p=n),p}getRotator(i){let m=i[0]*j,C=(i[1]||0)*j,v=(i[2]||0)*j,b=Math.cos(C),t=Math.sin(C),n=Math.cos(v),p=Math.sin(v);if(m!==0||C!==0||v!==0)return{forward:l=>{let e=l[0]*j+m,c=l[1]*j,r=Math.cos(c),f=Math.cos(e)*r,u=Math.sin(e)*r,D=Math.sin(c),y=D*b+f*t;return[Math.atan2(u*n-y*p,f*b-D*t)/j,Math.asin(y*n+u*p)/j]},inverse:l=>{let e=l[0]*j,c=l[1]*j,r=Math.cos(c),f=Math.cos(e)*r,u=Math.sin(e)*r,D=Math.sin(c),y=D*n-u*p;return[(Math.atan2(u*n+D*p,f*b+y*t)-m)/j,Math.asin(y*b-f*t)/j]}}}forward(i){return i}inverse(i){return i}cutOnAntimeridian(i,m){let C,v=[],b=[i];for(let t=0,n=i.length;t<n;++t){let p=i[t],l=i[t-1];if(!t){if(!m)continue;l=i[i.length-1]}let e=l[0],c=p[0];if((e<-90||e>90)&&(c<-90||c>90)&&e>0!=c>0){let r=E((180-(e+360)%360)/((c+360)%360-(e+360)%360),0,1),f=l[1]+r*(p[1]-l[1]);v.push({i:t,lat:f,direction:e<0?1:-1,previousLonLat:l,lonLat:p})}}if(v.length)if(m){v.length%2==1&&(C=v.slice().sort((n,p)=>Math.abs(p.lat)-Math.abs(n.lat))[0],P(v,C));let t=v.length-2;for(;t>=0;){let n=v[t].i,p=T(180+1e-6*v[t].direction),l=T(180-1e-6*v[t].direction),e=i.splice(n,v[t+1].i-n,...L.geodesic([p,v[t].lat],[p,v[t+1].lat],!0));e.push(...L.geodesic([l,v[t+1].lat],[l,v[t].lat],!0)),b.push(e),t-=2}if(C)for(let n=0;n<b.length;n++){let{direction:p,lat:l}=C,e=b[n],c=e.indexOf(C.lonLat);if(c>-1){let r=(l<0?-1:1)*this.maxLatitude,f=T(180+1e-6*p),u=T(180-1e-6*p),D=L.geodesic([f,l],[f,r],!0);for(let y=f+120*p;y>-180&&y<180;y+=120*p)D.push([y,r]);D.push(...L.geodesic([u,r],[u,C.lat],!0)),e.splice(c,0,...D);break}}}else{let t=v.length;for(;t--;){let n=v[t].i,p=i.splice(n,i.length,[T(180+1e-6*v[t].direction),v[t].lat]);p.unshift([T(180-1e-6*v[t].direction),v[t].lat]),b.push(p)}}return b}path(i){let m,{bounds:C,def:v,rotator:b}=this,t=[],n=i.type==="Polygon"||i.type==="MultiPolygon",p=this.hasGeoProjection,l=!v||v.antimeridianCutting!==!1,e=l?b:void 0,c=l&&v||this;C&&(m=[[C.x1,C.y1],[C.x2,C.y1],[C.x2,C.y2],[C.x1,C.y2]]);let r=f=>{let u=f.map(y=>{if(l){e&&(y=e.forward(y));let s=y[0];1e-6>Math.abs(s-180)&&(s=s<180?179.999999:180.000001),y=[s,y[1]]}return y}),D=[u];p&&(L.insertGeodesics(u),l&&(D=this.cutOnAntimeridian(u,n))),D.forEach(y=>{let s,o;if(y.length<2)return;let a=!1,M=!1,d=V=>{a?t.push(["L",V[0],V[1]]):(t.push(["M",V[0],V[1]]),a=!0)},h=!1,w=!1,z=y.map(V=>{let U=c.forward(V);return U.outside?h=!0:w=!0,U[1]===1/0?U[1]=1e10:U[1]===-1/0&&(U[1]=-1e10),U});if(l){if(n&&z.push(z[0]),h){if(!w)return;if(m){if(n)z=A(z,m);else if(C){k(z,m).forEach(V=>{a=!1,V.forEach(d)});return}}}z.forEach(d)}else for(let V=0;V<z.length;V++){let U=y[V],X=z[V];X.outside?M=!0:(n&&!s&&(s=U,y.push(U),z.push(X)),M&&o&&(n&&p?L.geodesic(o,U).forEach(W=>d(c.forward(W))):a=!1),d(X),o=U,M=!1)}})};return i.type==="LineString"?r(i.coordinates):i.type==="MultiLineString"?i.coordinates.forEach(f=>r(f)):i.type==="Polygon"?(i.coordinates.forEach(f=>r(f)),t.length&&t.push(["Z"])):i.type==="MultiPolygon"&&(i.coordinates.forEach(f=>{f.forEach(u=>r(u))}),t.length&&t.push(["Z"])),t}}return L.registry=I,L}),N(x,"Maps/MapView.js",[x["Core/Globals.js"],x["Maps/MapViewDefaults.js"],x["Maps/GeoJSONComposition.js"],x["Core/Geometry/GeometryUtilities.js"],x["Maps/MapUtilities.js"],x["Maps/Projection.js"],x["Core/Utilities.js"]],function(S,I,G,k,A,E,P){let{composed:j}=S,{pointInPolygon:T}=k,{topo2geo:B}=G,{boundsFromPath:O}=A,{addEvent:L,clamp:g,crisp:i,fireEvent:m,isArray:C,isNumber:v,isObject:b,isString:t,merge:n,pick:p,pushUnique:l,relativeLength:e}=P,c={};function r(y,s){let{width:o,height:a}=s;return Math.log(400.979322/Math.max((y.x2-y.x1)/(o/256),(y.y2-y.y1)/(a/256)))/Math.log(2)}function f(y){var s,o;y.seriesOptions.mapData&&((o=this.mapView)==null||o.recommendMapView(this,[this.options.chart.map,y.seriesOptions.mapData],(s=this.options.drilldown)==null?void 0:s.mapZooming))}class u{static compose(s){l(j,"MapView")&&(c=s.maps,L(s,"afterInit",function(){this.mapView=new u(this,this.options.mapView)},{order:0}),L(s,"addSeriesAsDrilldown",f),L(s,"afterDrillUp",f))}static compositeBounds(s){if(s.length)return s.slice(1).reduce((o,a)=>(o.x1=Math.min(o.x1,a.x1),o.y1=Math.min(o.y1,a.y1),o.x2=Math.max(o.x2,a.x2),o.y2=Math.max(o.y2,a.y2),o),n(s[0]))}static mergeInsets(s,o){let a=d=>{let h={};return d.forEach((w,z)=>{h[w&&w.id||`i${z}`]=w}),h},M=n(a(s),a(o));return Object.keys(M).map(d=>M[d])}constructor(s,o){var h;this.allowTransformAnimation=!0,this.eventsToUnbind=[],this.insets=[],this.padding=[0,0,0,0],this.recommendedMapView={},this instanceof D||this.recommendMapView(s,[s.options.chart.map,...(s.options.series||[]).map(w=>w.mapData)]),this.userOptions=o||{};let a=n(I,this.recommendedMapView,o),M=(h=this.recommendedMapView)==null?void 0:h.insets,d=o&&o.insets;M&&d&&(a.insets=u.mergeInsets(M,d)),this.chart=s,this.center=a.center,this.options=a,this.projection=new E(a.projection),this.playingField=s.plotBox,this.zoom=a.zoom||0,this.minZoom=a.minZoom,this.createInsets(),this.eventsToUnbind.push(L(s,"afterSetChartSize",()=>{this.playingField=this.getField(),(this.minZoom===void 0||this.minZoom===this.zoom)&&(this.fitToBounds(void 0,void 0,!1),!this.chart.hasRendered&&v(this.userOptions.zoom)&&(this.zoom=this.userOptions.zoom),this.userOptions.center&&n(!0,this.center,this.userOptions.center))})),this.setUpEvents()}createInsets(){let s=this.options,o=s.insets;o&&o.forEach(a=>{let M=new D(this,n(s.insetOptions,a));this.insets.push(M)})}fitToBounds(s,o,a=!0,M){let d=s||this.getProjectedBounds();if(d){let h=p(o,s?0:this.options.padding),w=this.getField(!1),z=C(h)?h:[h,h,h,h];this.padding=[e(z[0],w.height),e(z[1],w.width),e(z[2],w.height),e(z[3],w.width)],this.playingField=this.getField();let V=r(d,this.playingField);s||(this.minZoom=V);let U=this.projection.inverse([(d.x2+d.x1)/2,(d.y2+d.y1)/2]);this.setView(U,V,a,M)}}getField(s=!0){let o=s?this.padding:[0,0,0,0];return{x:o[3],y:o[0],width:this.chart.plotWidth-o[1]-o[3],height:this.chart.plotHeight-o[0]-o[2]}}getGeoMap(s){if(t(s))return c[s]&&c[s].type==="Topology"?B(c[s]):c[s];if(b(s,!0)){if(s.type==="FeatureCollection")return s;if(s.type==="Topology")return B(s)}}getMapBBox(){let s=this.getProjectedBounds(),o=this.getScale();if(s){let a=this.padding,M=this.projectedUnitsToPixels({x:s.x1,y:s.y2});return{width:(s.x2-s.x1)*o+a[1]+a[3],height:(s.y2-s.y1)*o+a[0]+a[2],x:M.x-a[3],y:M.y-a[0]}}}getProjectedBounds(){let s=this.projection,o=this.chart.series.reduce((M,d)=>{let h=d.getProjectedBounds&&d.getProjectedBounds();return h&&d.options.affectsMapView!==!1&&M.push(h),M},[]),a=this.options.fitToGeometry;if(a){if(!this.fitToGeometryCache)if(a.type==="MultiPoint"){let M=a.coordinates.map(w=>s.forward(w)),d=M.map(w=>w[0]),h=M.map(w=>w[1]);this.fitToGeometryCache={x1:Math.min.apply(0,d),x2:Math.max.apply(0,d),y1:Math.min.apply(0,h),y2:Math.max.apply(0,h)}}else this.fitToGeometryCache=O(s.path(a));return this.fitToGeometryCache}return this.projection.bounds||u.compositeBounds(o)}getScale(){return 256/400.979322*Math.pow(2,this.zoom)}getSVGTransform(){let{x:s,y:o,width:a,height:M}=this.playingField,d=this.projection.forward(this.center),h=this.projection.hasCoordinates?-1:1,w=this.getScale(),z=w*h,V=s+a/2-d[0]*w,U=o+M/2-d[1]*z;return{scaleX:w,scaleY:z,translateX:V,translateY:U}}lonLatToPixels(s){let o=this.lonLatToProjectedUnits(s);if(o)return this.projectedUnitsToPixels(o)}lonLatToProjectedUnits(s){let o=this.chart,a=o.mapTransforms;if(a){for(let d in a)if(Object.hasOwnProperty.call(a,d)&&a[d].hitZone){let h=o.transformFromLatLon(s,a[d]);if(h&&T(h,a[d].hitZone.coordinates[0]))return h}return o.transformFromLatLon(s,a.default)}for(let d of this.insets)if(d.options.geoBounds&&T({x:s.lon,y:s.lat},d.options.geoBounds.coordinates[0])){let h=d.projection.forward([s.lon,s.lat]),w=d.projectedUnitsToPixels({x:h[0],y:h[1]});return this.pixelsToProjectedUnits(w)}let M=this.projection.forward([s.lon,s.lat]);if(!M.outside)return{x:M[0],y:M[1]}}projectedUnitsToLonLat(s){let o=this.chart,a=o.mapTransforms;if(a){for(let h in a)if(Object.hasOwnProperty.call(a,h)&&a[h].hitZone&&T(s,a[h].hitZone.coordinates[0]))return o.transformToLatLon(s,a[h]);return o.transformToLatLon(s,a.default)}let M=this.projectedUnitsToPixels(s);for(let h of this.insets)if(h.hitZone&&T(M,h.hitZone.coordinates[0])){let w=h.pixelsToProjectedUnits(M),z=h.projection.inverse([w.x,w.y]);return{lon:z[0],lat:z[1]}}let d=this.projection.inverse([s.x,s.y]);return{lon:d[0],lat:d[1]}}recommendMapView(s,o,a=!1){var w;this.recommendedMapView={};let M=o.map(z=>this.getGeoMap(z)),d=[];M.forEach(z=>{if(z&&(Object.keys(this.recommendedMapView).length||(this.recommendedMapView=z["hc-recommended-mapview"]||{}),z.bbox)){let[V,U,X,W]=z.bbox;d.push({x1:V,y1:U,x2:X,y2:W})}});let h=d.length&&u.compositeBounds(d);m(this,"onRecommendMapView",{geoBounds:h,chart:s},function(){if(h&&this.recommendedMapView){if(!this.recommendedMapView.projection){let{x1:z,y1:V,x2:U,y2:X}=h;this.recommendedMapView.projection=U-z>180&&X-V>90?{name:"EqualEarth",parallels:[0,0],rotation:[0]}:{name:"LambertConformalConic",parallels:[V,X],rotation:[-(z+U)/2]}}this.recommendedMapView.insets||(this.recommendedMapView.insets=void 0)}}),this.geoMap=M[0],a&&s.hasRendered&&!((w=s.userOptions.mapView)!=null&&w.projection)&&this.recommendedMapView&&this.update(this.recommendedMapView)}redraw(s){this.chart.series.forEach(o=>{o.useMapGeometry&&(o.isDirty=!0)}),this.chart.redraw(s)}setView(s,o,a=!0,M){s&&(this.center=s),typeof o=="number"&&(typeof this.minZoom=="number"&&(o=Math.max(o,this.minZoom)),typeof this.options.maxZoom=="number"&&(o=Math.min(o,this.options.maxZoom)),v(o)&&(this.zoom=o));let d=this.getProjectedBounds();if(d){let h=this.projection.forward(this.center),{x:w,y:z,width:V,height:U}=this.playingField,X=this.getScale(),W=this.projectedUnitsToPixels({x:d.x1,y:d.y1}),q=this.projectedUnitsToPixels({x:d.x2,y:d.y2}),H=[(d.x1+d.x2)/2,(d.y1+d.y2)/2];if(!this.chart.series.some(Y=>Y.isDrilling)){let Y=W.x,Z=q.y,R=q.x,F=W.y;R-Y<V?h[0]=H[0]:Y<w&&R<w+V?h[0]+=Math.max(Y-w,R-V-w)/X:R>w+V&&Y>w&&(h[0]+=Math.min(R-V-w,Y-w)/X),F-Z<U?h[1]=H[1]:Z<z&&F<z+U?h[1]-=Math.max(Z-z,F-U-z)/X:F>z+U&&Z>z&&(h[1]-=Math.min(F-U-z,Z-z)/X),this.center=this.projection.inverse(h)}this.insets.forEach(Y=>{Y.options.field&&(Y.hitZone=Y.getHitZone(),Y.playingField=Y.getField())}),this.render()}m(this,"afterSetView"),a&&this.redraw(M)}projectedUnitsToPixels(s){let o=this.getScale(),a=this.projection.forward(this.center),M=this.playingField,d=M.x+M.width/2,h=M.y+M.height/2;return{x:d-o*(a[0]-s.x),y:h+o*(a[1]-s.y)}}pixelsToLonLat(s){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(s))}pixelsToProjectedUnits(s){let{x:o,y:a}=s,M=this.getScale(),d=this.projection.forward(this.center),h=this.playingField,w=h.x+h.width/2,z=h.y+h.height/2;return{x:d[0]+(o-w)/M,y:d[1]-(a-z)/M}}setUpEvents(){let s,o,a,{chart:M}=this,d=h=>{let{lastTouches:w,pinchDown:z}=M.pointer,V=this.projection,U=h.touches,{mouseDownX:X,mouseDownY:W}=M,q=0;if((z==null?void 0:z.length)===1?(X=z[0].chartX,W=z[0].chartY):(z==null?void 0:z.length)===2&&(X=(z[0].chartX+z[1].chartX)/2,W=(z[0].chartY+z[1].chartY)/2),(U==null?void 0:U.length)===2&&w&&(q=Math.log(Math.sqrt(Math.pow(w[0].chartX-w[1].chartX,2)+Math.pow(w[0].chartY-w[1].chartY,2))/Math.sqrt(Math.pow(U[0].chartX-U[1].chartX,2)+Math.pow(U[0].chartY-U[1].chartY,2)))/Math.log(.5)),v(X)&&v(W)){let H=`${X},${W}`,{chartX:Y,chartY:Z}=h.originalEvent;(U==null?void 0:U.length)===2&&(Y=(U[0].chartX+U[1].chartX)/2,Z=(U[0].chartY+U[1].chartY)/2),H!==o&&(o=H,s=this.projection.forward(this.center),a=(this.projection.options.rotation||[0,0]).slice());let R=V.def&&V.def.bounds,F=R&&r(R,this.playingField)||-1/0;if(V.options.name==="Orthographic"&&2>((U==null?void 0:U.length)||0)&&(this.minZoom||1/0)<1.3*F){let $=440/(this.getScale()*Math.min(M.plotWidth,M.plotHeight));if(a){let J=(X-Y)*$-a[0],K=g(-a[1]-(W-Z)*$,-80,80),ee=this.zoom;this.update({projection:{rotation:[-J,-K]}},!1),this.fitToBounds(void 0,void 0,!1),this.zoom=ee,M.redraw(!1)}}else if(v(Y)&&v(Z)){let $=this.getScale(),J=this.projection.hasCoordinates?1:-1,K=this.projection.inverse([s[0]+(X-Y)/$,s[1]-(W-Z)/$*J]);isNaN(K[0]+K[1])||this.zoomBy(q,K,void 0,!1)}h.preventDefault()}};L(M,"pan",d),L(M,"touchpan",d),L(M,"selection",h=>{if(h.resetSelection)this.zoomBy();else{let w=h.x-M.plotLeft,z=h.y-M.plotTop,{y:V,x:U}=this.pixelsToProjectedUnits({x:w,y:z}),{y:X,x:W}=this.pixelsToProjectedUnits({x:w+h.width,y:z+h.height});this.fitToBounds({x1:U,y1:V,x2:W,y2:X},void 0,!0,!h.originalEvent.touches&&void 0),/^touch/.test(h.originalEvent.type)||M.showResetZoom(),h.preventDefault()}})}render(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())}update(s,o=!0,a){let M=s.projection,d=M&&E.toString(M)!==E.toString(this.options.projection),h=!1;n(!0,this.userOptions,s),n(!0,this.options,s),"insets"in s&&(this.insets.forEach(w=>w.destroy()),this.insets.length=0,h=!0),(d||"fitToGeometry"in s)&&delete this.fitToGeometryCache,(d||h)&&(this.chart.series.forEach(w=>{let z=w.transformGroups;if(w.clearBounds&&w.clearBounds(),w.isDirty=!0,w.isDirtyData=!0,h&&z)for(;z.length>1;){let V=z.pop();V&&V.destroy()}}),d&&(this.projection=new E(this.options.projection)),h&&this.createInsets(),!s.center&&Object.hasOwnProperty.call(s,"zoom")&&!v(s.zoom)&&this.fitToBounds(void 0,void 0,!1)),s.center||v(s.zoom)?this.setView(this.options.center,s.zoom,!1):"fitToGeometry"in s&&this.fitToBounds(void 0,void 0,!1),o&&this.chart.redraw(a)}zoomBy(s,o,a,M){let d=this.chart,h=this.projection.forward(this.center);if(typeof s=="number"){let w,z,V,U=this.zoom+s;if(a){let[X,W]=a,q=this.getScale(),H=X-d.plotLeft-d.plotWidth/2,Y=W-d.plotTop-d.plotHeight/2;z=h[0]+H/q,V=h[1]+Y/q}if(typeof z=="number"&&typeof V=="number"){let X=1-Math.pow(2,this.zoom)/Math.pow(2,U),W=h[0]-z,q=h[1]-V;h[0]-=W*X,h[1]+=q*X,w=this.projection.inverse(h)}this.setView(o||w,U,void 0,M)}else this.fitToBounds(void 0,void 0,void 0,M)}}class D extends u{constructor(s,o){if(super(s.chart,o),this.id=o.id,this.mapView=s,this.options=n({center:[0,0]},s.options.insetOptions,o),this.allBounds=[],this.options.geoBounds){let a=s.projection.path(this.options.geoBounds);this.geoBoundsProjectedBox=O(a),this.geoBoundsProjectedPolygon=a.map(M=>[M[1]||0,M[2]||0])}}getField(s=!0){let o=this.hitZone;if(o){let a=s?this.padding:[0,0,0,0],M=o.coordinates[0],d=M.map(X=>X[0]),h=M.map(X=>X[1]),w=Math.min.apply(0,d)+a[3],z=Math.max.apply(0,d)-a[1],V=Math.min.apply(0,h)+a[0],U=Math.max.apply(0,h)-a[2];if(v(w)&&v(V))return{x:w,y:V,width:z-w,height:U-V}}return super.getField.call(this,s)}getHitZone(){let{chart:s,mapView:o,options:a}=this,{coordinates:M}=a.field||{};if(M){let d=M[0];if(a.units==="percent"){let h=a.relativeTo==="mapBoundingBox"&&o.getMapBBox()||n(s.plotBox,{x:0,y:0});d=d.map(w=>[e(`${w[0]}%`,h.width,h.x),e(`${w[1]}%`,h.height,h.y)])}return{type:"Polygon",coordinates:[d]}}}getProjectedBounds(){return u.compositeBounds(this.allBounds)}isInside(s){let{geoBoundsProjectedBox:o,geoBoundsProjectedPolygon:a}=this;return!!(o&&s.x>=o.x1&&s.x<=o.x2&&s.y>=o.y1&&s.y<=o.y2&&a&&T(s,a))}render(){let{chart:s,mapView:o,options:a}=this,M=a.borderPath||a.field;if(M&&o.group){let d=!0;this.border||(this.border=s.renderer.path().addClass("highcharts-mapview-inset-border").add(o.group),d=!1),s.styledMode||this.border.attr({stroke:a.borderColor,"stroke-width":a.borderWidth});let h=this.border.strokeWidth(),w=a.relativeTo==="mapBoundingBox"&&o.getMapBBox()||o.playingField,z=(M.coordinates||[]).reduce((V,U)=>U.reduce((X,W,q)=>{let[H,Y]=W;return a.units==="percent"&&(H=s.plotLeft+e(`${H}%`,w.width,w.x),Y=s.plotTop+e(`${Y}%`,w.height,w.y)),H=i(H,h),Y=i(Y,h),X.push(q===0?["M",H,Y]:["L",H,Y]),X},V),[]);this.border[d?"animate":"attr"]({d:z})}}destroy(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach(s=>s())}setUpEvents(){}}return u}),N(x,"Series/Map/MapSeries.js",[x["Core/Animation/AnimationUtilities.js"],x["Series/ColorMapComposition.js"],x["Series/CenteredUtilities.js"],x["Core/Globals.js"],x["Core/Chart/MapChart.js"],x["Series/Map/MapPoint.js"],x["Series/Map/MapSeriesDefaults.js"],x["Maps/MapView.js"],x["Core/Series/SeriesRegistry.js"],x["Core/Utilities.js"]],function(S,I,G,k,A,E,P,j,T,B){let{animObject:O,stop:L}=S,{noop:g}=k,{splitPath:i}=A,{column:m,scatter:C}=T.seriesTypes,{extend:v,find:b,fireEvent:t,getNestedProperty:n,isArray:p,defined:l,isNumber:e,isObject:c,merge:r,objectEach:f,pick:u,splat:D}=B;class y extends C{constructor(){super(...arguments),this.processedData=[]}animate(o){let{chart:a,group:M}=this,d=O(this.options.animation);o?M.attr({translateX:a.plotLeft+a.plotWidth/2,translateY:a.plotTop+a.plotHeight/2,scaleX:.001,scaleY:.001}):M.animate({translateX:a.plotLeft,translateY:a.plotTop,scaleX:1,scaleY:1},d)}clearBounds(){this.points.forEach(o=>{delete o.bounds,delete o.insetIndex,delete o.projectedPath}),delete this.bounds}doFullTranslate(){return!!(this.isDirtyData||this.chart.isResizing||!this.hasRendered)}drawMapDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}drawPoints(){let o=this,{chart:a,group:M,transformGroups:d=[]}=this,{mapView:h,renderer:w}=a;if(h){this.transformGroups=d,d[0]||(d[0]=w.g().add(M));for(let z=0,V=h.insets.length;z<V;++z)d[z+1]||d.push(w.g().add(M));this.doFullTranslate()&&(this.points.forEach(z=>{let{graphic:V}=z;z.group=d[typeof z.insetIndex=="number"?z.insetIndex+1:0],V&&V.parentGroup!==z.group&&V.add(z.group)}),m.prototype.drawPoints.apply(this),this.points.forEach(z=>{let V=z.graphic;if(V){let U=V.animate,X="";z.name&&(X+="highcharts-name-"+z.name.replace(/ /g,"-").toLowerCase()),z.properties&&z.properties["hc-key"]&&(X+=" highcharts-key-"+z.properties["hc-key"].toString().toLowerCase()),X&&V.addClass(X),a.styledMode&&V.css(this.pointAttribs(z,z.selected&&"select"||void 0)),V.attr({visibility:!z.visible&&(z.visible||z.isNull)?"hidden":"inherit"}),V.animate=function(W,q,H){let Y=e(W["stroke-width"])&&!e(V["stroke-width"]),Z=e(V["stroke-width"])&&!e(W["stroke-width"]);if(Y||Z){let R=u(o.getStrokeWidth(o.options),1)/(a.mapView&&a.mapView.getScale()||1);Y&&(V["stroke-width"]=R),Z&&(W["stroke-width"]=R)}return U.call(V,W,q,Z?function(){V.element.removeAttribute("stroke-width"),delete V["stroke-width"],H&&H.apply(this,arguments)}:H)}}})),d.forEach((z,V)=>{let U=(V===0?h:h.insets[V-1]).getSVGTransform(),X=u(this.getStrokeWidth(this.options),1),W=U.scaleX,q=U.scaleY>0?1:-1,H=Y=>{(o.points||[]).forEach(Z=>{let R,F=Z.graphic;F&&F["stroke-width"]&&(R=this.getStrokeWidth(Z.options))&&F.attr({"stroke-width":R/Y})})};if(w.globalAnimation&&a.hasRendered&&h.allowTransformAnimation){let Y=Number(z.attr("translateX")),Z=Number(z.attr("translateY")),R=Number(z.attr("scaleX")),F=(K,ee)=>{let se=R+(W-R)*ee.pos;z.attr({translateX:Y+(U.translateX-Y)*ee.pos,translateY:Z+(U.translateY-Z)*ee.pos,scaleX:se,scaleY:se*q,"stroke-width":X/se}),H(se)},$=r(O(w.globalAnimation)),J=$.step;$.step=function(){J&&J.apply(this,arguments),F.apply(this,arguments)},z.attr({animator:0}).animate({animator:1},$,(function(){typeof w.globalAnimation!="boolean"&&w.globalAnimation.complete&&w.globalAnimation.complete({applyDrilldown:!0}),t(this,"mapZoomComplete")}).bind(this))}else L(z),z.attr(r(U,{"stroke-width":X/W})),H(W)}),this.isDrilling||this.drawMapDataLabels()}}getProjectedBounds(){if(!this.bounds&&this.chart.mapView){let{insets:o,projection:a}=this.chart.mapView,M=[];(this.points||[]).forEach(d=>{if(d.path||d.geometry){if(typeof d.path=="string"?d.path=i(d.path):p(d.path)&&d.path[0]==="M"&&(d.path=this.chart.renderer.pathToSegments(d.path)),!d.bounds){let h=d.getProjectedBounds(a);if(h){d.labelrank=u(d.labelrank,(h.x2-h.x1)*(h.y2-h.y1));let{midX:w,midY:z}=h;if(o&&e(w)&&e(z)){let V=b(o,U=>U.isInside({x:w,y:z}));V&&(delete d.projectedPath,(h=d.getProjectedBounds(V.projection))&&V.allBounds.push(h),d.insetIndex=o.indexOf(V))}d.bounds=h}}d.bounds&&d.insetIndex===void 0&&M.push(d.bounds)}}),this.bounds=j.compositeBounds(M)}return this.bounds}getStrokeWidth(o){let a=this.pointAttrToOptions;return o[a&&a["stroke-width"]||"borderWidth"]}hasData(){return!!this.processedXData.length}pointAttribs(o,a){let{mapView:M,styledMode:d}=o.series.chart,h=d?this.colorAttribs(o):m.prototype.pointAttribs.call(this,o,a),w=this.getStrokeWidth(o.options);if(a){let V=r(this.options.states&&this.options.states[a],o.options.states&&o.options.states[a]||{}),U=this.getStrokeWidth(V);l(U)&&(w=U),h.stroke=V.borderColor??o.color}w&&M&&(w/=M.getScale());let z=this.getStrokeWidth(this.options);return h.dashstyle&&M&&e(z)&&(w=z/M.getScale()),o.visible||(h.fill=this.options.nullColor),l(w)?h["stroke-width"]=w:delete h["stroke-width"],h["stroke-linecap"]=h["stroke-linejoin"]=this.options.linecap,h}updateData(){return!this.processedData&&super.updateData.apply(this,arguments)}setData(o,a=!0,M,d){delete this.bounds,super.setData(o,!1,void 0,d),this.processData(),this.generatePoints(),a&&this.chart.redraw(M)}processData(){let o,a,M,d=this.options,h=d.data,w=this.chart,z=w.options.chart,V=this.joinBy,U=d.keys||this.pointArrayMap,X=[],W={},q=this.chart.mapView,H=q&&(c(d.mapData,!0)?q.getGeoMap(d.mapData):q.geoMap),Y=w.mapTransforms=z.mapTransforms||H&&H["hc-transform"]||w.mapTransforms;Y&&f(Y,R=>{R.rotation&&(R.cosAngle=Math.cos(R.rotation),R.sinAngle=Math.sin(R.rotation))}),p(d.mapData)?M=d.mapData:H&&H.type==="FeatureCollection"&&(this.mapTitle=H.title,M=k.geojson(H,this.type,this)),this.processedData=[];let Z=this.processedData;if(h){let R;for(let F=0,$=h.length;F<$;++F){if(e(R=h[F]))Z[F]={value:R};else if(p(R)){let J=0;Z[F]={},!d.keys&&R.length>U.length&&typeof R[0]=="string"&&(Z[F]["hc-key"]=R[0],++J);for(let K=0;K<U.length;++K,++J)U[K]&&R[J]!==void 0&&(U[K].indexOf(".")>0?E.prototype.setNestedProperty(Z[F],R[J],U[K]):Z[F][U[K]]=R[J])}else Z[F]=h[F];V&&V[0]==="_i"&&(Z[F]._i=F)}}if(M){this.mapData=M,this.mapMap={};for(let R=0;R<M.length;R++)a=(o=M[R]).properties,o._i=R,V[0]&&a&&a[V[0]]&&(o[V[0]]=a[V[0]]),W[o[V[0]]]=o;if(this.mapMap=W,V[1]){let R=V[1];Z.forEach(F=>{let $=n(R,F);W[$]&&X.push(W[$])})}if(d.allAreas){if(V[1]){let F=V[1];Z.forEach($=>{X.push(n(F,$))})}let R="|"+X.map(function(F){return F&&F[V[0]]}).join("|")+"|";M.forEach(F=>{V[0]&&R.indexOf("|"+F[V[0]]+"|")!==-1||Z.push(r(F,{value:null}))})}}this.processedXData=Array(Z.length)}setOptions(o){let a=super.setOptions(o),M=a.joinBy;return a.joinBy===null&&(M="_i"),(M=this.joinBy=D(M))[1]||(M[1]=M[0]),a}translate(){let o=this.doFullTranslate(),a=this.chart.mapView,M=a&&a.projection;if(this.chart.hasRendered&&(this.isDirtyData||!this.hasRendered)&&(this.processData(),this.generatePoints(),delete this.bounds,!a||a.userOptions.center||e(a.userOptions.zoom)||a.zoom!==a.minZoom?this.getProjectedBounds():a.fitToBounds(void 0,void 0,!1)),a){let d=a.getSVGTransform();this.points.forEach(h=>{let w=e(h.insetIndex)&&a.insets[h.insetIndex].getSVGTransform()||d;w&&h.bounds&&e(h.bounds.midX)&&e(h.bounds.midY)&&(h.plotX=h.bounds.midX*w.scaleX+w.translateX,h.plotY=h.bounds.midY*w.scaleY+w.translateY),o&&(h.shapeType="path",h.shapeArgs={d:E.getProjectedPath(h,M)}),h.hiddenInDataClass||(h.projectedPath&&!h.projectedPath.length?h.setVisible(!1):h.visible||h.setVisible(!0))})}t(this,"afterTranslate")}update(o){var a;o.mapData&&((a=this.chart.mapView)==null||a.recommendMapView(this.chart,[this.chart.options.chart.map,...(this.chart.options.series||[]).map((M,d)=>d===this._i?o.mapData:M.mapData)],!0)),super.update.apply(this,arguments)}}return y.defaultOptions=r(C.defaultOptions,P),v(y.prototype,{type:"map",axisTypes:I.seriesMembers.axisTypes,colorAttribs:I.seriesMembers.colorAttribs,colorKey:I.seriesMembers.colorKey,directTouch:!0,drawDataLabels:g,drawGraph:g,forceDL:!0,getCenter:G.getCenter,getExtremesFromAll:!0,getSymbol:g,isCartesian:!1,parallelArrays:I.seriesMembers.parallelArrays,pointArrayMap:I.seriesMembers.pointArrayMap,pointClass:E,preserveAspectRatio:!0,searchPoint:g,trackerGroups:I.seriesMembers.trackerGroups,useMapGeometry:!0}),I.compose(y),T.registerSeriesType("map",y),y}),N(x,"Series/MapLine/MapLineSeriesDefaults.js",[],function(){return{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"}}),N(x,"Series/MapLine/MapLineSeries.js",[x["Series/MapLine/MapLineSeriesDefaults.js"],x["Series/Map/MapSeries.js"],x["Core/Series/SeriesRegistry.js"],x["Core/Utilities.js"]],function(S,I,G,k){let{extend:A,merge:E}=k;class P extends I{pointAttribs(T,B){let O=super.pointAttribs(T,B);return O.fill=this.options.fillColor,O}}return P.defaultOptions=E(I.defaultOptions,S),A(P.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),G.registerSeriesType("mapline",P),P}),N(x,"Series/MapPoint/MapPointPoint.js",[x["Core/Series/SeriesRegistry.js"],x["Core/Utilities.js"]],function(S,I){let{scatter:G}=S.seriesTypes,{isNumber:k}=I;class A extends G.prototype.pointClass{isValid(){return!!(this.options.geometry||k(this.x)&&k(this.y)||k(this.options.lon)&&k(this.options.lat))}}return A}),N(x,"Series/MapPoint/MapPointSeriesDefaults.js",[],function(){return{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"}}),N(x,"Series/MapPoint/MapPointSeries.js",[x["Core/Globals.js"],x["Series/MapPoint/MapPointPoint.js"],x["Series/MapPoint/MapPointSeriesDefaults.js"],x["Core/Series/SeriesRegistry.js"],x["Core/Renderer/SVG/SVGRenderer.js"],x["Core/Utilities.js"]],function(S,I,G,k,A,E){let{noop:P}=S,{map:j,scatter:T}=k.seriesTypes,{extend:B,fireEvent:O,isNumber:L,merge:g}=E;class i extends T{constructor(){super(...arguments),this.clearBounds=j.prototype.clearBounds}drawDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}projectPoint(C){let v=this.chart.mapView;if(v){let{geometry:b,lon:t,lat:n}=C,p=b&&b.type==="Point"&&b.coordinates;if(L(t)&&L(n)&&(p=[t,n]),p)return v.lonLatToProjectedUnits({lon:p[0],lat:p[1]})}}translate(){let C=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),C){let v=C.getSVGTransform(),{hasCoordinates:b}=C.projection;this.points.forEach(t=>{let n,{x:p,y:l}=t,e=L(t.insetIndex)&&C.insets[t.insetIndex].getSVGTransform()||v,c=this.projectPoint(t.options)||t.properties&&this.projectPoint(t.properties);if(c?(p=c.x,l=c.y):t.bounds&&(p=t.bounds.midX,l=t.bounds.midY,e&&L(p)&&L(l)&&(t.plotX=p*e.scaleX+e.translateX,t.plotY=l*e.scaleY+e.translateY,n=!0)),L(p)&&L(l)){if(!n){let r=C.projectedUnitsToPixels({x:p,y:l});t.plotX=r.x,t.plotY=b?r.y:this.chart.plotHeight-r.y}}else t.y=t.plotX=t.plotY=void 0;t.isInside=this.isPointInside(t),t.zone=this.zones.length?t.getZone():void 0})}O(this,"afterTranslate")}}return i.defaultOptions=g(T.defaultOptions,G),A.prototype.symbols.mapmarker=(m,C,v,b,t)=>{let n,p,l=t&&t.context==="legend";l?(n=m+v/2,p=C+b):t&&typeof t.anchorX=="number"&&typeof t.anchorY=="number"?(n=t.anchorX,p=t.anchorY):(n=m+v/2,p=C+b/2,C-=b);let e=l?b/3:b/2;return[["M",n,p],["C",n,p,n-e,C+1.5*e,n-e,C+e],["A",e,e,1,1,1,n+e,C+e],["C",n+e,C+1.5*e,n,p,n,p],["Z"]]},B(i.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:I,searchPoint:P,useMapGeometry:!0}),k.registerSeriesType("mappoint",i),i}),N(x,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),N(x,"Series/Bubble/BubbleLegendItem.js",[x["Core/Color/Color.js"],x["Core/Templating.js"],x["Core/Globals.js"],x["Core/Utilities.js"]],function(S,I,G,k){let{parse:A}=S,{noop:E}=G,{arrayMax:P,arrayMin:j,isNumber:T,merge:B,pick:O,stableSort:L}=k;return class{constructor(g,i){this.setState=E,this.init(g,i)}init(g,i){this.options=g,this.visible=!0,this.chart=i.chart,this.legend=i}addToLegend(g){g.splice(this.options.legendIndex,0,this)}drawLegendSymbol(g){let i,m=O(g.options.itemDistance,20),C=this.legendItem||{},v=this.options,b=v.ranges,t=v.connectorDistance;if(!b||!b.length||!T(b[0].value)){g.options.bubbleLegend.autoRanges=!0;return}L(b,function(e,c){return c.value-e.value}),this.ranges=b,this.setOptions(),this.render();let n=this.getMaxLabelSize(),p=this.ranges[0].radius,l=2*p;i=(i=t-p+n.width)>0?i:0,this.maxLabel=n,this.movementX=v.labels.align==="left"?i:0,C.labelWidth=l+i+m,C.labelHeight=l+n.height/2}setOptions(){let g=this.ranges,i=this.options,m=this.chart.series[i.seriesIndex],C=this.legend.baseline,v={zIndex:i.zIndex,"stroke-width":i.borderWidth},b={zIndex:i.zIndex,"stroke-width":i.connectorWidth},t={align:this.legend.options.rtl||i.labels.align==="left"?"right":"left",zIndex:i.zIndex},n=m.options.marker.fillOpacity,p=this.chart.styledMode;g.forEach(function(l,e){p||(v.stroke=O(l.borderColor,i.borderColor,m.color),v.fill=O(l.color,i.color,n!==1?A(m.color).setOpacity(n).get("rgba"):m.color),b.stroke=O(l.connectorColor,i.connectorColor,m.color)),g[e].radius=this.getRangeRadius(l.value),g[e]=B(g[e],{center:g[0].radius-g[e].radius+C}),p||B(!0,g[e],{bubbleAttribs:B(v),connectorAttribs:B(b),labelAttribs:t})},this)}getRangeRadius(g){let i=this.options,m=this.options.seriesIndex,C=this.chart.series[m],v=i.ranges[0].value,b=i.ranges[i.ranges.length-1].value,t=i.minSize,n=i.maxSize;return C.getRadius.call(this,b,v,t,n,g)}render(){let g=this.legendItem||{},i=this.chart.renderer,m=this.options.zThreshold;for(let C of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),g.symbol=i.g("bubble-legend"),g.label=i.g("bubble-legend-item").css(this.legend.itemStyle||{}),g.symbol.translateX=0,g.symbol.translateY=0,g.symbol.add(g.label),g.label.add(g.group),this.ranges))C.value>=m&&this.renderRange(C);this.hideOverlappingLabels()}renderRange(g){let i=this.ranges[0],m=this.legend,C=this.options,v=C.labels,b=this.chart,t=b.series[C.seriesIndex],n=b.renderer,p=this.symbols,l=p.labels,e=g.center,c=Math.abs(g.radius),r=C.connectorDistance||0,f=v.align,u=m.options.rtl,D=C.borderWidth,y=C.connectorWidth,s=i.radius||0,o=e-c-D/2+y/2,a=(o%1?1:.5)-(y%2?0:.5),M=n.styledMode,d=u||f==="left"?-r:r;f==="center"&&(d=0,C.connectorDistance=0,g.labelAttribs.align="center"),p.bubbleItems.push(n.circle(s,e+a,c).attr(M?{}:g.bubbleAttribs).addClass((M?"highcharts-color-"+t.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(C.className||"")).add(this.legendItem.symbol)),p.connectors.push(n.path(n.crispLine([["M",s,o],["L",s+d,o]],C.connectorWidth)).attr(M?{}:g.connectorAttribs).addClass((M?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(C.connectorClassName||"")).add(this.legendItem.symbol));let h=n.text(this.formatLabel(g)).attr(M?{}:g.labelAttribs).css(M?{}:v.style).addClass("highcharts-bubble-legend-labels "+(C.labels.className||"")).add(this.legendItem.symbol),w={x:s+d+C.labels.x,y:o+C.labels.y+.4*h.getBBox().height};h.attr(w),l.push(h),h.placed=!0,h.alignAttr=w}getMaxLabelSize(){let g,i;return this.symbols.labels.forEach(function(m){i=m.getBBox(!0),g=g?i.width>g.width?i:g:i}),g||{}}formatLabel(g){let i=this.options,m=i.labels.formatter,C=i.labels.format,{numberFormatter:v}=this.chart;return C?I.format(C,g):m?m.call(g):v(g.value,1)}hideOverlappingLabels(){let g=this.chart,i=this.options.labels.allowOverlap,m=this.symbols;!i&&m&&(g.hideOverlappingLabels(m.labels),m.labels.forEach(function(C,v){C.newOpacity?C.newOpacity!==C.oldOpacity&&m.connectors[v].show():m.connectors[v].hide()}))}getRanges(){let g=this.legend.bubbleLegend,i=g.chart.series,m=g.options.ranges,C,v,b=Number.MAX_VALUE,t=-Number.MAX_VALUE;return i.forEach(function(n){n.isBubble&&!n.ignoreSeries&&(v=n.zData.filter(T)).length&&(b=O(n.options.zMin,Math.min(b,Math.max(j(v),n.options.displayNegative===!1?n.options.zThreshold:-Number.MAX_VALUE))),t=O(n.options.zMax,Math.max(t,P(v))))}),C=b===t?[{value:t}]:[{value:b},{value:(b+t)/2},{value:t,autoRanges:!0}],m.length&&m[0].radius&&C.reverse(),C.forEach(function(n,p){m&&m[p]&&(C[p]=B(m[p],n))}),C}predictBubbleSizes(){let g=this.chart,i=g.legend.options,m=i.floating,C=i.layout==="horizontal",v=C?g.legend.lastLineHeight:0,b=g.plotSizeX,t=g.plotSizeY,n=g.series[this.options.seriesIndex],p=n.getPxExtremes(),l=Math.ceil(p.minPxSize),e=Math.ceil(p.maxPxSize),c=Math.min(t,b),r,f=n.options.maxSize;return m||!/%$/.test(f)?r=e:(r=(c+v)*(f=parseFloat(f))/100/(f/100+1),(C&&t-r>=b||!C&&b-r>=t)&&(r=e)),[l,Math.ceil(r)]}updateRanges(g,i){let m=this.legend.options.bubbleLegend;m.minSize=g,m.maxSize=i,m.ranges=this.getRanges()}correctSizes(){let g=this.legend,i=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(i.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,i.maxPxSize),g.render())}}}),N(x,"Series/Bubble/BubbleLegendComposition.js",[x["Series/Bubble/BubbleLegendDefaults.js"],x["Series/Bubble/BubbleLegendItem.js"],x["Core/Defaults.js"],x["Core/Globals.js"],x["Core/Utilities.js"]],function(S,I,G,k,A){let{setOptions:E}=G,{composed:P}=k,{addEvent:j,objectEach:T,pushUnique:B,wrap:O}=A;function L(b,t,n){let p,l,e,c=this.legend,r=g(this)>=0;c&&c.options.enabled&&c.bubbleLegend&&c.options.bubbleLegend.autoRanges&&r?(p=c.bubbleLegend.options,l=c.bubbleLegend.predictBubbleSizes(),c.bubbleLegend.updateRanges(l[0],l[1]),p.placed||(c.group.placed=!1,c.allItems.forEach(f=>{(e=f.legendItem||{}).group&&(e.group.translateY=void 0)})),c.render(),p.placed||(this.getMargins(),this.axes.forEach(function(f){f.visible&&f.render(),p.placed||(f.setScale(),f.updateNames(),T(f.ticks,function(u){u.isNew=!0,u.isNewLabel=!0}))}),this.getMargins()),p.placed=!0,b.call(this,t,n),c.bubbleLegend.correctSizes(),v(c,i(c))):(b.call(this,t,n),c&&c.options.enabled&&c.bubbleLegend&&(c.render(),v(c,i(c))))}function g(b){let t=b.series,n=0;for(;n<t.length;){if(t[n]&&t[n].isBubble&&t[n].visible&&t[n].zData.length)return n;n++}return-1}function i(b){let t=b.allItems,n=[],p=t.length,l,e,c,r=0,f=0;for(r=0;r<p;r++)if(e=t[r].legendItem||{},c=(t[r+1]||{}).legendItem||{},e.labelHeight&&(t[r].itemHeight=e.labelHeight),t[r]===t[p-1]||e.y!==c.y){for(n.push({height:0}),l=n[n.length-1];f<=r;f++)t[f].itemHeight>l.height&&(l.height=t[f].itemHeight);l.step=r}return n}function m(b){let t=this.bubbleLegend,n=this.options,p=n.bubbleLegend,l=g(this.chart);t&&t.ranges&&t.ranges.length&&(p.ranges.length&&(p.autoRanges=!!p.ranges[0].autoRanges),this.destroyItem(t)),l>=0&&n.enabled&&p.enabled&&(p.seriesIndex=l,this.bubbleLegend=new I(p,this),this.bubbleLegend.addToLegend(b.allItems))}function C(b){let t;if(b.defaultPrevented)return!1;let n=b.legendItem,p=this.chart,l=n.visible;this&&this.bubbleLegend&&(n.visible=!l,n.ignoreSeries=l,t=g(p)>=0,this.bubbleLegend.visible!==t&&(this.update({bubbleLegend:{enabled:t}}),this.bubbleLegend.visible=t),n.visible=l)}function v(b,t){let n=b.allItems,p=b.options.rtl,l,e,c,r,f=0;n.forEach((u,D)=>{(r=u.legendItem||{}).group&&(l=r.group.translateX||0,e=r.y||0,((c=u.movementX)||p&&u.ranges)&&(c=p?l-u.options.maxSize/2:l+c,r.group.attr({translateX:c})),D>t[f].step&&f++,r.group.attr({translateY:Math.round(e+t[f].height/2)}),r.y=e+t[f].height/2)})}return{compose:function(b,t){B(P,"Series.BubbleLegend")&&(E({legend:{bubbleLegend:S}}),O(b.prototype,"drawChartBox",L),j(t,"afterGetAllItems",m),j(t,"itemClick",C))}}}),N(x,"Series/Bubble/BubblePoint.js",[x["Core/Series/Point.js"],x["Core/Series/SeriesRegistry.js"],x["Core/Utilities.js"]],function(S,I,G){let{seriesTypes:{scatter:{prototype:{pointClass:k}}}}=I,{extend:A}=G;class E extends k{haloPath(j){let T=(j&&this.marker&&this.marker.radius||0)+j;if(this.series.chart.inverted){let B=this.pos()||[0,0],{xAxis:O,yAxis:L,chart:g}=this.series;return g.renderer.symbols.circle(O.len-B[1]-T,L.len-B[0]-T,2*T,2*T)}return S.prototype.haloPath.call(this,T)}}return A(E.prototype,{ttBelow:!1}),E}),N(x,"Series/Bubble/BubbleSeries.js",[x["Series/Bubble/BubbleLegendComposition.js"],x["Series/Bubble/BubblePoint.js"],x["Core/Color/Color.js"],x["Core/Globals.js"],x["Core/Series/SeriesRegistry.js"],x["Core/Utilities.js"]],function(S,I,G,k,A,E){let{parse:P}=G,{composed:j,noop:T}=k,{series:B,seriesTypes:{column:{prototype:O},scatter:L}}=A,{addEvent:g,arrayMax:i,arrayMin:m,clamp:C,extend:v,isNumber:b,merge:t,pick:n,pushUnique:p}=E;function l(){let c=this.len,{coll:r,isXAxis:f,min:u}=this,D=f?"xData":"yData",y=(this.max||0)-(u||0),s=0,o=c,a=c/y,M;(r==="xAxis"||r==="yAxis")&&(this.series.forEach(d=>{if(d.bubblePadding&&d.reserveSpace()){this.allowZoomOutside=!0,M=!0;let h=d[D];if(f&&((d.onPoint||d).getRadii(0,0,d),d.onPoint&&(d.radii=d.onPoint.radii)),y>0){let w=h.length;for(;w--;)if(b(h[w])&&this.dataMin<=h[w]&&h[w]<=this.max){let z=d.radii&&d.radii[w]||0;s=Math.min((h[w]-u)*a-z,s),o=Math.max((h[w]-u)*a+z,o)}}}}),M&&y>0&&!this.logarithmic&&(o-=c,a*=(c+Math.max(0,s)-Math.min(o,c))/c,[["min","userMin",s],["max","userMax",o]].forEach(d=>{n(this.options[d[0]],this[d[1]])===void 0&&(this[d[0]]+=d[2]/a)})))}class e extends L{static compose(r,f,u){S.compose(f,u),p(j,"Series.Bubble")&&g(r,"foundExtremes",l)}animate(r){!r&&this.points.length<this.options.animationLimit&&this.points.forEach(function(f){let{graphic:u,plotX:D=0,plotY:y=0}=f;u&&u.width&&(this.hasRendered||u.attr({x:D,y,width:1,height:1}),u.animate(this.markerAttribs(f),this.options.animation))},this)}getRadii(){let r=this.zData,f=this.yData,u=[],D,y,s,o=this.chart.bubbleZExtremes,{minPxSize:a,maxPxSize:M}=this.getPxExtremes();if(!o){let d,h=Number.MAX_VALUE,w=-Number.MAX_VALUE;this.chart.series.forEach(z=>{if(z.bubblePadding&&z.reserveSpace()){let V=(z.onPoint||z).getZExtremes();V&&(h=Math.min(n(h,V.zMin),V.zMin),w=Math.max(n(w,V.zMax),V.zMax),d=!0)}}),d?(o={zMin:h,zMax:w},this.chart.bubbleZExtremes=o):o={zMin:0,zMax:0}}for(y=0,D=r.length;y<D;y++)s=r[y],u.push(this.getRadius(o.zMin,o.zMax,a,M,s,f&&f[y]));this.radii=u}getRadius(r,f,u,D,y,s){let o=this.options,a=o.sizeBy!=="width",M=o.zThreshold,d=f-r,h=.5;if(s===null||y===null)return null;if(b(y)){if(o.sizeByAbsoluteValue&&(y=Math.abs(y-M),f=d=Math.max(f-M,Math.abs(r-M)),r=0),y<r)return u/2-1;d>0&&(h=(y-r)/d)}return a&&h>=0&&(h=Math.sqrt(h)),Math.ceil(u+h*(D-u))/2}hasData(){return!!this.processedXData.length}markerAttribs(r,f){let u=super.markerAttribs(r,f),{height:D=0,width:y=0}=u;return this.chart.inverted?v(u,{x:(r.plotX||0)-y/2,y:(r.plotY||0)-D/2}):u}pointAttribs(r,f){let u=this.options.marker.fillOpacity,D=B.prototype.pointAttribs.call(this,r,f);return u!==1&&(D.fill=P(D.fill).setOpacity(u).get("rgba")),D}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:r,options:f,radii:u}=this,{minPxSize:D}=this.getPxExtremes(),y=r.length;for(;y--;){let s=r[y],o=u?u[y]:0;this.zoneAxis==="z"&&(s.negative=(s.z||0)<(f.zThreshold||0)),b(o)&&o>=D/2?(s.marker=v(s.marker,{radius:o,width:2*o,height:2*o}),s.dlBox={x:s.plotX-o,y:s.plotY-o,width:2*o,height:2*o}):(s.shapeArgs=s.plotY=s.dlBox=void 0,s.isInside=!1)}}getPxExtremes(){let r=Math.min(this.chart.plotWidth,this.chart.plotHeight),f=y=>{let s;return typeof y=="string"&&(s=/%$/.test(y),y=parseInt(y,10)),s?r*y/100:y},u=f(n(this.options.minSize,8)),D=Math.max(f(n(this.options.maxSize,"20%")),u);return{minPxSize:u,maxPxSize:D}}getZExtremes(){let r=this.options,f=(this.zData||[]).filter(b);if(f.length){let u=n(r.zMin,C(m(f),r.displayNegative===!1?r.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),D=n(r.zMax,i(f));if(b(u)&&b(D))return{zMin:u,zMax:D}}}}return e.defaultOptions=t(L.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:c}=this.series.chart,{z:r}=this.point;return b(r)?c(r,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),v(e.prototype,{alignDataLabel:O.alignDataLabel,applyZones:T,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:I,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),g(e,"updatedData",c=>{delete c.target.chart.bubbleZExtremes}),g(e,"remove",c=>{delete c.target.chart.bubbleZExtremes}),A.registerSeriesType("bubble",e),e}),N(x,"Series/MapBubble/MapBubblePoint.js",[x["Series/Bubble/BubblePoint.js"],x["Core/Series/SeriesRegistry.js"],x["Core/Utilities.js"]],function(S,I,G){let{seriesTypes:{map:{prototype:{pointClass:{prototype:k}}}}}=I,{extend:A}=G;class E extends S{isValid(){return typeof this.z=="number"}}return A(E.prototype,{applyOptions:k.applyOptions,getProjectedBounds:k.getProjectedBounds}),E}),N(x,"Series/MapBubble/MapBubbleSeries.js",[x["Series/Bubble/BubbleSeries.js"],x["Series/MapBubble/MapBubblePoint.js"],x["Core/Series/SeriesRegistry.js"],x["Core/Utilities.js"]],function(S,I,G,k){let{seriesTypes:{map:{prototype:A},mappoint:{prototype:E}}}=G,{extend:P,merge:j}=k;class T extends S{constructor(){super(...arguments),this.clearBounds=A.clearBounds}searchPoint(O,L){return this.searchKDTree({plotX:O.chartX-this.chart.plotLeft,plotY:O.chartY-this.chart.plotTop},L,O)}translate(){E.translate.call(this),this.getRadii(),this.translateBubble()}updateParallelArrays(O,L,g){super.updateParallelArrays.call(this,O,L,g);let i=this.processedXData,m=this.xData;i&&m&&(i.length=m.length)}}return T.defaultOptions=j(S.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),P(T.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:A.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:I,processData:A.processData,projectPoint:E.projectPoint,kdAxisArray:["plotX","plotY"],setData:A.setData,setOptions:A.setOptions,updateData:A.updateData,useMapGeometry:!0,xyFromShape:!0}),G.registerSeriesType("mapbubble",T),T}),N(x,"Series/Heatmap/HeatmapPoint.js",[x["Core/Series/SeriesRegistry.js"],x["Core/Utilities.js"]],function(S,I){let{scatter:{prototype:{pointClass:G}}}=S.seriesTypes,{clamp:k,defined:A,extend:E,pick:P}=I;class j extends G{applyOptions(B,O){return(this.isNull||this.value===null)&&delete this.color,super.applyOptions(B,O),this.formatPrefix=this.isNull||this.value===null?"null":"point",this}getCellAttributes(){let B=this.series,O=B.options,L=(O.colsize||1)/2,g=(O.rowsize||1)/2,i=B.xAxis,m=B.yAxis,C=this.options.marker||B.options.marker,v=B.pointPlacementToXValue(),b=P(this.pointPadding,O.pointPadding,0),t={x1:k(Math.round(i.len-i.translate(this.x-L,!1,!0,!1,!0,-v)),-i.len,2*i.len),x2:k(Math.round(i.len-i.translate(this.x+L,!1,!0,!1,!0,-v)),-i.len,2*i.len),y1:k(Math.round(m.translate(this.y-g,!1,!0,!1,!0)),-m.len,2*m.len),y2:k(Math.round(m.translate(this.y+g,!1,!0,!1,!0)),-m.len,2*m.len)};for(let n of[["width","x"],["height","y"]]){let p=n[0],l=n[1],e=l+"1",c=l+"2",r=Math.abs(t[e]-t[c]),f=C&&C.lineWidth||0,u=Math.abs(t[e]+t[c])/2,D=C&&C[p];if(A(D)&&D<r){let y=D/2+f/2;t[e]=u-y,t[c]=u+y}b&&((l==="x"&&i.reversed||l==="y"&&!m.reversed)&&(e=c,c=l+"1"),t[e]+=b,t[c]-=b)}return t}haloPath(B){if(!B)return[];let{x:O=0,y:L=0,width:g=0,height:i=0}=this.shapeArgs||{};return[["M",O-B,L-B],["L",O-B,L+i+B],["L",O+g+B,L+i+B],["L",O+g+B,L-B],["Z"]]}isValid(){return this.value!==1/0&&this.value!==-1/0}}return E(j.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),j}),N(x,"Series/Heatmap/HeatmapSeriesDefaults.js",[x["Core/Utilities.js"]],function(S){let{isNumber:I}=S;return{animation:!1,borderRadius:0,borderWidth:0,interpolation:!1,nullColor:"#f7f7f7",dataLabels:{formatter:function(){let{numberFormatter:G}=this.series.chart,{value:k}=this.point;return I(k)?G(k,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"}}),N(x,"Series/InterpolationUtilities.js",[x["Core/Globals.js"],x["Core/Utilities.js"]],function(S,I){let{doc:G}=S,{defined:k,pick:A}=I;return{colorFromPoint:function(E,P){let j=P.series.colorAxis;if(j){let T=j.toColor(E||0,P).split(")")[0].split("(")[1].split(",").map(B=>A(parseFloat(B),parseInt(B,10)));return T[3]=255*A(T[3],1),k(E)&&P.visible||(T[3]=0),T}return[0,0,0,0]},getContext:function(E){let{canvas:P,context:j}=E;return P&&j?(j.clearRect(0,0,P.width,P.height),j):(E.canvas=G.createElement("canvas"),E.context=E.canvas.getContext("2d",{willReadFrequently:!0})||void 0,E.context)}}}),N(x,"Series/Heatmap/HeatmapSeries.js",[x["Core/Color/Color.js"],x["Series/ColorMapComposition.js"],x["Series/Heatmap/HeatmapPoint.js"],x["Series/Heatmap/HeatmapSeriesDefaults.js"],x["Core/Series/SeriesRegistry.js"],x["Core/Renderer/SVG/SVGRenderer.js"],x["Core/Utilities.js"],x["Series/InterpolationUtilities.js"]],function(S,I,G,k,A,E,P,j){let{series:T,seriesTypes:{column:B,scatter:O}}=A,{prototype:{symbols:L}}=E,{addEvent:g,extend:i,fireEvent:m,isNumber:C,merge:v,pick:b}=P,{colorFromPoint:t,getContext:n}=j;class p extends O{constructor(){super(...arguments),this.valueMax=NaN,this.valueMin=NaN,this.isDirtyCanvas=!0}drawPoints(){let e=this,c=e.options,r=c.interpolation,f=c.marker||{};if(r){let{image:u,chart:D,xAxis:y,yAxis:s}=e,{reversed:o=!1,len:a}=y,{reversed:M=!1,len:d}=s,h={width:a,height:d};if(!u||e.isDirtyData||e.isDirtyCanvas){let w=n(e),{canvas:z,options:{colsize:V=1,rowsize:U=1},points:X,points:{length:W}}=e,q=D.colorAxis&&D.colorAxis[0];if(z&&w&&q){let{min:H,max:Y}=y.getExtremes(),{min:Z,max:R}=s.getExtremes(),F=Y-H,$=R-Z,J=Math.round(F/V/8*8),K=Math.round($/U/8*8),[ee,se]=[[J,J/F,o,"ceil"],[K,K/$,!M,"floor"]].map(([te,Q,ne,oe])=>ne?le=>Math[oe](te-Q*le):le=>Math[oe](Q*le)),re=z.width=J+1,ae=re*(z.height=K+1),ce=(W-1)/ae,he=new Uint8ClampedArray(4*ae),ue=(te,Q)=>4*Math.ceil(re*se(Q-Z)+ee(te-H));e.buildKDTree();for(let te=0;te<ae;te++){let Q=X[Math.ceil(ce*te)],{x:ne,y:oe}=Q;he.set(t(Q.value,Q),ue(ne,oe))}w.putImageData(new ImageData(he,re),0,0),u?u.attr({...h,href:z.toDataURL("image/png",1)}):(e.directTouch=!1,e.image=D.renderer.image(z.toDataURL("image/png",1)).attr(h).add(e.group))}e.isDirtyCanvas=!1}else(u.width!==a||u.height!==d)&&u.attr(h)}else(f.enabled||e._hasPointMarkers)&&(T.prototype.drawPoints.call(e),e.points.forEach(u=>{u.graphic&&(u.graphic[e.chart.styledMode?"css":"animate"](e.colorAttribs(u)),u.value===null&&u.graphic.addClass("highcharts-null-point"))}))}getExtremes(){let{dataMin:e,dataMax:c}=T.prototype.getExtremes.call(this,this.valueData);return C(e)&&(this.valueMin=e),C(c)&&(this.valueMax=c),T.prototype.getExtremes.call(this)}getValidPoints(e,c){return T.prototype.getValidPoints.call(this,e,c,!0)}hasData(){return!!this.xData}init(){super.init.apply(this,arguments);let e=this.options;e.pointRange=b(e.pointRange,e.colsize||1),this.yAxis.axisPointRange=e.rowsize||1,L.ellipse=L.circle,e.marker&&C(e.borderRadius)&&(e.marker.r=e.borderRadius)}markerAttribs(e,c){let r=e.shapeArgs||{};if(e.hasImage)return{x:e.plotX,y:e.plotY};if(c&&c!=="normal"){let f=e.options.marker||{},u=this.options.marker||{},D=u.states&&u.states[c]||{},y=f.states&&f.states[c]||{},s=(y.width||D.width||r.width||0)+(y.widthPlus||D.widthPlus||0),o=(y.height||D.height||r.height||0)+(y.heightPlus||D.heightPlus||0);return{x:(r.x||0)+((r.width||0)-s)/2,y:(r.y||0)+((r.height||0)-o)/2,width:s,height:o}}return r}pointAttribs(e,c){let r=T.prototype.pointAttribs.call(this,e,c),f=this.options||{},u=this.chart.options.plotOptions||{},D=u.series||{},y=u.heatmap||{},s=e&&e.options.borderColor||f.borderColor||y.borderColor||D.borderColor,o=e&&e.options.borderWidth||f.borderWidth||y.borderWidth||D.borderWidth||r["stroke-width"];if(r.stroke=e&&e.marker&&e.marker.lineColor||f.marker&&f.marker.lineColor||s||this.color,r["stroke-width"]=o,c&&c!=="normal"){let a=v(f.states&&f.states[c],f.marker&&f.marker.states&&f.marker.states[c],e&&e.options.states&&e.options.states[c]||{});r.fill=a.color||S.parse(r.fill).brighten(a.brightness||0).get(),r.stroke=a.lineColor||r.stroke}return r}translate(){let{borderRadius:e,marker:c}=this.options,r=c&&c.symbol||"rect",f=L[r]?r:"rect",u=["circle","square"].indexOf(f)!==-1;if(!this.processedXData){let{xData:D,yData:y}=this.getProcessedData();this.processedXData=D,this.processedYData=y}for(let D of(this.generatePoints(),this.points)){let y=D.getCellAttributes(),s=Math.min(y.x1,y.x2),o=Math.min(y.y1,y.y2),a=Math.max(Math.abs(y.x2-y.x1),0),M=Math.max(Math.abs(y.y2-y.y1),0);if(D.hasImage=(D.marker&&D.marker.symbol||r||"").indexOf("url")===0,u){let d=Math.abs(a-M);s=Math.min(y.x1,y.x2)+(a<M?0:d/2),o=Math.min(y.y1,y.y2)+(a<M?d/2:0),a=M=Math.min(a,M)}D.hasImage&&(D.marker={width:a,height:M}),D.plotX=D.clientX=(y.x1+y.x2)/2,D.plotY=(y.y1+y.y2)/2,D.shapeType="path",D.shapeArgs=v(!0,{x:s,y:o,width:a,height:M},{d:L[f](s,o,a,M,{r:C(e)?e:0})})}m(this,"afterTranslate")}}return p.defaultOptions=v(O.defaultOptions,k),g(p,"afterDataClassLegendClick",function(){this.isDirtyCanvas=!0,this.drawPoints()}),i(p.prototype,{axisTypes:I.seriesMembers.axisTypes,colorKey:I.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:I.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:G,specialGroup:"group",trackerGroups:I.seriesMembers.trackerGroups,alignDataLabel:B.prototype.alignDataLabel,colorAttribs:I.seriesMembers.colorAttribs,getSymbol:T.prototype.getSymbol}),I.compose(p),A.registerSeriesType("heatmap",p),p}),N(x,"masters/modules/map.src.js",[x["Core/Globals.js"],x["Maps/MapNavigation.js"],x["Series/ColorMapComposition.js"],x["Series/MapBubble/MapBubbleSeries.js"],x["Maps/GeoJSONComposition.js"],x["Core/Chart/MapChart.js"],x["Maps/MapView.js"],x["Maps/Projection.js"]],function(S,I,G,k,A,E,P,j){return S.ColorMapComposition=G,S.MapChart=S.MapChart||E,S.MapNavigation=S.MapNavigation||I,S.MapView=S.MapView||P,S.Projection=S.Projection||j,S.mapChart=S.Map=S.MapChart.mapChart,S.maps=S.MapChart.maps,S.geojson=A.geojson,S.topo2geo=A.topo2geo,A.compose(S.Chart),k.compose(S.Axis,S.Chart,S.Legend),I.compose(E,S.Pointer,S.SVGRenderer),P.compose(E),S})})})(pe);var de=pe.exports;const fe=me(de),ye=ge({__proto__:null,default:fe},[de]);export{ye as m};
