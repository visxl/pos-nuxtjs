import{aE as $}from"./DgWlP6BF.js";function k(b,h){for(var d=0;d<h.length;d++){const f=h[d];if(typeof f!="string"&&!Array.isArray(f)){for(const e in f)if(e!=="default"&&!(e in b)){const o=Object.getOwnPropertyDescriptor(f,e);o&&Object.defineProperty(b,e,o.get?o:{enumerable:!0,get:()=>f[e]})}}}return Object.freeze(Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}))}var M={exports:{}};(function(b){(function(h){b.exports?(h.default=h,b.exports=h):h(typeof Highcharts<"u"?Highcharts:void 0)})(function(h){var d=h?h._modules:{};function f(e,o,C,P){e.hasOwnProperty(o)||(e[o]=P.apply(null,C),typeof CustomEvent=="function"&&h.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:e[o]}})))}f(d,"Extensions/TextPath.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(e,o){let{deg2rad:C}=e,{addEvent:P,merge:A,uniqueKey:H,defined:L,extend:S}=o;function w(r,s){s=A(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},s);let a=this.renderer.url,n=this.text||this,t=n.textPath,{attributes:i,enabled:j}=s;if(r=r||t&&t.path,t&&t.undo(),r&&j){let O=P(n,"afterModifyTree",m=>{if(r&&j){let g=r.attr("id");g||r.attr("id",g=H());let y={x:0,y:0};L(i.dx)&&(y.dx=i.dx,delete i.dx),L(i.dy)&&(y.dy=i.dy,delete i.dy),n.attr(y),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let v=m.nodes.slice(0);m.nodes.length=0,m.nodes[0]={tagName:"textPath",attributes:S(i,{"text-anchor":i.textAnchor,href:`${a}#${g}`}),children:v}}});n.textPath={path:r,undo:O}}else n.attr({dx:0,dy:0}),delete n.textPath;return this.added&&(n.textCache="",this.renderer.buildText(n)),this}function D(r){var n;let s=r.bBox,a=(n=this.element)==null?void 0:n.querySelector("textPath");if(a){let t=[],{b:i,h:j}=this.renderer.fontMetrics(this.element),O=j-i,m=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),g=a.innerHTML.replace(m,"").split(/<tspan class="highcharts-br"[^>]*>/),y=g.length,v=(T,u)=>{let{x:E,y:l}=u,c=(a.getRotationOfChar(T)-90)*C,x=Math.cos(c),p=Math.sin(c);return[[E-O*x,l-O*p],[E+i*x,l+i*p]]};for(let T=0,u=0;u<y;u++){let E=g[u].length;for(let l=0;l<E;l+=5)try{let c=T+l+u,[x,p]=v(c,a.getStartPositionOfChar(c));l===0?(t.push(p),t.push(x)):(u===0&&t.unshift(p),u===y-1&&t.push(x))}catch{break}T+=E-1;try{let l=T+u,c=a.getEndPositionOfChar(l),[x,p]=v(l,c);t.unshift(p),t.unshift(x)}catch{break}}t.length&&t.push(t[0].slice()),s.polygon=t}return s}function G(r){var t;let s=r.labelOptions,a=r.point,n=s[a.formatPrefix+"TextPath"]||s.textPath;n&&!s.useHTML&&(this.setTextPath(((t=a.getDataLabelPath)==null?void 0:t.call(a,this))||a.graphic,n),a.dataLabelPath&&!n.enabled&&(a.dataLabelPath=a.dataLabelPath.destroy()))}return{compose:function(r){P(r,"afterGetBBox",D),P(r,"beforeAddingDataLabel",G);let s=r.prototype;s.setTextPath||(s.setTextPath=w)}}}),f(d,"masters/modules/textpath.src.js",[d["Core/Globals.js"],d["Extensions/TextPath.js"]],function(e,o){return e.TextPath=o,e.TextPath.compose(e.SVGElement),e})})})(M);var _=M.exports;const B=$(_),N=k({__proto__:null,default:B},[_]);export{N as t};
