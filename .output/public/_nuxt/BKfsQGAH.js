import{aE as I}from"./DgWlP6BF.js";function _(T,O){for(var m=0;m<O.length;m++){const M=O[m];if(typeof M!="string"&&!Array.isArray(M)){for(const c in M)if(c!=="default"&&!(c in T)){const l=Object.getOwnPropertyDescriptor(M,c);l&&Object.defineProperty(T,c,l.get?l:{enumerable:!0,get:()=>M[c]})}}}return Object.freeze(Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}))}var E={exports:{}};(function(T){(function(O){T.exports?(O.default=O,T.exports=O):O(typeof Highcharts<"u"?Highcharts:void 0)})(function(O){var m=O?O._modules:{};function M(c,l,e,o){c.hasOwnProperty(l)||(c[l]=o.apply(null,e),typeof CustomEvent=="function"&&O.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:l,module:c[l]}})))}M(m,"Series/Organization/OrganizationPoint.js",[m["Core/Series/SeriesRegistry.js"],m["Core/Utilities.js"]],function(c,l){let{sankey:{prototype:{pointClass:e}}}=c.seriesTypes,{defined:o,find:u,pick:t}=l;return class extends e{constructor(n,a,f){super(n,a,f),this.isNode||(this.dataLabelOnNull=!0,this.formatPrefix="link")}getSum(){return 1}setNodeColumn(){super.setNodeColumn();let n=this,a=n.getFromNode().fromNode;if(!o(n.options.column)&&n.linksTo.length!==0&&a&&a.options.layout==="hanging"){let f=-1,d;n.options.layout=t(n.options.layout,"hanging"),n.hangsFrom=a,u(a.linksFrom,(k,N)=>{let x=k.toNode===n;return x&&(f=N),x});for(let k=0;k<a.linksFrom.length;++k)(d=a.linksFrom[k]).toNode.id===n.id?k=a.linksFrom.length:f+=function N(x){let b=x.linksFrom.length;return x.linksFrom.forEach(S=>{S.id===S.toNode.linksTo[0].id?b+=N(S.toNode):b--}),b}(d.toNode);n.column=(n.column||0)+f}}}}),M(m,"Series/Organization/OrganizationSeriesDefaults.js",[],function(){return{borderColor:"#666666",borderRadius:3,link:{color:"#666666",lineWidth:1,radius:10,type:"default"},borderWidth:1,dataLabels:{nodeFormatter:function(){let c={width:"100%",height:"100%",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"},l={"max-height":"100%","border-radius":"50%"},e={width:"100%",padding:0,"text-align":"center","white-space":"normal"};function o(f){return Object.keys(f).reduce(function(d,k){return d+k+":"+f[k]+";"},'style="')+'"'}let{description:u,image:t,title:n}=this.point;t&&(l["max-width"]="30%",e.width="70%"),this.series.chart.renderer.forExport&&(c.display="block",e.position="absolute",e.left=t?"30%":0,e.top=0);let a="<div "+o(c)+">";return t&&(a+='<img src="'+t+'" '+o(l)+">"),a+="<div "+o(e)+">",this.point.name&&(a+="<h4 "+o({margin:0})+">"+this.point.name+"</h4>"),n&&(a+="<p "+o({margin:0})+">"+(n||"")+"</p>"),u&&(a+="<p "+o({opacity:.75,margin:"5px"})+">"+u+"</p>"),a+="</div></div>"},style:{fontWeight:"normal",fontSize:"0.9em"},useHTML:!0,linkTextPath:{attributes:{startOffset:"95%",textAnchor:"end"}}},hangingIndent:20,hangingIndentTranslation:"inherit",hangingSide:"left",minNodeLength:10,nodeWidth:50,tooltip:{nodeFormat:"{point.name}<br>{point.title}<br>{point.description}"}}}),M(m,"Series/PathUtilities.js",[],function(){function c(l,e){let o=[];for(let u=0;u<l.length;u++){let t=l[u][1],n=l[u][2];if(typeof t=="number"&&typeof n=="number")if(u===0)o.push(["M",t,n]);else if(u===l.length-1)o.push(["L",t,n]);else if(e){let a=l[u-1],f=l[u+1];if(a&&f){let d=a[1],k=a[2],N=f[1],x=f[2];if(typeof d=="number"&&typeof N=="number"&&typeof k=="number"&&typeof x=="number"&&d!==N&&k!==x){let b=d<N?1:-1,S=k<x?1:-1;o.push(["L",t-b*Math.min(Math.abs(t-d),e),n-S*Math.min(Math.abs(n-k),e)],["C",t,n,t,n,t+b*Math.min(Math.abs(t-N),e),n+S*Math.min(Math.abs(n-x),e)])}}}else o.push(["L",t,n])}return o}return{applyRadius:c,getLinkPath:{default:function(l){let{x1:e,y1:o,x2:u,y2:t,width:n=0,inverted:a=!1,radius:f,parentVisible:d}=l;return d?c([["M",e,o],["L",e+n*(a?-.5:.5),o],["L",e+n*(a?-.5:.5),t],["L",u,t]],f):[["M",e,o],["L",e,o],["C",e,o,e,t,e,t],["L",e,t],["C",e,o,e,t,e,t],["L",e,t]]},straight:function(l){let{x1:e,y1:o,x2:u,y2:t,width:n=0,inverted:a=!1,parentVisible:f}=l;return f?[["M",e,o],["L",e+n*(a?-1:1),t],["L",u,t]]:[["M",e,o],["L",e,t],["L",e,t]]},curved:function(l){let{x1:e,y1:o,x2:u,y2:t,offset:n=0,width:a=0,inverted:f=!1,parentVisible:d}=l;return d?[["M",e,o],["C",e+n,o,e-n+a*(f?-1:1),t,e+a*(f?-1:1),t],["L",u,t]]:[["M",e,o],["C",e,o,e,t,e,t],["L",u,t]]}}}}),M(m,"Series/Organization/OrganizationSeries.js",[m["Series/Organization/OrganizationPoint.js"],m["Series/Organization/OrganizationSeriesDefaults.js"],m["Core/Series/SeriesRegistry.js"],m["Series/PathUtilities.js"],m["Core/Utilities.js"],m["Core/Renderer/SVG/SVGElement.js"],m["Extensions/TextPath.js"]],function(c,l,e,o,u,t,n){let{sankey:a}=e.seriesTypes,{css:f,crisp:d,extend:k,isNumber:N,merge:x,pick:b}=u;n.compose(t);class S extends a{alignDataLabel(i,y,g){let p=i.shapeArgs;if(g.useHTML&&p){let r=this.options.borderWidth+2*this.options.dataLabels.padding,s=p.width||0,h=p.height||0;this.chart.inverted&&(s=h,h=p.width||0),h-=r,s-=r;let A=y.text;A&&(f(A.element.parentNode,{width:s+"px",height:h+"px"}),f(A.element,{left:0,top:0,width:"100%",height:"100%",overflow:"hidden"})),y.getBBox=()=>({width:s,height:h,x:0,y:0}),y.width=s,y.height=h}super.alignDataLabel.apply(this,arguments)}createNode(i){let y=super.createNode.call(this,i);return y.getSum=()=>1,y}pointAttribs(i,y){let g=a.prototype.pointAttribs.call(this,i,y),p=i.isNode?i.level:i.fromNode.level,r=this.mapOptionsToLevel[p||0]||{},s=i.options,h=r.states&&r.states[y]||{},A=b(h.borderRadius,s.borderRadius,r.borderRadius,this.options.borderRadius),z=b(h.linkColor,s.linkColor,r.linkColor,this.options.linkColor,h.link&&h.link.color,s.link&&s.link.color,r.link&&r.link.color,this.options.link&&this.options.link.color),P=b(h.linkLineWidth,s.linkLineWidth,r.linkLineWidth,this.options.linkLineWidth,h.link&&h.link.lineWidth,s.link&&s.link.lineWidth,r.link&&r.link.lineWidth,this.options.link&&this.options.link.lineWidth),L=b(h.linkOpacity,s.linkOpacity,r.linkOpacity,this.options.linkOpacity,h.link&&h.link.linkOpacity,s.link&&s.link.linkOpacity,r.link&&r.link.linkOpacity,this.options.link&&this.options.link.linkOpacity);return i.isNode?N(A)&&(g.r=A):(g.stroke=z,g["stroke-width"]=P,g.opacity=L,delete g.fill),g}translateLink(i){let y=this.chart,g=this.options,p=i.fromNode,r=i.toNode,s=b(g.linkLineWidth,g.link.lineWidth,0),h=b(g.link.offset,.5),A=b(i.options.link&&i.options.link.type,g.link.type);if(p.shapeArgs&&r.shapeArgs){let z=g.hangingIndent,P=g.hangingSide==="right",L=r.options.offset,F=/%$/.test(L)&&parseInt(L,10),v=y.inverted,W=d((p.shapeArgs.x||0)+(p.shapeArgs.width||0),s),j=d((p.shapeArgs.y||0)+(p.shapeArgs.height||0)/2,s),w=d(r.shapeArgs.x||0,s),C=d((r.shapeArgs.y||0)+(r.shapeArgs.height||0)/2,s),R;if(v&&(W-=p.shapeArgs.width||0,w+=r.shapeArgs.width||0),R=this.colDistance?d(w+(v?1:-1)*(this.colDistance-this.nodeWidth)/2,s):d((w+W)/2,s),F&&(F>=50||F<=-50)&&(R=w=d(w+(v?-.5:.5)*(r.shapeArgs.width||0),s),C=r.shapeArgs.y||0,F>0&&(C+=r.shapeArgs.height||0)),r.hangsFrom===p&&(y.inverted?(j=d(P?(p.shapeArgs.y||0)+z/2:(p.shapeArgs.y||0)+(p.shapeArgs.height||0)-z/2,s),C=P?(r.shapeArgs.y||0)+z/2:(r.shapeArgs.y||0)+(r.shapeArgs.height||0)):j=d((p.shapeArgs.y||0)+z/2,s),R=w=d((r.shapeArgs.x||0)+(r.shapeArgs.width||0)/2,s)),i.plotX=R,i.plotY=(j+C)/2,i.shapeType="path",A==="straight")i.shapeArgs={d:[["M",W,j],["L",w,C]]};else if(A==="curved"){let D=Math.abs(w-W)*h*(v?-1:1);i.shapeArgs={d:[["M",W,j],["C",W+D,j,w-D,C,w,C]]}}else i.shapeArgs={d:o.applyRadius([["M",W,j],["L",R,j],["L",R,C],["L",w,C]],b(g.linkRadius,g.link.radius))};i.dlBox={x:(W+w)/2,y:(j+C)/2,height:s,width:0}}}translateNode(i,y){super.translateNode(i,y);let g=this.chart,p=this.options,r=Math.max(Math.round(i.getSum()*this.translationFactor),p.minLinkWidth||0),s=p.hangingSide==="right",h=p.hangingIndent||0,A=p.hangingIndentTranslation,z=p.minNodeLength||10,P=Math.round(this.nodeWidth),L=i.shapeArgs,F=g.inverted?-1:1,v=i.hangsFrom;if(v)if(A==="cumulative")for(L.height-=h,g.inverted&&!s&&(L.y-=F*h);v;)L.y+=(s?1:F)*h,v=v.hangsFrom;else if(A==="shrink")for(;v&&L.height>h+z;)L.height-=h,(!g.inverted||s)&&(L.y+=h),v=v.hangsFrom;else L.height-=h,(!g.inverted||s)&&(L.y+=h);i.nodeHeight=g.inverted?L.width:L.height,i.shapeArgs&&!i.hangsFrom&&(i.shapeArgs=x(i.shapeArgs,{x:(i.shapeArgs.x||0)+P/2-(i.shapeArgs.width||0)/2,y:(i.shapeArgs.y||0)+r/2-(i.shapeArgs.height||0)/2}))}drawDataLabels(){let i=this.options.dataLabels;if(i.linkTextPath&&i.linkTextPath.enabled)for(let y of this.points)y.options.dataLabels=x(y.options.dataLabels,{useHTML:!1});super.drawDataLabels()}}return S.defaultOptions=x(a.defaultOptions,l),k(S.prototype,{pointClass:c}),e.registerSeriesType("organization",S),S}),M(m,"masters/modules/organization.src.js",[m["Core/Globals.js"]],function(c){return c})})})(E);var H=E.exports;const V=I(H),G=_({__proto__:null,default:V},[H]);export{G as o};
