import{aE as ot}from"./DgWlP6BF.js";function at(J,Z){for(var h=0;h<Z.length;h++){const W=Z[h];if(typeof W!="string"&&!Array.isArray(W)){for(const O in W)if(O!=="default"&&!(O in J)){const w=Object.getOwnPropertyDescriptor(W,O);w&&Object.defineProperty(J,O,w.get?w:{enumerable:!0,get:()=>W[O]})}}}return Object.freeze(Object.defineProperty(J,Symbol.toStringTag,{value:"Module"}))}var it={exports:{}};(function(J){(function(Z){J.exports?(Z.default=Z,J.exports=Z):Z(typeof Highcharts<"u"?Highcharts:void 0)})(function(Z){var h=Z?Z._modules:{};function W(O,w,E,j){O.hasOwnProperty(w)||(O[w]=j.apply(null,E),typeof CustomEvent=="function"&&Z.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:w,module:O[w]}})))}W(h,"Extensions/Annotations/AnnotationChart.js",[h["Core/Utilities.js"]],function(O){var w;let{addEvent:E,erase:j,find:f,fireEvent:r,pick:a,wrap:t}=O;function s(l,x){let b=this.initAnnotation(l);return this.options.annotations.push(b.options),a(x,!0)&&(b.redraw(),b.graphic.attr({opacity:1})),b}function i(){let l=this;l.plotBoxClip=this.renderer.clipRect(this.plotBox),l.controlPointsGroup=l.renderer.g("control-points").attr({zIndex:99}).clip(l.plotBoxClip).add(),l.options.annotations.forEach((x,b)=>{if(!l.annotations.some(p=>p.options===x)){let p=l.initAnnotation(x);l.options.annotations[b]=p.options}}),l.drawAnnotations(),E(l,"redraw",l.drawAnnotations),E(l,"destroy",function(){l.plotBoxClip.destroy(),l.controlPointsGroup.destroy()}),E(l,"exportData",function(x){let b=l.annotations,p=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,y=!x.dataRows[1].xValues,d=l.options.lang&&l.options.lang.exportData&&l.options.lang.exportData.annotationHeader,u=x.dataRows[0].length,c=l.options.exporting&&l.options.exporting.csv&&l.options.exporting.csv.annotations&&l.options.exporting.csv.annotations.itemDelimiter,v=l.options.exporting&&l.options.exporting.csv&&l.options.exporting.csv.annotations&&l.options.exporting.csv.annotations.join;b.forEach(A=>{A.options.labelOptions&&A.options.labelOptions.includeInDataExport&&A.labels.forEach(T=>{if(T.options.text){let m=T.options.text;T.points.forEach(C=>{let k=C.x,B=C.series.xAxis?C.series.xAxis.index:-1,S=!1;if(B===-1){let Y=x.dataRows[0].length,X=Array(Y);for(let R=0;R<Y;++R)X[R]="";X.push(m),X.xValues=[],X.xValues[B]=k,x.dataRows.push(X),S=!0}if(S||x.dataRows.forEach(Y=>{!S&&Y.xValues&&B!==void 0&&k===Y.xValues[B]&&(v&&Y.length>u?Y[Y.length-1]+=c+m:Y.push(m),S=!0)}),!S){let Y=x.dataRows[0].length,X=Array(Y);for(let R=0;R<Y;++R)X[R]="";X[0]=k,X.push(m),X.xValues=[],B!==void 0&&(X.xValues[B]=k),x.dataRows.push(X)}})}})});let P=0;x.dataRows.forEach(A=>{P=Math.max(P,A.length)});let M=P-x.dataRows[0].length;for(let A=0;A<M;A++){let T=function(m){let C;return p&&(C=p(m))!==!1?C:(C=d+" "+m,y?{columnTitle:C,topLevelColumnTitle:C}:C)}(A+1);y?(x.dataRows[0].push(T.topLevelColumnTitle),x.dataRows[1].push(T.columnTitle)):x.dataRows[0].push(T)}})}function e(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(l=>{l.redraw(),l.graphic.animate({opacity:1},l.animationConfig)})}function n(l){let x=this.annotations,b=l.coll==="annotations"?l:f(x,function(p){return p.options.id===l});b&&(r(b,"remove"),j(this.options.annotations,b.options),j(x,b),b.destroy())}function o(){this.annotations=[],this.options.annotations||(this.options.annotations=[])}function g(l){this.chart.hasDraggedAnnotation||l.apply(this,Array.prototype.slice.call(arguments,1))}return(w||(w={})).compose=function(l,x,b){let p=x.prototype;if(!p.addAnnotation){let y=b.prototype;E(x,"afterInit",o),p.addAnnotation=s,p.callbacks.push(i),p.collectionsWithInit.annotations=[s],p.collectionsWithUpdate.push("annotations"),p.drawAnnotations=e,p.removeAnnotation=n,p.initAnnotation=function(d){let u=new(l.types[d.type]||l)(this,d);return this.annotations.push(u),u},t(y,"onContainerMouseDown",g)}},w}),W(h,"Extensions/Annotations/AnnotationDefaults.js",[h["Core/Utilities.js"]],function(O){let{defined:w}=O;return{visible:!0,animation:{},crop:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"#000000",borderRadius:3,borderWidth:1,className:"highcharts-no-tooltip",crop:!1,formatter:function(){return w(this.y)?""+this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"0.7em",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{events:{},style:{cursor:"pointer",fill:"#ffffff",stroke:"#000000","stroke-width":2},height:10,symbol:"circle",visible:!1,width:10},events:{},zIndex:6}}),W(h,"Extensions/Annotations/EventEmitter.js",[h["Core/Globals.js"],h["Core/Utilities.js"]],function(O,w){let{doc:E,isTouchDevice:j}=O,{addEvent:f,fireEvent:r,objectEach:a,pick:t,removeEvent:s}=w;return class{addEvents(){let i=this,e=function(n){f(n,j?"touchstart":"mousedown",o=>{i.onMouseDown(o)},{passive:!1})};if(e(this.graphic.element),(i.labels||[]).forEach(n=>{n.options.useHTML&&n.graphic.text&&e(n.graphic.text.element)}),a(i.options.events,(n,o)=>{let g=function(l){var x;o==="click"&&i.cancelClick||n.call(i,(x=i.chart.pointer)==null?void 0:x.normalize(l),i.target)};(i.nonDOMEvents||[]).indexOf(o)===-1?(f(i.graphic.element,o,g,{passive:!1}),i.graphic.div&&f(i.graphic.div,o,g,{passive:!1})):f(i,o,g,{passive:!1})}),i.options.draggable&&(f(i,"drag",i.onDrag),!i.graphic.renderer.styledMode)){let n={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[i.options.draggable]};i.graphic.css(n),(i.labels||[]).forEach(o=>{o.options.useHTML&&o.graphic.text&&o.graphic.text.css(n)})}i.isUpdating||r(i,"add")}destroy(){this.removeDocEvents(),s(this),this.hcEvents=null}mouseMoveToRadians(i,e,n){let o=i.prevChartY-n,g=i.prevChartX-e,l=i.chartY-n,x=i.chartX-e,b;return this.chart.inverted&&(b=g,g=o,o=b,b=x,x=l,l=b),Math.atan2(l,x)-Math.atan2(o,g)}mouseMoveToScale(i,e,n){let o=i.prevChartX-e,g=i.prevChartY-n,l=i.chartX-e,x=i.chartY-n,b=(l||1)/(o||1),p=(x||1)/(g||1);if(this.chart.inverted){let y=p;p=b,b=y}return{x:b,y:p}}mouseMoveToTranslation(i){let e=i.chartX-i.prevChartX,n=i.chartY-i.prevChartY,o;return this.chart.inverted&&(o=n,n=e,e=o),{x:e,y:n}}onDrag(i){if(this.chart.isInsidePlot(i.chartX-this.chart.plotLeft,i.chartY-this.chart.plotTop,{visiblePlotOnly:!0})){let e=this.mouseMoveToTranslation(i);this.options.draggable==="x"&&(e.y=0),this.options.draggable==="y"&&(e.x=0),this.points.length?this.translate(e.x,e.y):(this.shapes.forEach(n=>n.translate(e.x,e.y)),this.labels.forEach(n=>n.translate(e.x,e.y))),this.redraw(!1)}}onMouseDown(i){var x;if(i.preventDefault&&i.preventDefault(),i.button===2)return;let e=this,n=e.chart.pointer,o=((x=i==null?void 0:i.sourceCapabilities)==null?void 0:x.firesTouchEvents)||!1,g=(i=(n==null?void 0:n.normalize(i))||i).chartX,l=i.chartY;e.cancelClick=!1,e.chart.hasDraggedAnnotation=!0,e.removeDrag=f(E,j||o?"touchmove":"mousemove",function(b){e.hasDragged=!0,(b=(n==null?void 0:n.normalize(b))||b).prevChartX=g,b.prevChartY=l,r(e,"drag",b),g=b.chartX,l=b.chartY},j||o?{passive:!1}:void 0),e.removeMouseUp=f(E,j||o?"touchend":"mouseup",function(){let b=t(e.target&&e.target.annotation,e.target);b&&(b.cancelClick=e.hasDragged),e.cancelClick=e.hasDragged,e.chart.hasDraggedAnnotation=!1,e.hasDragged&&r(t(b,e),"afterUpdate"),e.hasDragged=!1,e.onMouseUp()},j||o?{passive:!1}:void 0)}onMouseUp(){this.removeDocEvents()}removeDocEvents(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())}}}),W(h,"Extensions/Annotations/ControlPoint.js",[h["Extensions/Annotations/EventEmitter.js"],h["Core/Utilities.js"]],function(O,w){let{merge:E,pick:j}=w;return class extends O{constructor(f,r,a,t){super(),this.nonDOMEvents=["drag"],this.chart=f,this.target=r,this.options=a,this.index=j(a.index,t)}destroy(){super.destroy(),this.graphic&&(this.graphic=this.graphic.destroy()),this.chart=null,this.target=null,this.options=null}redraw(f){this.graphic[f?"animate":"attr"](this.options.positioner.call(this,this.target))}render(){let f=this.chart,r=this.options;this.graphic=f.renderer.symbol(r.symbol,0,0,r.width,r.height).add(f.controlPointsGroup).css(r.style),this.setVisibility(r.visible),this.addEvents()}setVisibility(f){this.graphic[f?"show":"hide"](),this.options.visible=f}update(f){let r=this.chart,a=this.target,t=this.index,s=E(!0,this.options,f);this.destroy(),this.constructor(r,a,s,t),this.render(r.controlPointsGroup),this.redraw()}}}),W(h,"Extensions/Annotations/MockPoint.js",[h["Core/Series/SeriesRegistry.js"],h["Core/Utilities.js"]],function(O,w){let{series:{prototype:E}}=O,{defined:j,fireEvent:f}=w;class r{static fromPoint(t){return new r(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})}static pointToPixels(t,s){let i=t.series,e=i.chart,n=t.plotX||0,o=t.plotY||0,g;return e.inverted&&(t.mock?(n=t.plotY,o=t.plotX):(n=e.plotWidth-(t.plotY||0),o=e.plotHeight-(t.plotX||0))),i&&!s&&(n+=(g=i.getPlotBox()).translateX,o+=g.translateY),{x:n,y:o}}static pointToOptions(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}}constructor(t,s,i){this.mock=!0,this.series={visible:!0,chart:t,getPlotBox:E.getPlotBox},this.target=s||null,this.options=i,this.applyOptions(this.getOptions())}applyOptions(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()}getLabelConfig(){return{x:this.x,y:this.y,point:this}}getOptions(){return this.hasDynamicOptions()?this.options(this.target):this.options}hasDynamicOptions(){return typeof this.options=="function"}isInsidePlot(){let t=this.plotX,s=this.plotY,i=this.series.xAxis,e=this.series.yAxis,n={x:t,y:s,isInsidePlot:!0,options:{}};return i&&(n.isInsidePlot=j(t)&&t>=0&&t<=i.len),e&&(n.isInsidePlot=n.isInsidePlot&&j(s)&&s>=0&&s<=e.len),f(this.series.chart,"afterIsInsidePlot",n),n.isInsidePlot}refresh(){let t=this.series,s=t.xAxis,i=t.yAxis,e=this.getOptions();s?(this.x=e.x,this.plotX=s.toPixels(e.x,!0)):(this.x=void 0,this.plotX=e.x),i?(this.y=e.y,this.plotY=i.toPixels(e.y,!0)):(this.y=null,this.plotY=e.y),this.isInside=this.isInsidePlot()}refreshOptions(){let t=this.series,s=t.xAxis,i=t.yAxis;this.x=this.options.x=s?this.options.x=s.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=i?i.toValue(this.plotY,!0):this.plotY}rotate(t,s,i){if(!this.hasDynamicOptions()){let e=Math.cos(i),n=Math.sin(i),o=this.plotX-t,g=this.plotY-s;this.plotX=o*e-g*n+t,this.plotY=o*n+g*e+s,this.refreshOptions()}}scale(t,s,i,e){if(!this.hasDynamicOptions()){let n=this.plotX*i,o=this.plotY*e;this.plotX=(1-i)*t+n,this.plotY=(1-e)*s+o,this.refreshOptions()}}setAxis(t,s){let i=s+"Axis",e=t[i],n=this.series.chart;this.series[i]=typeof e=="object"?e:j(e)?n[i][e]||n.get(e):null}toAnchor(){let t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t}translate(t,s,i,e){this.hasDynamicOptions()||(this.plotX+=i,this.plotY+=e,this.refreshOptions())}}return r}),W(h,"Extensions/Annotations/ControlTarget.js",[h["Extensions/Annotations/ControlPoint.js"],h["Extensions/Annotations/MockPoint.js"],h["Core/Utilities.js"]],function(O,w,E){var j;return function(f){function r(){let p=this.controlPoints,y=this.options.controlPoints||[];y.forEach((d,u)=>{let c=E.merge(this.options.controlPointOptions,d);c.index||(c.index=u),y[u]=c,p.push(new O(this.chart,this,c))})}function a(p){let y=p.series.getPlotBox(),d=p.series.chart,u=p.mock?p.toAnchor():d.tooltip&&d.tooltip.getAnchor.call({chart:p.series.chart},p)||[0,0,0,0],c={x:u[0]+(this.options.x||0),y:u[1]+(this.options.y||0),height:u[2]||0,width:u[3]||0};return{relativePosition:c,absolutePosition:E.merge(c,{x:c.x+(p.mock?y.translateX:d.plotLeft),y:c.y+(p.mock?y.translateY:d.plotTop)})}}function t(){this.controlPoints.forEach(p=>p.destroy()),this.chart=null,this.controlPoints=null,this.points=null,this.options=null,this.annotation&&(this.annotation=null)}function s(){let p=this.options;return p.points||p.point&&E.splat(p.point)}function i(){let p,y,d=this.getPointsOptions(),u=this.points,c=d&&d.length||0;for(p=0;p<c;p++){if(!(y=this.point(d[p],u[p]))){u.length=0;return}y.mock&&y.refresh(),u[p]=y}return u}function e(p,y){if(p&&p.series)return p;if(!y||y.series===null){if(E.isObject(p))y=new w(this.chart,this,p);else if(E.isString(p))y=this.chart.get(p)||null;else if(typeof p=="function"){let d=p.call(y,this);y=d.series?d:new w(this.chart,this,p)}}return y}function n(p){this.controlPoints.forEach(y=>y.redraw(p))}function o(){this.controlPoints.forEach(p=>p.render())}function g(p,y,d,u,c){if(this.chart.inverted){let v=y;y=d,d=v}this.points.forEach((v,P)=>this.transformPoint(p,y,d,u,c,P),this)}function l(p,y,d,u,c,v){let P=this.points[v];P.mock||(P=this.points[v]=w.fromPoint(P)),P[p](y,d,u,c)}function x(p,y){this.transform("translate",null,null,p,y)}function b(p,y,d){this.transformPoint("translate",null,null,p,y,d)}f.compose=function(p){let y=p.prototype;y.addControlPoints||E.merge(!0,y,{addControlPoints:r,anchor:a,destroyControlTarget:t,getPointsOptions:s,linkPoints:i,point:e,redrawControlPoints:n,renderControlPoints:o,transform:g,transformPoint:l,translate:x,translatePoint:b})}}(j||(j={})),j}),W(h,"Extensions/Annotations/Controllables/Controllable.js",[h["Extensions/Annotations/ControlTarget.js"],h["Core/Utilities.js"]],function(O,w){let{merge:E}=w;class j{constructor(r,a,t,s){this.annotation=r,this.chart=r.chart,this.collection=s==="label"?"labels":"shapes",this.controlPoints=[],this.options=a,this.points=[],this.index=t,this.itemType=s,this.init(r,a,t)}attr(...r){this.graphic.attr.apply(this.graphic,arguments)}attrsFromOptions(r){let a,t,s=this.constructor.attrsMap,i={},e=this.chart.styledMode;for(a in r)t=s[a],s[a]===void 0||e&&["fill","stroke","stroke-width"].indexOf(t)!==-1||(i[t]=r[a]);return i}destroy(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.destroyControlTarget()}init(r,a,t){this.annotation=r,this.chart=r.chart,this.options=a,this.points=[],this.controlPoints=[],this.index=t,this.linkPoints(),this.addControlPoints()}redraw(r){this.redrawControlPoints(r)}render(r){this.options.className&&this.graphic&&this.graphic.addClass(this.options.className),this.renderControlPoints()}rotate(r,a,t){this.transform("rotate",r,a,t)}scale(r,a,t,s){this.transform("scale",r,a,t,s)}setControlPointsVisibility(r){this.controlPoints.forEach(a=>{a.setVisibility(r)})}shouldBeDrawn(){return!!this.points.length}translateShape(r,a,t){let s=this.annotation.chart,i=this.annotation.userOptions,e=s.annotations.indexOf(this.annotation),n=s.options.annotations[e];this.translatePoint(r,a,0),t&&this.translatePoint(r,a,1),n[this.collection][this.index].point=this.options.point,i[this.collection][this.index].point=this.options.point}update(r){let a=this.annotation,t=E(!0,this.options,r),s=this.graphic.parentGroup,i=this.constructor;this.destroy(),E(!0,this,new i(a,t,this.index,this.itemType)),this.render(s),this.redraw()}}return O.compose(j),j}),W(h,"Extensions/Annotations/Controllables/ControllableDefaults.js",[],function(){return{defaultMarkers:{arrow:{tagName:"marker",attributes:{id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 0 L 10 5 L 0 10 Z","stroke-width":0}}]},"reverse-arrow":{tagName:"marker",attributes:{id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10},children:[{tagName:"path",attributes:{d:"M 0 5 L 10 0 L 10 10 Z","stroke-width":0}}]}}}}),W(h,"Extensions/Annotations/Controllables/ControllablePath.js",[h["Extensions/Annotations/Controllables/Controllable.js"],h["Extensions/Annotations/Controllables/ControllableDefaults.js"],h["Core/Globals.js"],h["Core/Utilities.js"]],function(O,w,E,j){let{defaultMarkers:f}=w,{addEvent:r,defined:a,extend:t,merge:s,uniqueKey:i}=j,e=g("marker-end"),n=g("marker-start"),o="rgba(192,192,192,"+(E.svg?1e-4:.002)+")";function g(p){return function(y){this.attr(p,"url(#"+y+")")}}function l(){this.options.defs=s(f,this.options.defs||{})}function x(p,y){let d={attributes:{id:p}},u={stroke:y.color||"none",fill:y.color||"rgba(0, 0, 0, 0.75)"};d.children=y.children&&y.children.map(function(P){return s(u,P)});let c=s(!0,{attributes:{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"}},y,d),v=this.definition(c);return v.id=p,v}class b extends O{static compose(y,d){let u=d.prototype;u.addMarker||(r(y,"afterGetContainer",l),u.addMarker=x)}constructor(y,d,u){super(y,d,u,"shape"),this.type="path"}toD(){let y=this.options.d;if(y)return typeof y=="function"?y.call(this):y;let d=this.points,u=d.length,c=[],v=u,P=d[0],M=v&&this.anchor(P).absolutePosition,A=0,T;if(M)for(c.push(["M",M.x,M.y]);++A<u&&v;)T=(P=d[A]).command||"L",M=this.anchor(P).absolutePosition,T==="M"?c.push([T,M.x,M.y]):T==="L"?c.push([T,M.x,M.y]):T==="Z"&&c.push([T]),v=P.series.visible;return v&&this.graphic?this.chart.renderer.crispLine(c,this.graphic.strokeWidth()):null}shouldBeDrawn(){return super.shouldBeDrawn()||!!this.options.d}render(y){let d=this.options,u=this.attrsFromOptions(d);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(u).add(y),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(y),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:o,fill:o,"stroke-width":this.graphic.strokeWidth()+2*d.snap}),super.render(),t(this.graphic,{markerStartSetter:n,markerEndSetter:e}),this.setMarkers(this)}redraw(y){if(this.graphic){let d=this.toD(),u=y?"animate":"attr";d?(this.graphic[u]({d}),this.tracker[u]({d})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!d}super.redraw(y)}setMarkers(y){let d=y.options,u=y.chart,c=u.options.defs,v=d.fill,P=a(v)&&v!=="none"?v:d.stroke;["markerStart","markerEnd"].forEach(function(M){let A,T,m,C,k=d[M];if(k){for(m in c)if((k===((A=c[m]).attributes&&A.attributes.id)||k===A.id)&&A.tagName==="marker"){T=A;break}T&&(C=y[M]=u.renderer.addMarker((d.id||i())+"-"+k,s(T,{color:P})),y.attr(M,C.getAttribute("id")))}})}}return b.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},b}),W(h,"Extensions/Annotations/Controllables/ControllableRect.js",[h["Extensions/Annotations/Controllables/Controllable.js"],h["Extensions/Annotations/Controllables/ControllablePath.js"],h["Core/Utilities.js"]],function(O,w,E){let{merge:j}=E;class f extends O{constructor(a,t,s){super(a,t,s,"shape"),this.type="rect",this.translate=super.translateShape}render(a){let t=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(t).add(a),super.render()}redraw(a){if(this.graphic){let t=this.anchor(this.points[0]).absolutePosition;t?this.graphic[a?"animate":"attr"]({x:t.x,y:t.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!t}super.redraw(a)}}return f.attrsMap=j(w.attrsMap,{width:"width",height:"height"}),f}),W(h,"Extensions/Annotations/Controllables/ControllableCircle.js",[h["Extensions/Annotations/Controllables/Controllable.js"],h["Extensions/Annotations/Controllables/ControllablePath.js"],h["Core/Utilities.js"]],function(O,w,E){let{merge:j}=E;class f extends O{constructor(a,t,s){super(a,t,s,"shape"),this.type="circle",this.translate=super.translateShape}redraw(a){if(this.graphic){let t=this.anchor(this.points[0]).absolutePosition;t?this.graphic[a?"animate":"attr"]({x:t.x,y:t.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!t}super.redraw.call(this,a)}render(a){let t=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(t).add(a),super.render()}setRadius(a){this.options.r=a}}return f.attrsMap=j(w.attrsMap,{r:"r"}),f}),W(h,"Extensions/Annotations/Controllables/ControllableEllipse.js",[h["Extensions/Annotations/Controllables/Controllable.js"],h["Extensions/Annotations/Controllables/ControllablePath.js"],h["Core/Utilities.js"]],function(O,w,E){let{merge:j,defined:f}=E;class r extends O{constructor(t,s,i){super(t,s,i,"shape"),this.type="ellipse"}init(t,s,i){f(s.yAxis)&&s.points.forEach(e=>{e.yAxis=s.yAxis}),f(s.xAxis)&&s.points.forEach(e=>{e.xAxis=s.xAxis}),super.init(t,s,i)}render(t){this.graphic=this.annotation.chart.renderer.createElement("ellipse").attr(this.attrsFromOptions(this.options)).add(t),super.render()}translate(t,s){super.translateShape(t,s,!0)}getDistanceFromLine(t,s,i,e){return Math.abs((s.y-t.y)*i-(s.x-t.x)*e+s.x*t.y-s.y*t.x)/Math.sqrt((s.y-t.y)*(s.y-t.y)+(s.x-t.x)*(s.x-t.x))}getAttrs(t,s){let i=t.x,e=t.y,n=s.x,o=s.y,g=(i+n)/2,l=Math.sqrt((i-n)*(i-n)/4+(e-o)*(e-o)/4),x=180*Math.atan((o-e)/(n-i))/Math.PI;return g<i&&(x+=180),{cx:g,cy:(e+o)/2,rx:l,ry:this.getRY(),angle:x}}getRY(){let t=this.getYAxis();return f(t)?Math.abs(t.toPixels(this.options.ry)-t.toPixels(0)):this.options.ry}getYAxis(){let t=this.options.yAxis;return this.chart.yAxis[t]}getAbsolutePosition(t){return this.anchor(t).absolutePosition}redraw(t){if(this.graphic){let s=this.getAbsolutePosition(this.points[0]),i=this.getAbsolutePosition(this.points[1]),e=this.getAttrs(s,i);s?this.graphic[t?"animate":"attr"]({cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry,rotation:e.angle,rotationOriginX:e.cx,rotationOriginY:e.cy}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!s}super.redraw(t)}setYRadius(t){let s=this.annotation.userOptions.shapes;this.options.ry=t,s&&s[0]&&(s[0].ry=t,s[0].ry=t)}}return r.attrsMap=j(w.attrsMap,{ry:"ry"}),r}),W(h,"Extensions/Annotations/Controllables/ControllableLabel.js",[h["Extensions/Annotations/Controllables/Controllable.js"],h["Core/Templating.js"],h["Extensions/Annotations/MockPoint.js"],h["Core/Utilities.js"]],function(O,w,E,j){let{format:f}=w,{extend:r,isNumber:a,pick:t}=j;function s(e,n,o,g,l){let x=l&&l.anchorX,b=l&&l.anchorY,p,y,d=o/2;return a(x)&&a(b)&&(p=[["M",x,b]],(y=n-b)<0&&(y=-g-y),y<o&&(d=x<e+o/2?y:o-y),b>n+g?p.push(["L",e+d,n+g]):b<n?p.push(["L",e+d,n]):x<e?p.push(["L",e,n+g/2]):x>e+o&&p.push(["L",e+o,n+g/2])),p||[]}class i extends O{static alignedPosition(n,o){let g=n.align,l=n.verticalAlign,x=(o.x||0)+(n.x||0),b=(o.y||0)+(n.y||0),p,y;return g==="right"?p=1:g==="center"&&(p=2),p&&(x+=(o.width-(n.width||0))/p),l==="bottom"?y=1:l==="middle"&&(y=2),y&&(b+=(o.height-(n.height||0))/y),{x:Math.round(x),y:Math.round(b)}}static compose(n){n.prototype.symbols.connector=s}static justifiedOptions(n,o,g,l){let x,b=g.align,p=g.verticalAlign,y=o.box?0:o.padding||0,d=o.getBBox(),u={align:b,verticalAlign:p,x:g.x,y:g.y,width:o.width,height:o.height},c=(l.x||0)-n.plotLeft,v=(l.y||0)-n.plotTop;return(x=c+y)<0&&(b==="right"?u.align="left":u.x=(u.x||0)-x),(x=c+d.width-y)>n.plotWidth&&(b==="left"?u.align="right":u.x=(u.x||0)+n.plotWidth-x),(x=v+y)<0&&(p==="bottom"?u.verticalAlign="top":u.y=(u.y||0)-x),(x=v+d.height-y)>n.plotHeight&&(p==="top"?u.verticalAlign="bottom":u.y=(u.y||0)+n.plotHeight-x),u}constructor(n,o,g){super(n,o,g,"label")}translatePoint(n,o){super.translatePoint(n,o,0)}translate(n,o){let g=this.annotation.chart,l=this.annotation.userOptions,x=g.annotations.indexOf(this.annotation),b=g.options.annotations[x];if(g.inverted){let p=n;n=o,o=p}this.options.x+=n,this.options.y+=o,b[this.collection][this.index].x=this.options.x,b[this.collection][this.index].y=this.options.y,l[this.collection][this.index].x=this.options.x,l[this.collection][this.index].y=this.options.y}render(n){let o=this.options,g=this.attrsFromOptions(o),l=o.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,o.shape,null,null,o.useHTML,null,"annotation-label").attr(g).add(n),this.annotation.chart.styledMode||(l.color==="contrast"&&(l.color=this.annotation.chart.renderer.getContrast(i.shapesWithoutBackground.indexOf(o.shape)>-1?"#FFFFFF":o.backgroundColor)),this.graphic.css(o.style).shadow(o.shadow)),this.graphic.labelrank=o.labelrank,super.render()}redraw(n){let o=this.options,g=this.text||o.format||o.text,l=this.graphic,x=this.points[0];if(!l){this.redraw(n);return}l.attr({text:g?f(String(g),x.getLabelConfig(),this.annotation.chart):o.formatter.call(x,this)});let b=this.anchor(x),p=this.position(b);p?(l.alignAttr=p,p.anchorX=b.absolutePosition.x,p.anchorY=b.absolutePosition.y,l[n?"animate":"attr"](p)):l.attr({x:0,y:-9999}),l.placed=!!p,super.redraw(n)}anchor(n){let o=super.anchor.apply(this,arguments),g=this.options.x||0,l=this.options.y||0;return o.absolutePosition.x-=g,o.absolutePosition.y-=l,o.relativePosition.x-=g,o.relativePosition.y-=l,o}position(n){let o=this.graphic,g=this.annotation.chart,l=g.tooltip,x=this.points[0],b=this.options,p=n.absolutePosition,y=n.relativePosition,d,u,c,v,P=x.series.visible&&E.prototype.isInsidePlot.call(x);if(o&&P){let{width:M=0,height:A=0}=o;b.distance&&l?d=l.getPosition.call({chart:g,distance:t(b.distance,16),getPlayingField:l.getPlayingField,pointer:l.pointer},M,A,{plotX:y.x,plotY:y.y,negative:x.negative,ttBelow:x.ttBelow,h:y.height||y.width}):b.positioner?d=b.positioner.call(this):(u={x:p.x,y:p.y,width:0,height:0},d=i.alignedPosition(r(b,{width:M,height:A}),u),this.options.overflow==="justify"&&(d=i.alignedPosition(i.justifiedOptions(g,o,b,d),u))),b.crop&&(c=d.x-g.plotLeft,v=d.y-g.plotTop,P=g.isInsidePlot(c,v)&&g.isInsidePlot(c+M,v+A))}return P?d:null}}return i.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},i.shapesWithoutBackground=["connector"],i}),W(h,"Extensions/Annotations/Controllables/ControllableImage.js",[h["Extensions/Annotations/Controllables/Controllable.js"],h["Extensions/Annotations/Controllables/ControllableLabel.js"]],function(O,w){class E extends O{constructor(f,r,a){super(f,r,a,"shape"),this.type="image",this.translate=super.translateShape}render(f){let r=this.attrsFromOptions(this.options),a=this.options;this.graphic=this.annotation.chart.renderer.image(a.src,0,-9e9,a.width,a.height).attr(r).add(f),this.graphic.width=a.width,this.graphic.height=a.height,super.render()}redraw(f){if(this.graphic){let r=this.anchor(this.points[0]),a=w.prototype.position.call(this,r);a?this.graphic[f?"animate":"attr"]({x:a.x,y:a.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!a}super.redraw(f)}}return E.attrsMap={width:"width",height:"height",zIndex:"zIndex"},E}),W(h,"Shared/BaseForm.js",[h["Core/Renderer/HTML/AST.js"],h["Core/Utilities.js"]],function(O,w){let{addEvent:E,createElement:j}=w;return class{constructor(f,r){this.iconsURL=r,this.container=this.createPopupContainer(f),this.closeButton=this.addCloseButton()}createPopupContainer(f,r="highcharts-popup highcharts-no-tooltip"){return j("div",{className:r},void 0,f)}addCloseButton(f="highcharts-popup-close"){let r=this,a=this.iconsURL,t=j("button",{className:f},void 0,this.container);return t.style["background-image"]="url("+(a.match(/png|svg|jpeg|jpg|gif/ig)?a:a+"close.svg")+")",["click","touchstart"].forEach(s=>{E(t,s,r.closeButtonEvents.bind(r))}),E(document,"keydown",function(s){s.code==="Escape"&&r.closeButtonEvents()}),t}closeButtonEvents(){this.closePopup()}showPopup(f="highcharts-annotation-toolbar"){let r=this.container,a=this.closeButton;this.type=void 0,r.innerHTML=O.emptyHTML,r.className.indexOf(f)>=0&&(r.classList.remove(f),r.removeAttribute("style")),r.appendChild(a),r.style.display="block",r.style.height=""}closePopup(){this.container.style.display="none"}}}),W(h,"Extensions/Annotations/Popup/PopupAnnotations.js",[h["Core/Globals.js"],h["Core/Utilities.js"]],function(O,w){let{doc:E,isFirefox:j}=O,{createElement:f,isArray:r,isObject:a,objectEach:t,pick:s,stableSort:i}=w;function e(n,o,g,l,x,b){let p,y;if(!o)return;let d=this.addInput,u=this.lang;t(l,(c,v)=>{p=g!==""?g+"."+v:v,a(c)&&(!r(c)||r(c)&&a(c[0])?((y=u[v]||v).match(/\d/g)||x.push([!0,y,n]),e.call(this,n,o,p,c,x,!1)):x.push([this,p,"annotation",n,c]))}),b&&(i(x,c=>c[1].match(/format/g)?-1:1),j&&x.reverse(),x.forEach(c=>{c[0]===!0?f("span",{className:"highcharts-annotation-title"},void 0,c[2]).appendChild(E.createTextNode(c[1])):(c[4]={value:c[4][0],type:c[4][1]},d.apply(c[0],c.splice(1)))}))}return{addForm:function(n,o,g,l){if(!n)return;let x=this.container,b=this.lang,p=f("h2",{className:"highcharts-popup-main-title"},void 0,x);p.appendChild(E.createTextNode(b[o.langKey]||o.langKey||"")),p=f("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},void 0,x);let y=f("div",{className:"highcharts-popup-bottom-row"},void 0,x);e.call(this,p,n,"",o,[],!0),this.addButton(y,l?b.addButton||"Add":b.saveButton||"Save",l?"add":"save",x,g)},addToolbar:function(n,o,g){let l=this.lang,x=this.container,b=this.showForm,p="highcharts-annotation-toolbar";x.className.indexOf(p)===-1&&(x.className+=" "+p+" highcharts-no-mousewheel"),n&&(x.style.top=n.plotTop+10+"px");let y=f("p",{className:"highcharts-annotation-label"},void 0,x);y.setAttribute("aria-label","Annotation type"),y.appendChild(E.createTextNode(s(l[o.langKey]||o.langKey,o.shapes&&o.shapes[0].type,"")));let d=this.addButton(x,l.editButton||"Edit","edit",x,()=>{b.call(this,"annotation-edit",n,o,g)});d.className+=" highcharts-annotation-edit-button",d.style["background-image"]="url("+this.iconsURL+"edit.svg)",d=this.addButton(x,l.removeButton||"Remove","remove",x,g),d.className+=" highcharts-annotation-remove-button",d.style["background-image"]="url("+this.iconsURL+"destroy.svg)"}}}),W(h,"Extensions/Annotations/Popup/PopupIndicators.js",[h["Core/Renderer/HTML/AST.js"],h["Core/Globals.js"],h["Core/Series/SeriesRegistry.js"],h["Core/Utilities.js"]],function(O,w,E,j){var f,r;let{doc:a}=w,{seriesTypes:t}=E,{addEvent:s,createElement:i,defined:e,isArray:n,isObject:o,objectEach:g,stableSort:l}=j;(r=f||(f={}))[r["params.algorithm"]=0]="params.algorithm",r[r["params.average"]=1]="params.average";let x={"algorithm-pivotpoints":["standard","fibonacci","camarilla"],"average-disparityindex":["sma","ema","dema","tema","wma"]};function b(m){let C=i("div",{className:"highcharts-popup-lhs-col"},void 0,m),k=i("div",{className:"highcharts-popup-rhs-col"},void 0,m);return i("div",{className:"highcharts-popup-rhs-col-wrapper"},void 0,k),{lhsCol:C,rhsCol:k}}function p(m,C,k,B){let S=C.params||C.options.params;B.innerHTML=O.emptyHTML,i("h3",{className:"highcharts-indicator-title"},void 0,B).appendChild(a.createTextNode(A(C,k).indicatorFullName)),i("input",{type:"hidden",name:"highcharts-type-"+k,value:k},void 0,B),T.call(this,k,"series",m,B,C,C.linkedParent&&C.linkedParent.options.id),S.volumeSeriesID&&T.call(this,k,"volume",m,B,C,C.linkedParent&&S.volumeSeriesID),d.call(this,m,"params",S,k,B)}function y(m,C,k,B){function S(q,V){let U=H.parentNode.children[1];p.call(Y,m,q,V,H),U&&(U.style.display="block"),L&&q.options&&i("input",{type:"hidden",name:"highcharts-id-"+V,value:q.options.id},void 0,H).setAttribute("highcharts-data-series-id",q.options.id)}let Y=this,X=Y.lang,R=C.querySelectorAll(".highcharts-popup-lhs-col")[0],N=C.querySelectorAll(".highcharts-popup-rhs-col")[0],L=k==="edit",D=L?m.series:m.options.plotOptions||{};if(!m&&D)return;let F,I=[];L||n(D)?n(D)&&(I=M.call(this,D)):I=P.call(this,D,B),l(I,(q,V)=>{let U=q.indicatorFullName.toLowerCase(),G=V.indicatorFullName.toLowerCase();return U<G?-1:U>G?1:0}),R.children[1]&&R.children[1].remove();let z=i("ul",{className:"highcharts-indicator-list"},void 0,R),H=N.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];if(I.forEach(q=>{let{indicatorFullName:V,indicatorType:U,series:G}=q;F=i("li",{className:"highcharts-indicator-list"},void 0,z);let K=i("button",{className:"highcharts-indicator-list-item",textContent:V},void 0,F);["click","touchstart"].forEach(tt=>{s(K,tt,function(){S(G,U)})})}),I.length>0){let{series:q,indicatorType:V}=I[0];S(q,V)}else L||(O.setElementHTML(H.parentNode.children[0],X.noFilterMatch||""),H.parentNode.children[1].style.display="none")}function d(m,C,k,B,S){if(!m)return;let Y=this.addInput;g(k,(X,R)=>{let N=C+"."+R;if(e(X)&&N)if(o(X)&&(Y.call(this,N,B,S,{}),d.call(this,m,N,X,B,S)),N in f){let L=c.call(this,B,N,S);v.call(this,m,C,L,B,R,X)}else N==="params.volumeSeriesID"||n(X)||Y.call(this,N,B,S,{value:X,type:"number"})})}function u(m,C){let k=this,B=C.querySelectorAll(".highcharts-popup-lhs-col")[0],S=this.lang.clearFilter,Y=i("div",{className:"highcharts-input-wrapper"},void 0,B),X=function(L){y.call(k,m,k.container,"add",L)},R=this.addInput("searchIndicators","input",Y,{value:"",type:"text",htmlFor:"search-indicators",labelClassName:"highcharts-input-search-indicators-label"}),N=i("a",{textContent:S},void 0,Y);R.classList.add("highcharts-input-search-indicators"),N.classList.add("clear-filter-button"),s(R,"input",function(){X(this.value),this.value.length?N.style.display="inline-block":N.style.display="none"}),["click","touchstart"].forEach(L=>{s(N,L,function(){R.value="",X(""),N.style.display="none"})})}function c(m,C,k){let B=C.split("."),S=B[B.length-1],Y="highcharts-"+C+"-type-"+m,X=this.lang;i("label",{htmlFor:Y},null,k).appendChild(a.createTextNode(X[S]||C));let R=i("select",{name:Y,className:"highcharts-popup-field",id:"highcharts-select-"+C},null,k);return R.setAttribute("id","highcharts-select-"+C),R}function v(m,C,k,B,S,Y,X){C==="series"||C==="volume"?m.series.forEach(R=>{let N=R.options,L=N.name||N.params?R.name:N.id||"";N.id!=="highcharts-navigator-series"&&N.id!==(X&&X.options&&X.options.id)&&(e(Y)||C!=="volume"||R.type!=="column"||(Y=N.id),i("option",{value:N.id},void 0,k).appendChild(a.createTextNode(L)))}):B&&S&&x[S+"-"+B].forEach(R=>{i("option",{value:R},void 0,k).appendChild(a.createTextNode(R))}),e(Y)&&(k.value=Y)}function P(m,C){let k,B=this.chart&&this.chart.options.lang,S=B&&B.navigation&&B.navigation.popup&&B.navigation.popup.indicatorAliases,Y=[];return g(m,(X,R)=>{let N=X&&X.options;if(X.params||N&&N.params){let{indicatorFullName:L,indicatorType:D}=A(X,R);if(C){let F=RegExp(C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),I=S&&S[D]&&S[D].join(" ")||"";(L.match(F)||I.match(F))&&(k={indicatorFullName:L,indicatorType:D,series:X},Y.push(k))}else k={indicatorFullName:L,indicatorType:D,series:X},Y.push(k)}}),Y}function M(m){let C=[];return m.forEach(k=>{k.is("sma")&&C.push({indicatorFullName:k.name,indicatorType:k.type,series:k})}),C}function A(m,C){let k=m.options,B=t[C]&&t[C].prototype.nameBase||C.toUpperCase(),S=C;return k&&k.type&&(S=m.options.type,B=m.name),{indicatorFullName:B,indicatorType:S}}function T(m,C,k,B,S,Y){if(!k)return;let X=c.call(this,m,C,B);v.call(this,k,C,X,void 0,void 0,void 0,S),e(Y)&&(X.value=Y)}return{addForm:function(m,C,k){let B,S=this.lang;if(!m)return;this.tabs.init.call(this,m);let Y=this.container.querySelectorAll(".highcharts-tab-item-content");b(Y[0]),u.call(this,m,Y[0]),y.call(this,m,Y[0],"add"),B=Y[0].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(B,S.addButton||"add","add",B,k),b(Y[1]),y.call(this,m,Y[1],"edit"),B=Y[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(B,S.saveButton||"save","edit",B,k),this.addButton(B,S.removeButton||"remove","remove",B,k)},getAmount:function(){let m=0;return this.series.forEach(C=>{(C.params||C.options.params)&&m++}),m}}}),W(h,"Extensions/Annotations/Popup/PopupTabs.js",[h["Core/Globals.js"],h["Core/Utilities.js"]],function(O,w){let{doc:E}=O,{addEvent:j,createElement:f}=w;function r(){return f("div",{className:"highcharts-tab-item-content highcharts-no-mousewheel"},void 0,this.container)}function a(e,n){let o=this.container,g=this.lang,l="highcharts-tab-item";n===0&&(l+=" highcharts-tab-disabled");let x=f("button",{className:l},void 0,o);return x.appendChild(E.createTextNode(g[e+"Button"]||e)),x.setAttribute("highcharts-data-tab-type",e),x}function t(){let e=this.container,n=e.querySelectorAll(".highcharts-tab-item"),o=e.querySelectorAll(".highcharts-tab-item-content");for(let g=0;g<n.length;g++)n[g].classList.remove("highcharts-tab-item-active"),o[g].classList.remove("highcharts-tab-item-show")}function s(e,n){let o=this.container.querySelectorAll(".highcharts-tab-item-content");e.className+=" highcharts-tab-item-active",o[n].className+=" highcharts-tab-item-show"}function i(e){let n=this;this.container.querySelectorAll(".highcharts-tab-item").forEach((o,g)=>{(e!==0||o.getAttribute("highcharts-data-tab-type")!=="edit")&&["click","touchstart"].forEach(l=>{j(o,l,function(){t.call(n),s.call(n,this,g)})})})}return{init:function(e){if(!e)return;let n=this.indicators.getAmount.call(e),o=a.call(this,"add");a.call(this,"edit",n),r.call(this),r.call(this),i.call(this,n),s.call(this,o,0)}}}),W(h,"Extensions/Annotations/Popup/Popup.js",[h["Shared/BaseForm.js"],h["Core/Globals.js"],h["Core/Defaults.js"],h["Extensions/Annotations/Popup/PopupAnnotations.js"],h["Extensions/Annotations/Popup/PopupIndicators.js"],h["Extensions/Annotations/Popup/PopupTabs.js"],h["Core/Utilities.js"]],function(O,w,E,j,f,r,a){let{doc:t}=w,{getOptions:s}=E,{addEvent:i,createElement:e,extend:n,fireEvent:o,pick:g}=a;class l extends O{constructor(b,p,y){super(b,p),this.chart=y,this.lang=(s().lang.navigation||{}).popup||{},i(this.container,"mousedown",()=>{let d=y&&y.navigationBindings&&y.navigationBindings.activeAnnotation;if(d){d.cancelClick=!0;let u=i(t,"click",()=>{setTimeout(()=>{d.cancelClick=!1},0),u()})}})}addInput(b,p,y,d){let u=b.split("."),c=u[u.length-1],v=this.lang,P="highcharts-"+p+"-"+g(d.htmlFor,c);c.match(/^\d+$/)||e("label",{htmlFor:P,className:d.labelClassName},void 0,y).appendChild(t.createTextNode(v[c]||c));let M=e("input",{name:P,value:d.value,type:d.type,className:"highcharts-popup-field"},void 0,y);return M.setAttribute("highcharts-data-name",b),M}closeButtonEvents(){if(this.chart){let b=this.chart.navigationBindings;o(b,"closePopup"),b&&b.selectedButtonElement&&o(b,"deselectButton",{button:b.selectedButtonElement})}else super.closeButtonEvents()}addButton(b,p,y,d,u){let c=e("button",void 0,void 0,b);return c.appendChild(t.createTextNode(p)),u&&["click","touchstart"].forEach(v=>{i(c,v,()=>(this.closePopup(),u(function(P,M){let A=Array.prototype.slice.call(P.querySelectorAll("input")),T=Array.prototype.slice.call(P.querySelectorAll("select")),m=P.querySelectorAll("#highcharts-select-series > option:checked")[0],C=P.querySelectorAll("#highcharts-select-volume > option:checked")[0],k={actionType:M,linkedTo:m&&m.getAttribute("value")||"",fields:{}};return A.forEach(B=>{let S=B.getAttribute("highcharts-data-name");B.getAttribute("highcharts-data-series-id")?k.seriesId=B.value:S?k.fields[S]=B.value:k.type=B.value}),T.forEach(B=>{let S=B.id;if(S!=="highcharts-select-series"&&S!=="highcharts-select-volume"){let Y=S.split("highcharts-select-")[1];k.fields[Y]=B.value}}),C&&(k.fields["params.volumeSeriesID"]=C.getAttribute("value")||""),k}(d,y))))}),c}showForm(b,p,y,d){p&&(this.showPopup(),b==="indicators"&&this.indicators.addForm.call(this,p,y,d),b==="annotation-toolbar"&&this.annotations.addToolbar.call(this,p,y,d),b==="annotation-edit"&&this.annotations.addForm.call(this,p,y,d),b==="flag"&&this.annotations.addForm.call(this,p,y,d,!0),this.type=b,this.container.style.height=this.container.offsetHeight+"px")}}return n(l.prototype,{annotations:j,indicators:f,tabs:r}),l}),W(h,"Extensions/Annotations/Popup/PopupComposition.js",[h["Core/Globals.js"],h["Extensions/Annotations/Popup/Popup.js"],h["Core/Utilities.js"]],function(O,w,E){let{composed:j}=O,{addEvent:f,pushUnique:r,wrap:a}=E;function t(){this.popup&&this.popup.closePopup()}function s(e){this.popup||(this.popup=new w(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/11.4.7/gfx/stock-icons/",this.chart)),this.popup.showForm(e.formType,this.chart,e.options,e.onSubmit)}function i(e,n){this.inClass(n.target,"highcharts-popup")||e.apply(this,Array.prototype.slice.call(arguments,1))}return{compose:function(e,n){r(j,"Popup")&&(f(e,"closePopup",t),f(e,"showPopup",s),a(n.prototype,"onContainerMouseDown",i))}}}),W(h,"Extensions/Annotations/Annotation.js",[h["Core/Animation/AnimationUtilities.js"],h["Extensions/Annotations/AnnotationChart.js"],h["Extensions/Annotations/AnnotationDefaults.js"],h["Extensions/Annotations/Controllables/ControllableRect.js"],h["Extensions/Annotations/Controllables/ControllableCircle.js"],h["Extensions/Annotations/Controllables/ControllableEllipse.js"],h["Extensions/Annotations/Controllables/ControllablePath.js"],h["Extensions/Annotations/Controllables/ControllableImage.js"],h["Extensions/Annotations/Controllables/ControllableLabel.js"],h["Extensions/Annotations/ControlPoint.js"],h["Extensions/Annotations/ControlTarget.js"],h["Extensions/Annotations/EventEmitter.js"],h["Extensions/Annotations/MockPoint.js"],h["Extensions/Annotations/Popup/PopupComposition.js"],h["Core/Utilities.js"]],function(O,w,E,j,f,r,a,t,s,i,e,n,o,g,l){let{getDeferredAnimation:x}=O,{destroyObjectProperties:b,erase:p,fireEvent:y,merge:d,pick:u,splat:c}=l;function v(M,A){let T={};return["labels","shapes"].forEach(m=>{let C=M[m];C&&(A[m]?T[m]=c(A[m]).map(function(k,B){return d(C[B],k)}):T[m]=M[m])}),T}class P extends n{static compose(A,T,m,C){w.compose(P,A,m),s.compose(C),a.compose(A,C),T.compose(P,A),g.compose(T,m)}constructor(A,T){super(),this.coll="annotations",this.chart=A,this.points=[],this.controlPoints=[],this.coll="annotations",this.index=-1,this.labels=[],this.shapes=[],this.options=d(this.defaultOptions,T),this.userOptions=T;let m=v(this.options,T);this.options.labels=m.labels,this.options.shapes=m.shapes,this.init(A,this.options)}addClipPaths(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&this.options.crop&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))}addLabels(){let A=this.options.labels||[];A.forEach((T,m)=>{let C=this.initLabel(T,m);d(!0,A[m],C.options)})}addShapes(){let A=this.options.shapes||[];A.forEach((T,m)=>{let C=this.initShape(T,m);d(!0,A[m],C.options)})}destroy(){let A=this.chart,T=function(m){m.destroy()};this.labels.forEach(T),this.shapes.forEach(T),this.clipXAxis=null,this.clipYAxis=null,p(A.labelCollectors,this.labelCollector),super.destroy(),this.destroyControlTarget(),b(this,A)}destroyItem(A){p(this[A.itemType+"s"],A),A.destroy()}getClipBox(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}}initProperties(A,T){this.setOptions(T);let m=v(this.options,T);this.options.labels=m.labels,this.options.shapes=m.shapes,this.chart=A,this.points=[],this.controlPoints=[],this.coll="annotations",this.userOptions=T,this.labels=[],this.shapes=[]}init(A,T,m=this.index){let C=this.chart,k=this.options.animation;this.index=m,this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=x(C,k)}initLabel(A,T){let m=new s(this,d(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},A),T);return m.itemType="label",this.labels.push(m),m}initShape(A,T){let m=d(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},A),C=new P.shapesMap[m.type](this,m,T);return C.itemType="shape",this.shapes.push(C),C}redraw(A){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,A),this.redrawItems(this.labels,A),this.redrawControlPoints(A)}redrawItem(A,T){A.linkPoints(),A.shouldBeDrawn()?(A.graphic||this.renderItem(A),A.redraw(u(T,!0)&&A.graphic.placed),A.points.length&&function(m){let C=m.graphic,k=m.points.some(B=>B.series.visible!==!1&&B.visible!==!1);C&&(k?C.visibility==="hidden"&&C.show():C.hide())}(A)):this.destroyItem(A)}redrawItems(A,T){let m=A.length;for(;m--;)this.redrawItem(A[m],T)}remove(){return this.chart.removeAnnotation(this)}render(){let A=this.chart.renderer;this.graphic=A.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"inherit":"hidden"}).add(),this.shapesGroup=A.g("annotation-shapes").add(this.graphic),this.options.crop&&this.shapesGroup.clip(this.chart.plotBoxClip),this.labelsGroup=A.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),this.renderControlPoints()}renderItem(A){A.render(A.itemType==="label"?this.labelsGroup:this.shapesGroup)}renderItems(A){let T=A.length;for(;T--;)this.renderItem(A[T])}setClipAxes(){let A=this.chart.xAxis,T=this.chart.yAxis,m=(this.options.labels||[]).concat(this.options.shapes||[]).reduce((C,k)=>{let B=k&&(k.point||k.points&&k.points[0]);return[A[B&&B.xAxis]||C[0],T[B&&B.yAxis]||C[1]]},[]);this.clipXAxis=m[0],this.clipYAxis=m[1]}setControlPointsVisibility(A){let T=function(m){m.setControlPointsVisibility(A)};this.controlPoints.forEach(m=>{m.setVisibility(A)}),this.shapes.forEach(T),this.labels.forEach(T)}setLabelCollector(){let A=this;A.labelCollector=function(){return A.labels.reduce(function(T,m){return m.options.allowOverlap||T.push(m.graphic),T},[])},A.chart.labelCollectors.push(A.labelCollector)}setOptions(A){this.options=d(this.defaultOptions,A)}setVisibility(A){let T=this.options,m=this.chart.navigationBindings,C=u(A,!T.visible);if(this.graphic.attr("visibility",C?"inherit":"hidden"),!C){let k=function(B){B.setControlPointsVisibility(C)};this.shapes.forEach(k),this.labels.forEach(k),m.activeAnnotation===this&&m.popup&&m.popup.type==="annotation-toolbar"&&y(m,"closePopup")}T.visible=C}update(A,T){let m=this.chart,C=v(this.userOptions,A),k=m.annotations.indexOf(this),B=d(!0,this.userOptions,A);B.labels=C.labels,B.shapes=C.shapes,this.destroy(),this.initProperties(m,B),this.init(m,B),m.options.annotations[k]=this.options,this.isUpdating=!0,u(T,!0)&&m.drawAnnotations(),y(this,"afterUpdate"),this.isUpdating=!1}}return P.ControlPoint=i,P.MockPoint=o,P.shapesMap={rect:j,circle:f,ellipse:r,path:a,image:t},P.types={},P.prototype.defaultOptions=E,P.prototype.nonDOMEvents=["add","afterUpdate","drag","remove"],e.compose(P),P}),W(h,"Core/Chart/ChartNavigationComposition.js",[],function(){var O;return function(w){w.compose=function(j){return j.navigation||(j.navigation=new E(j)),j};class E{constructor(f){this.updates=[],this.chart=f}addUpdate(f){this.chart.navigation.updates.push(f)}update(f,r){this.updates.forEach(a=>{a.call(this.chart,f,r)})}}w.Additions=E}(O||(O={})),O}),W(h,"Extensions/Annotations/NavigationBindingsUtilities.js",[h["Core/Utilities.js"]],function(O){let{defined:w,isNumber:E,pick:j}=O,f={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:f,getAssignedAxis:function(r){return r.filter(a=>{let t=a.axis.getExtremes(),s=t.min,i=t.max,e=j(a.axis.minPointOffset,0);return E(s)&&E(i)&&a.value>=s-e&&a.value<=i+e&&!a.axis.options.isInternal})[0]},getFieldType:function(r,a){let t=f[r],s=typeof a;return w(t)&&(s=t),{string:"text",number:"number",boolean:"checkbox"}[s]}}}),W(h,"Extensions/Annotations/NavigationBindingsDefaults.js",[h["Extensions/Annotations/NavigationBindingsUtilities.js"],h["Core/Utilities.js"]],function(O,w){let{getAssignedAxis:E}=O,{isNumber:j,merge:f}=w;return{lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(r){var e;let a=(e=this.chart.pointer)==null?void 0:e.getCoordinates(r),t=a&&E(a.xAxis),s=a&&E(a.yAxis),i=this.chart.options.navigation;if(t&&s)return this.chart.addAnnotation(f({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:t.value,y:s.value,xAxis:t.axis.index,yAxis:s.axis.index},r:5}]},i.annotationsOptions,i.bindings.circleAnnotation.annotationsOptions))},steps:[function(r,a){let t,s=a.options.shapes,i=s&&s[0]&&s[0].point||{};if(j(i.xAxis)&&j(i.yAxis)){let e=this.chart.inverted,n=this.chart.xAxis[i.xAxis].toPixels(i.x),o=this.chart.yAxis[i.yAxis].toPixels(i.y);t=Math.max(Math.sqrt(Math.pow(e?o-r.chartX:n-r.chartX,2)+Math.pow(e?n-r.chartY:o-r.chartY,2)),5)}a.update({shapes:[{r:t}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(r){var e;let a=(e=this.chart.pointer)==null?void 0:e.getCoordinates(r),t=a&&E(a.xAxis),s=a&&E(a.yAxis),i=this.chart.options.navigation;if(t&&s)return this.chart.addAnnotation(f({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:t.axis.index,yAxis:s.axis.index,points:[{x:t.value,y:s.value},{x:t.value,y:s.value}],ry:1}]},i.annotationsOptions,i.bindings.ellipseAnnotation.annotationOptions))},steps:[function(r,a){let t=a.shapes[0],s=t.getAbsolutePosition(t.points[1]);t.translatePoint(r.chartX-s.x,r.chartY-s.y,1),t.redraw(!1)},function(r,a){let t=a.shapes[0],s=t.getAbsolutePosition(t.points[0]),i=t.getAbsolutePosition(t.points[1]),e=t.getDistanceFromLine(s,i,r.chartX,r.chartY),n=t.getYAxis(),o=Math.abs(n.toValue(0)-n.toValue(e));t.setYRadius(o),t.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(r){var l;let a=(l=this.chart.pointer)==null?void 0:l.getCoordinates(r),t=a&&E(a.xAxis),s=a&&E(a.yAxis);if(!t||!s)return;let i=t.value,e=s.value,n=t.axis.index,o=s.axis.index,g=this.chart.options.navigation;return this.chart.addAnnotation(f({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:n,yAxis:o,x:i,y:e},{xAxis:n,yAxis:o,x:i,y:e},{xAxis:n,yAxis:o,x:i,y:e},{xAxis:n,yAxis:o,x:i,y:e},{command:"Z"}]}]},g.annotationsOptions,g.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(r,a){var o;let t=a.options.shapes,s=t&&t[0]&&t[0].points||[],i=(o=this.chart.pointer)==null?void 0:o.getCoordinates(r),e=i&&E(i.xAxis),n=i&&E(i.yAxis);if(e&&n){let g=e.value,l=n.value;s[1].x=g,s[2].x=g,s[2].y=l,s[3].y=l,a.update({shapes:[{points:s}]})}}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(r){var e;let a=(e=this.chart.pointer)==null?void 0:e.getCoordinates(r),t=a&&E(a.xAxis),s=a&&E(a.yAxis),i=this.chart.options.navigation;if(t&&s)return this.chart.addAnnotation(f({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}",overflow:"none",crop:!0},labels:[{point:{xAxis:t.axis.index,yAxis:s.axis.index,x:t.value,y:s.value}}]},i.annotationsOptions,i.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}}),W(h,"Extensions/Annotations/NavigationBindings.js",[h["Core/Chart/ChartNavigationComposition.js"],h["Core/Defaults.js"],h["Core/Templating.js"],h["Core/Globals.js"],h["Extensions/Annotations/NavigationBindingsDefaults.js"],h["Extensions/Annotations/NavigationBindingsUtilities.js"],h["Core/Utilities.js"]],function(O,w,E,j,f,r,a){let{setOptions:t}=w,{format:s}=E,{composed:i,doc:e,win:n}=j,{getAssignedAxis:o,getFieldType:g}=r,{addEvent:l,attr:x,defined:b,fireEvent:p,isArray:y,isFunction:d,isNumber:u,isObject:c,merge:v,objectEach:P,pick:M,pushUnique:A}=a;function T(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}function m(){this.navigationBindings&&this.navigationBindings.destroy()}function C(){let R=this.options;R&&R.navigation&&R.navigation.bindings&&(this.navigationBindings=new X(this,R.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())}function k(){let R=this.navigationBindings,N="highcharts-disabled-btn";if(this&&R){let L=!1;if(this.series.forEach(D=>{!D.options.isInternal&&D.visible&&(L=!0)}),this.navigationBindings&&this.navigationBindings.container&&this.navigationBindings.container[0]){let D=this.navigationBindings.container[0];P(R.boundClassNames,(F,I)=>{let z=D.querySelectorAll("."+I);if(z)for(let H=0;H<z.length;H++){let q=z[H],V=q.className;F.noDataState==="normal"||L?V.indexOf(N)!==-1&&q.classList.remove(N):V.indexOf(N)===-1&&(q.className+=" "+N)}})}}}function B(){this.deselectAnnotation()}function S(){this.selectedButtonElement=null}function Y(R){let N,L,D=R.prototype.defaultOptions.events&&R.prototype.defaultOptions.events.click;function F(I){let z=this,H=z.chart.navigationBindings,q=H.activeAnnotation;D&&D.call(z,I),q!==z?(H.deselectAnnotation(),H.activeAnnotation=z,z.setControlPointsVisibility(!0),p(H,"showPopup",{annotation:z,formType:"annotation-toolbar",options:H.annotationToFields(z),onSubmit:function(V){if(V.actionType==="remove")H.activeAnnotation=!1,H.chart.removeAnnotation(z);else{let U={};H.fieldsToOptions(V.fields,U),H.deselectAnnotation();let G=U.typeOptions;z.options.type==="measure"&&(G.crosshairY.enabled=G.crosshairY.strokeWidth!==0,G.crosshairX.enabled=G.crosshairX.strokeWidth!==0),z.update(U)}}})):p(H,"closePopup"),I.activeAnnotation=!0}v(!0,R.prototype.defaultOptions.events,{click:F,touchstart:function(I){N=I.touches[0].clientX,L=I.touches[0].clientY},touchend:function(I){N&&Math.sqrt(Math.pow(N-I.changedTouches[0].clientX,2)+Math.pow(L-I.changedTouches[0].clientY,2))>=4||F.call(this,I)}})}class X{static compose(N,L){A(i,"NavigationBindings")&&(l(N,"remove",T),Y(N),P(N.types,D=>{Y(D)}),l(L,"destroy",m),l(L,"load",C),l(L,"render",k),l(X,"closePopup",B),l(X,"deselectButton",S),t(f))}constructor(N,L){this.boundClassNames=void 0,this.chart=N,this.options=L,this.eventsToUnbind=[],this.container=this.chart.container.getElementsByClassName(this.options.bindingsClassName||""),this.container.length||(this.container=e.getElementsByClassName(this.options.bindingsClassName||""))}getCoords(N){var D;let L=(D=this.chart.pointer)==null?void 0:D.getCoordinates(N);return[L&&o(L.xAxis),L&&o(L.yAxis)]}initEvents(){let N=this,L=N.chart,D=N.container,F=N.options;N.boundClassNames={},P(F.bindings||{},I=>{N.boundClassNames[I.className]=I}),[].forEach.call(D,I=>{N.eventsToUnbind.push(l(I,"click",z=>{let H=N.getButtonEvents(I,z);H&&!H.button.classList.contains("highcharts-disabled-btn")&&N.bindingsButtonClick(H.button,H.events,z)}))}),P(F.events||{},(I,z)=>{d(I)&&N.eventsToUnbind.push(l(N,z,I,{passive:!1}))}),N.eventsToUnbind.push(l(L.container,"click",function(I){!L.cancelClick&&L.isInsidePlot(I.chartX-L.plotLeft,I.chartY-L.plotTop,{visiblePlotOnly:!0})&&N.bindingsChartClick(this,I)})),N.eventsToUnbind.push(l(L.container,j.isTouchDevice?"touchmove":"mousemove",function(I){N.bindingsContainerMouseMove(this,I)},j.isTouchDevice?{passive:!1}:void 0))}initUpdate(){let N=this;O.compose(this.chart).navigation.addUpdate(L=>{N.update(L)})}bindingsButtonClick(N,L,D){let F=this.chart,I=F.renderer.boxWrapper,z=!0;this.selectedButtonElement&&(this.selectedButtonElement.classList===N.classList&&(z=!1),p(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&this.currentUserDetails.coll==="annotations"&&F.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),z?(this.selectedButton=L,this.selectedButtonElement=N,p(this,"selectButton",{button:N}),L.init&&L.init.call(this,N,D),(L.start||L.steps)&&F.renderer.boxWrapper.addClass("highcharts-draw-mode")):(F.stockTools&&N.classList.remove("highcharts-active"),I.removeClass("highcharts-draw-mode"),this.nextEvent=!1,this.mouseMoveEvent=!1,this.selectedButton=null)}bindingsChartClick(N,L){N=this.chart;let D=this.activeAnnotation,F=this.selectedButton,I=N.renderer.boxWrapper;D&&(D.cancelClick||L.activeAnnotation||!L.target.parentNode||function(z,H){let q=n.Element.prototype,V=q.matches||q.msMatchesSelector||q.webkitMatchesSelector,U=null;if(q.closest)U=q.closest.call(z,H);else do{if(V.call(z,H))return z;z=z.parentElement||z.parentNode}while(z!==null&&z.nodeType===1);return U}(L.target,".highcharts-popup")?D.cancelClick&&setTimeout(()=>{D.cancelClick=!1},0):p(this,"closePopup")),F&&F.start&&(this.nextEvent?(this.nextEvent(L,this.currentUserDetails),this.steps&&(this.stepIndex++,F.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=F.steps[this.stepIndex]:(p(this,"deselectButton",{button:this.selectedButtonElement}),I.removeClass("highcharts-draw-mode"),F.end&&F.end.call(this,L,this.currentUserDetails),this.nextEvent=!1,this.mouseMoveEvent=!1,this.selectedButton=null))):(this.currentUserDetails=F.start.call(this,L),this.currentUserDetails&&F.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=F.steps[this.stepIndex]):(p(this,"deselectButton",{button:this.selectedButtonElement}),I.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,F.end&&F.end.call(this,L,this.currentUserDetails))))}bindingsContainerMouseMove(N,L){this.mouseMoveEvent&&this.mouseMoveEvent(L,this.currentUserDetails)}fieldsToOptions(N,L){return P(N,(D,F)=>{let I=parseFloat(D),z=F.split("."),H=z.length-1;if(!u(I)||D.match(/px|em/g)||F.match(/format/g)||(D=I),D!=="undefined"){let q=L;z.forEach((V,U)=>{if(V!=="__proto__"&&V!=="constructor"){let G=M(z[U+1],"");H===U?q[V]=D:(q[V]||(q[V]=G.match(/\d/g)?[]:{}),q=q[V])}})}}),L}deselectAnnotation(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)}annotationToFields(N){let L=N.options,D=X.annotationsEditable,F=D.nestedOptions,I=M(L.type,L.shapes&&L.shapes[0]&&L.shapes[0].type,L.labels&&L.labels[0]&&L.labels[0].type,"label"),z=X.annotationsNonEditable[L.langKey]||[],H={langKey:L.langKey,type:I};function q(V,U,G,K,tt){let $;G&&b(V)&&z.indexOf(U)===-1&&((G.indexOf&&G.indexOf(U))>=0||G[U]||G===!0)&&(y(V)?(K[U]=[],V.forEach((Q,_)=>{c(Q)?(K[U][_]={},P(Q,(et,nt)=>{q(et,nt,F[U],K[U][_],U)})):q(Q,0,F[U],K[U],U)})):c(V)?($={},y(K)?(K.push($),$[U]={},$=$[U]):K[U]=$,P(V,(Q,_)=>{q(Q,_,U===0?G:F[U],$,U)})):U==="format"?K[U]=[s(V,N.labels[0].points[0]).toString(),"text"]:y(K)?K.push([V,g(tt,V)]):K[U]=[V,g(U,V)])}return P(L,(V,U)=>{U==="typeOptions"?(H[U]={},P(L[U],(G,K)=>{q(G,K,F,H[U],K)})):q(V,U,D[I],H,U)}),H}getClickedClassNames(N,L){let D=L.target,F=[],I;for(;D&&D.tagName&&((I=x(D,"class"))&&(F=F.concat(I.split(" ").map(z=>[z,D]))),(D=D.parentNode)!==N););return F}getButtonEvents(N,L){let D,F=this;return this.getClickedClassNames(N,L).forEach(I=>{F.boundClassNames[I[0]]&&!D&&(D={events:F.boundClassNames[I[0]],button:I[1]})}),D}update(N){this.options=v(!0,this.options,N),this.removeEvents(),this.initEvents()}removeEvents(){this.eventsToUnbind.forEach(N=>N())}destroy(){this.removeEvents()}}return X.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],ellipse:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},X.annotationsNonEditable={rectangle:["crosshairX","crosshairY","labelOptions"],ellipse:["labelOptions"],circle:["labelOptions"]},X}),W(h,"masters/modules/annotations.src.js",[h["Core/Globals.js"],h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/NavigationBindings.js"]],function(O,w,E){return O.Annotation=O.Annotation||w,O.NavigationBindings=O.NavigationBindings||E,O.Annotation.compose(O.Chart,O.NavigationBindings,O.Pointer,O.SVGRenderer),O}),W(h,"Extensions/Annotations/Types/BasicAnnotation.js",[h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/MockPoint.js"],h["Core/Utilities.js"]],function(O,w,E){let{merge:j}=E;class f extends O{addControlPoints(){let a=this.options,t=f.basicControlPoints,s=this.basicType;(a.labels||a.shapes||[]).forEach(i=>{i.controlPoints=t[s]})}init(){let a=this.options;if(a.shapes){delete a.labelOptions;let t=a.shapes[0].type;a.shapes[0].className=(a.shapes[0].className||"")+" highcharts-basic-shape",t&&t!=="path"?this.basicType=t:this.basicType="rectangle"}else delete a.shapes,this.basicType="label";super.init.apply(this,arguments)}}return f.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(r){if(!r.graphic.placed)return{x:0,y:-9e7};let a=w.pointToPixels(r.points[0]);return{x:a.x-(this.graphic.width||0)/2,y:a.y-(this.graphic.height||0)/2}},events:{drag:function(r,a){let t=this.mouseMoveToTranslation(r);a.translatePoint(t.x,t.y),a.annotation.userOptions.labels[0].point=a.options.point,a.redraw(!1)}}},{symbol:"square",positioner:function(r){return r.graphic.placed?{x:r.graphic.alignAttr.x-(this.graphic.width||0)/2,y:r.graphic.alignAttr.y-(this.graphic.height||0)/2}:{x:0,y:-9e7}},events:{drag:function(r,a){let t=this.mouseMoveToTranslation(r);a.translate(t.x,t.y),a.annotation.userOptions.labels[0].point=a.options.point,a.redraw(!1)}}}],rectangle:[{positioner:function(r){let a=w.pointToPixels(r.points[2]);return{x:a.x-4,y:a.y-4}},events:{drag:function(r,a){var g,l,x;let t=a.annotation,s=(g=this.chart.pointer)==null?void 0:g.getCoordinates(r),i=a.options.points,e=t.userOptions.shapes,n=((l=t.clipXAxis)==null?void 0:l.index)||0,o=((x=t.clipYAxis)==null?void 0:x.index)||0;if(s){let b=s.xAxis[n].value,p=s.yAxis[o].value;i[1].x=b,i[2].x=b,i[2].y=p,i[3].y=p,e&&e[0]&&(e[0].points=a.options.points)}t.redraw(!1)}}}],circle:[{positioner:function(r){let a=w.pointToPixels(r.points[0]),t=r.options.r;return{x:a.x+t*Math.cos(Math.PI/4)-(this.graphic.width||0)/2,y:a.y+t*Math.sin(Math.PI/4)-(this.graphic.height||0)/2}},events:{drag:function(r,a){let t=a.annotation,s=this.mouseMoveToTranslation(r),i=t.userOptions.shapes;a.setRadius(Math.max(a.options.r+s.y/Math.sin(Math.PI/4),5)),i&&i[0]&&(i[0].r=a.options.r,i[0].point=a.options.point),a.redraw(!1)}}}],ellipse:[{positioner:function(r){let a=r.getAbsolutePosition(r.points[0]);return{x:a.x-(this.graphic.width||0)/2,y:a.y-(this.graphic.height||0)/2}},events:{drag:function(r,a){let t=a.getAbsolutePosition(a.points[0]);a.translatePoint(r.chartX-t.x,r.chartY-t.y,0),a.redraw(!1)}}},{positioner:function(r){let a=r.getAbsolutePosition(r.points[1]);return{x:a.x-(this.graphic.width||0)/2,y:a.y-(this.graphic.height||0)/2}},events:{drag:function(r,a){let t=a.getAbsolutePosition(a.points[1]);a.translatePoint(r.chartX-t.x,r.chartY-t.y,1),a.redraw(!1)}}},{positioner:function(r){let a=r.getAbsolutePosition(r.points[0]),t=r.getAbsolutePosition(r.points[1]),s=r.getAttrs(a,t);return{x:s.cx-(this.graphic.width||0)/2+s.ry*Math.sin(s.angle*Math.PI/180),y:s.cy-(this.graphic.height||0)/2-s.ry*Math.cos(s.angle*Math.PI/180)}},events:{drag:function(r,a){let t=a.getAbsolutePosition(a.points[0]),s=a.getAbsolutePosition(a.points[1]),i=a.getDistanceFromLine(t,s,r.chartX,r.chartY),e=a.getYAxis(),n=Math.abs(e.toValue(0)-e.toValue(i));a.setYRadius(n),a.redraw(!1)}}}]},f.prototype.defaultOptions=j(O.prototype.defaultOptions,{}),O.types.basicAnnotation=f,f}),W(h,"Extensions/Annotations/Types/CrookedLine.js",[h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/ControlPoint.js"],h["Extensions/Annotations/MockPoint.js"],h["Core/Utilities.js"]],function(O,w,E,j){let{merge:f}=j;class r extends O{setClipAxes(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]}getPointsOptions(){let t=this.options.typeOptions;return(t.points||[]).map(s=>(s.xAxis=t.xAxis,s.yAxis=t.yAxis,s))}getControlPointsOptions(){return this.getPointsOptions()}addControlPoints(){this.getControlPointsOptions().forEach(function(t,s){let i=new w(this.chart,this,f(this.options.controlPointOptions,t.controlPoint),s);this.controlPoints.push(i),t.controlPoint=i.options},this)}addShapes(){let t=this.options.typeOptions,s=this.initShape(f(t.line,{type:"path",className:"highcharts-crooked-lines",points:this.points.map((i,e)=>function(n){return n.annotation.points[e]})}),0);t.line=s.options}}return r.prototype.defaultOptions=f(O.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(a){let t=this.graphic,s=E.pointToPixels(a.points[this.index]);return{x:s.x-(t.width||0)/2,y:s.y-(t.height||0)/2}},events:{drag:function(a,t){if(t.chart.isInsidePlot(a.chartX-t.chart.plotLeft,a.chartY-t.chart.plotTop,{visiblePlotOnly:!0})){let s=this.mouseMoveToTranslation(a),i=t.options.typeOptions;t.translatePoint(s.x,s.y,this.index),i.points[this.index].x=t.points[this.index].x,i.points[this.index].y=t.points[this.index].y,t.redraw(!1)}}}}}),O.types.crookedLine=r,r}),W(h,"Extensions/Annotations/Types/ElliottWave.js",[h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/Types/CrookedLine.js"],h["Core/Utilities.js"]],function(O,w,E){let{merge:j}=E;class f extends w{addLabels(){this.getPointsOptions().forEach((a,t)=>{let s=this.options.typeOptions,i=this.initLabel(j(a.label,{text:s.labels[t],point:function(e){return e.annotation.points[t]}}),!1);a.label=i.options})}}return f.prototype.defaultOptions=j(w.prototype.defaultOptions,{typeOptions:{labels:["(0)","(A)","(B)","(C)","(D)","(E)"],line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),O.types.elliottWave=f,f}),W(h,"Extensions/Annotations/Types/Tunnel.js",[h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/ControlPoint.js"],h["Extensions/Annotations/Types/CrookedLine.js"],h["Extensions/Annotations/MockPoint.js"],h["Core/Utilities.js"]],function(O,w,E,j,f){let{merge:r}=f;class a extends E{getPointsOptions(){let s=E.prototype.getPointsOptions.call(this),i=this.options.typeOptions.yAxis||0,e=this.chart.yAxis[i];if(s[2]=this.heightPointOptions(s[1]),s[3]=this.heightPointOptions(s[0]),e&&e.logarithmic){let n=e.toPixels(s[2].y)-e.toPixels(s[1].y),o=e.toPixels(s[0].y)+n;s[3].y=e.toValue(o)}return s}getControlPointsOptions(){return this.getPointsOptions().slice(0,2)}heightPointOptions(s){let i=r(s),e=this.options.typeOptions;return i.y+=e.height,i}addControlPoints(){E.prototype.addControlPoints.call(this);let s=this.options,i=s.typeOptions,e=new w(this.chart,this,r(s.controlPointOptions,i.heightControlPoint),2);this.controlPoints.push(e),i.heightControlPoint=e.options}addShapes(){this.addLine(),this.addBackground()}addLine(){let s=this.initShape(r(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(i){let e=j.pointToOptions(i.annotation.points[2]);return e.command="M",e},this.points[3]],className:"highcharts-tunnel-lines"}),0);this.options.typeOptions.line=s.options}addBackground(){let s=this.initShape(r(this.options.typeOptions.background,{type:"path",points:this.points.slice(),className:"highcharts-tunnel-background"}),1);this.options.typeOptions.background=s.options}translateSide(s,i,e){let n=Number(e);this.translatePoint(s,i,n),this.translatePoint(s,i,n===0?3:2)}translateHeight(s){this.translatePoint(0,s,2),this.translatePoint(0,s,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y,this.userOptions.typeOptions.height=this.options.typeOptions.height}}return a.prototype.defaultOptions=r(E.prototype.defaultOptions,{typeOptions:{background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(t){let s=j.pointToPixels(t.points[2]),i=j.pointToPixels(t.points[3]),e=(s.x+i.x)/2;return{x:e-(this.graphic.width||0)/2,y:(i.y-s.y)/(i.x-s.x)*(e-s.x)+s.y-(this.graphic.height||0)/2}},events:{drag:function(t,s){s.chart.isInsidePlot(t.chartX-s.chart.plotLeft,t.chartY-s.chart.plotTop,{visiblePlotOnly:!0})&&(s.translateHeight(this.mouseMoveToTranslation(t).y),s.redraw(!1))}}}},controlPointOptions:{events:{drag:function(t,s){if(s.chart.isInsidePlot(t.chartX-s.chart.plotLeft,t.chartY-s.chart.plotTop,{visiblePlotOnly:!0})){let i=this.mouseMoveToTranslation(t);s.translateSide(i.x,i.y,!!this.index),s.redraw(!1)}}}}}),O.types.tunnel=a,a}),W(h,"Extensions/Annotations/Types/InfinityLine.js",[h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/Types/CrookedLine.js"],h["Extensions/Annotations/MockPoint.js"],h["Core/Utilities.js"]],function(O,w,E,j){let{merge:f}=j;class r extends w{static edgePoint(t,s){return function(i){let e=i.annotation,n=e.options.typeOptions.type,o=e.points;return(n==="horizontalLine"||n==="verticalLine")&&(o=[o[0],new E(e.chart,o[0].target,{x:o[0].x+ +(n==="horizontalLine"),y:o[0].y+ +(n==="verticalLine"),xAxis:o[0].options.xAxis,yAxis:o[0].options.yAxis})]),r.findEdgePoint(o[t],o[s])}}static findEdgeCoordinate(t,s,i,e){let n=i==="x"?"y":"x";return(s[i]-t[i])*(e-t[n])/(s[n]-t[n])+t[i]}static findEdgePoint(t,s){let i,e,n,o=t.series.chart,g=t.series.xAxis,l=s.series.yAxis,x=E.pointToPixels(t),b=E.pointToPixels(s),p=b.x-x.x,y=b.y-x.y,d=g.left,u=d+g.width,c=l.top,v=c+l.height,P=p<0?d:u,M=y<0?c:v,A={x:p===0?x.x:P,y:y===0?x.y:M};return p!==0&&y!==0&&(e=r.findEdgeCoordinate(x,b,"y",P),i=r.findEdgeCoordinate(x,b,"x",M),e>=c&&e<=v?(A.x=P,A.y=e):(A.x=i,A.y=M)),A.x-=o.plotLeft,A.y-=o.plotTop,t.series.chart.inverted&&(n=A.x,A.x=A.y,A.y=n),A}addShapes(){let t=this.options.typeOptions,s=[this.points[0],r.endEdgePoint];t.type.match(/line/gi)&&(s[0]=r.startEdgePoint);let i=this.initShape(f(t.line,{type:"path",points:s,className:"highcharts-infinity-lines"}),0);t.line=i.options}}return r.endEdgePoint=r.edgePoint(0,1),r.startEdgePoint=r.edgePoint(1,0),r.prototype.defaultOptions=f(w.prototype.defaultOptions,{}),O.types.infinityLine=r,r}),W(h,"Extensions/Annotations/Types/TimeCycles.js",[h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/Types/CrookedLine.js"],h["Extensions/Annotations/ControlPoint.js"],h["Core/Utilities.js"]],function(O,w,E,j){let{merge:f,isNumber:r,defined:a}=j;class t extends w{init(i,e,n){a(e.yAxis)&&e.points.forEach(o=>{o.yAxis=e.yAxis}),a(e.xAxis)&&e.points.forEach(o=>{o.xAxis=e.xAxis}),super.init(i,e,n)}setPath(){this.shapes[0].options.d=this.getPath()}getPath(){return[["M",this.startX,this.y]].concat(function(i,e,n,o){let g=[];for(let l=1;l<=e;l++)g.push(["A",i/2,i/2,0,1,1,n+l*i,o]);return g}(this.pixelInterval,this.numberOfCircles,this.startX,this.y))}addShapes(){let i=this.options.typeOptions;this.setPathProperties();let e=this.initShape(f(i.line,{type:"path",d:this.getPath(),points:this.options.points,className:"highcharts-timecycles-lines"}),0);i.line=e.options}addControlPoints(){let i=this.options,e=i.typeOptions;i.controlPointOptions.style.cursor=this.chart.inverted?"ns-resize":"ew-resize",e.controlPointOptions.forEach(n=>{let o=f(i.controlPointOptions,n),g=new E(this.chart,this,o,0);this.controlPoints.push(g)})}setPathProperties(){let i=this.options.typeOptions,e=i.points;if(!e)return;let n=e[0],o=e[1],g=i.xAxis||0,l=i.yAxis||0,x=this.chart.xAxis[g],b=this.chart.yAxis[l],p=n.x,y=n.y,d=o.x;if(!p||!d)return;let u=r(y)?b.toPixels(y):b.top+b.height,c=r(p)?x.toPixels(p):x.left,v=r(d)?x.toPixels(d):x.left+30,P=x.len,M=Math.round(Math.max(Math.abs(v-c),2)),A=Math.floor(P/M)+2,T=(Math.floor((c-x.left)/M)+1)*M;this.startX=c-T,this.y=u,this.pixelInterval=M,this.numberOfCircles=A}redraw(i){this.setPathProperties(),this.setPath(),super.redraw(i)}}return t.prototype.defaultOptions=f(w.prototype.defaultOptions,{typeOptions:{controlPointOptions:[{positioner:function(s){let i=s.points[0];return{x:s.anchor(i).absolutePosition.x-(this.graphic.width||0)/2,y:s.y-(this.graphic.height||0)}},events:{drag:function(s,i){let e=i.anchor(i.points[0]).absolutePosition;i.translatePoint(s.chartX-e.x,0,0),i.redraw(!1)}}},{positioner:function(s){let i=s.points[1];return{x:s.anchor(i).absolutePosition.x-(this.graphic.width||0)/2,y:s.y-(this.graphic.height||0)}},events:{drag:function(s,i){let e=i.anchor(i.points[1]).absolutePosition;i.translatePoint(s.chartX-e.x,0,1),i.redraw(!1)}}}]}}),O.types.timeCycles=t,t}),W(h,"Extensions/Annotations/Types/Fibonacci.js",[h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/MockPoint.js"],h["Extensions/Annotations/Types/Tunnel.js"],h["Core/Utilities.js"]],function(O,w,E,j){let{merge:f}=j;function r(t,s){return function(){let i=this.annotation;if(!i.startRetracements||!i.endRetracements)return[];let e=this.anchor(i.startRetracements[t]).absolutePosition,n=this.anchor(i.endRetracements[t]).absolutePosition,o=[["M",Math.round(e.x),Math.round(e.y)],["L",Math.round(n.x),Math.round(n.y)]];if(s){let g=this.anchor(i.endRetracements[t-1]).absolutePosition,l=this.anchor(i.startRetracements[t-1]).absolutePosition;o.push(["L",Math.round(g.x),Math.round(g.y)],["L",Math.round(l.x),Math.round(l.y)])}return o}}class a extends E{linkPoints(){super.linkPoints(),this.linkRetracementsPoints()}linkRetracementsPoints(){let s=this.points,i=s[0].y-s[3].y,e=s[1].y-s[2].y,n=s[0].x,o=s[1].x;a.levels.forEach((g,l)=>{let x=s[0].y-i*g,b=s[1].y-e*g,p=this.options.typeOptions.reversed?a.levels.length-l-1:l;this.startRetracements=this.startRetracements||[],this.endRetracements=this.endRetracements||[],this.linkRetracementPoint(p,n,x,this.startRetracements),this.linkRetracementPoint(p,o,b,this.endRetracements)})}linkRetracementPoint(s,i,e,n){let o=n[s],g=this.options.typeOptions;o?(o.options.x=i,o.options.y=e,o.refresh()):n[s]=new w(this.chart,this,{x:i,y:e,xAxis:g.xAxis,yAxis:g.yAxis})}addShapes(){a.levels.forEach(function(s,i){let{backgroundColors:e,lineColor:n,lineColors:o}=this.options.typeOptions;this.initShape({type:"path",d:r(i),stroke:o[i]||n,className:"highcharts-fibonacci-line"},i),i>0&&this.initShape({type:"path",fill:e[i-1],strokeWidth:0,d:r(i,!0),className:"highcharts-fibonacci-background-"+(i-1)})},this)}addLabels(){a.levels.forEach(function(s,i){let e=this.options.typeOptions,n=this.initLabel(f(e.labels[i],{point:function(o){return w.pointToOptions(o.annotation.startRetracements[i])},text:s.toString()}));e.labels[i]=n.options},this)}}return a.levels=[0,.236,.382,.5,.618,.786,1],a.prototype.defaultOptions=f(E.prototype.defaultOptions,{typeOptions:{reversed:!1,height:2,backgroundColors:["rgba(130, 170, 255, 0.4)","rgba(139, 191, 216, 0.4)","rgba(150, 216, 192, 0.4)","rgba(156, 229, 161, 0.4)","rgba(162, 241, 130, 0.4)","rgba(169, 255, 101, 0.4)"],lineColor:"#999999",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),O.types.fibonacci=a,a}),W(h,"Extensions/Annotations/Types/FibonacciTimeZones.js",[h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/ControlPoint.js"],h["Extensions/Annotations/Types/CrookedLine.js"],h["Extensions/Annotations/Types/InfinityLine.js"],h["Extensions/Annotations/MockPoint.js"],h["Core/Utilities.js"]],function(O,w,E,j,f,r){let{merge:a}=r;function t(i,e,n){return function(o){let g=o.annotation.chart,l=g.inverted?g.plotTop:g.plotLeft,x=o.annotation.points,b=x[0].series.xAxis,p=x.length>1?x[1].plotX-x[0].plotX:0,y=b.toValue(x[0].plotX+l+n*p);return x=[new f(g,x[0].target,{x:y,y:0,xAxis:x[0].options.xAxis,yAxis:x[0].options.yAxis}),new f(g,x[0].target,{x:y,y:1,xAxis:x[0].options.xAxis,yAxis:x[0].options.yAxis})],j.findEdgePoint(x[i],x[e])}}class s extends E{addShapes(){let e=1,n=1;for(let o=0;o<11;o++){let g=o?e:0,l=[t(1,0,g),t(0,1,g)];e=(n=e+n)-e,o===1&&(this.secondLineEdgePoints=[l[0],l[1]]),this.initShape(a(this.options.typeOptions.line,{type:"path",points:l,className:"highcharts-fibonacci-timezones-lines"}),o)}}addControlPoints(){let e=this.options,n=e.typeOptions,o=new w(this.chart,this,a(e.controlPointOptions,n.controlPointOptions),0);this.controlPoints.push(o),n.controlPointOptions=o.options}}return s.prototype.defaultOptions=a(E.prototype.defaultOptions,{typeOptions:{line:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:void 0},controlPointOptions:{positioner:function(){let i=this.target,e=this.graphic,n=i.secondLineEdgePoints,o={annotation:i},g=n[0](o).y,l=n[1](o).y,x=this.chart.plotLeft,b=this.chart.plotTop,p=n[0](o).x,y=(g+l)/2;return this.chart.inverted&&([p,y]=[y,p]),{x:x+p-(e.width||0)/2,y:b+y-(e.height||0)/2}},events:{drag:function(i,e){if(e.chart.isInsidePlot(i.chartX-e.chart.plotLeft,i.chartY-e.chart.plotTop,{visiblePlotOnly:!0})){let n=this.mouseMoveToTranslation(i);e.translatePoint(n.x,0,1),e.redraw(!1)}}}}}}),O.types.fibonacciTimeZones=s,s}),W(h,"Extensions/Annotations/Types/Pitchfork.js",[h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/Types/InfinityLine.js"],h["Extensions/Annotations/MockPoint.js"],h["Core/Utilities.js"]],function(O,w,E,j){let{merge:f}=j;class r extends w{static outerLineEdgePoint(t){return function(s){let i=s.annotation,e=i.points;return r.findEdgePoint(e[t],e[0],new E(i.chart,s,i.midPointOptions()))}}static findEdgePoint(t,s,i){let e=Math.atan2(i.plotY-s.plotY,i.plotX-s.plotX);return{x:t.plotX+1e7*Math.cos(e),y:t.plotY+1e7*Math.sin(e)}}static middleLineEdgePoint(t){let s=t.annotation,i=s.points;return w.findEdgePoint(i[0],new E(s.chart,t,s.midPointOptions()))}midPointOptions(){let t=this.points;return{x:(t[1].x+t[2].x)/2,y:(t[1].y+t[2].y)/2,xAxis:t[0].series.xAxis,yAxis:t[0].series.yAxis}}addShapes(){this.addLines(),this.addBackgrounds()}addLines(){let t="highcharts-pitchfork-lines";this.initShape({type:"path",points:[this.points[0],r.middleLineEdgePoint],className:t},0),this.initShape({type:"path",points:[this.points[1],r.topLineEdgePoint],className:t},1),this.initShape({type:"path",points:[this.points[2],r.bottomLineEdgePoint],className:t},2)}addBackgrounds(){let t=this.shapes,s=this.options.typeOptions,i=this.initShape(f(s.innerBackground,{type:"path",points:[function(n){let o=n.annotation,g=o.points,l=o.midPointOptions();return{x:(g[1].x+l.x)/2,y:(g[1].y+l.y)/2,xAxis:l.xAxis,yAxis:l.yAxis}},t[1].points[1],t[2].points[1],function(n){let o=n.annotation,g=o.points,l=o.midPointOptions();return{x:(l.x+g[2].x)/2,y:(l.y+g[2].y)/2,xAxis:l.xAxis,yAxis:l.yAxis}}],className:"highcharts-pitchfork-inner-background"}),3),e=this.initShape(f(s.outerBackground,{type:"path",points:[this.points[1],t[1].points[1],t[2].points[1],this.points[2]],className:"highcharts-pitchfork-outer-background"}),4);s.innerBackground=i.options,s.outerBackground=e.options}}return r.topLineEdgePoint=r.outerLineEdgePoint(1),r.bottomLineEdgePoint=r.outerLineEdgePoint(0),r.prototype.defaultOptions=f(w.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),O.types.pitchfork=r,r}),W(h,"Extensions/Annotations/Types/VerticalLine.js",[h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/MockPoint.js"],h["Core/Utilities.js"]],function(O,w,E){let{merge:j,pick:f}=E;class r extends O{static connectorFirstPoint(t){let s=t.annotation,i=s.chart,e=i.inverted,n=s.points[0],o=f(n.series.yAxis&&n.series.yAxis.left,0),g=f(n.series.yAxis&&n.series.yAxis.top,0),l=s.options.typeOptions.label.offset,x=w.pointToPixels(n,!0)[e?"x":"y"];return{x:n.x,xAxis:n.series.xAxis,y:x+l+(e?o-i.plotLeft:g-i.plotTop)}}static connectorSecondPoint(t){let s=t.annotation,i=s.chart,e=i.inverted,n=s.options.typeOptions,o=s.points[0],g=f(o.series.yAxis&&o.series.yAxis.left,0),l=f(o.series.yAxis&&o.series.yAxis.top,0),x=w.pointToPixels(o,!0)[e?"x":"y"],b=n.yOffset;return n.label.offset<0&&(b*=-1),{x:o.x,xAxis:o.series.xAxis,y:x+b+(e?g-i.plotLeft:l-i.plotTop)}}getPointsOptions(){return[this.options.typeOptions.point]}addShapes(){let t=this.options.typeOptions,s=this.initShape(j(t.connector,{type:"path",points:[r.connectorFirstPoint,r.connectorSecondPoint],className:"highcharts-vertical-line"}),0);t.connector=s.options,this.userOptions.typeOptions.point=t.point}addLabels(){let t=this.options.typeOptions,s=t.label,i=0,e=s.offset,n=s.offset<0?"bottom":"top",o="center";this.chart.inverted&&(i=s.offset,e=0,n="middle",o=s.offset<0?"right":"left");let g=this.initLabel(j(s,{verticalAlign:n,align:o,x:i,y:e}));t.label=g.options}}return r.prototype.defaultOptions=j(O.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(a){return a.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),O.types.verticalLine=r,r}),W(h,"Extensions/Annotations/Types/Measure.js",[h["Extensions/Annotations/Annotation.js"],h["Extensions/Annotations/ControlPoint.js"],h["Core/Utilities.js"]],function(O,w,E){let{defined:j,extend:f,isNumber:r,merge:a,pick:t}=E;function s(){let d="";return this.max!==""&&this.min!==""&&(d=(this.max+this.min)/2),d}function i(){let d=this.chart.series,u=n(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),c=0,v=!1;return d.forEach(P=>{P.visible&&P.options.id!=="highcharts-navigator-series"&&P.points.forEach(M=>{!M.isNull&&M.x>u.xAxisMin&&M.x<=u.xAxisMax&&M.y>u.yAxisMin&&M.y<=u.yAxisMax&&(c++,v=!0)})}),v||(c=""),c}function e(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins}function n(d,u,c,v){return{xAxisMin:Math.min(u,d),xAxisMax:Math.max(u,d),yAxisMin:Math.min(v,c),yAxisMax:Math.max(v,c)}}function o(d,u,c){return d.toValue(d.toPixels(u)+c)}function g(){let d=this.options.typeOptions,u=this.chart,c=u.inverted,v=u.xAxis[d.xAxis],P=u.yAxis[d.yAxis],M=d.background,A=c?M.height:M.width,T=c?M.width:M.height,m=d.selectType,C=c?v.left:P.top,k=c?P.top:v.left;this.startXMin=d.point.x,this.startYMin=d.point.y,r(A)?this.startXMax=this.startXMin+A:this.startXMax=o(v,this.startXMin,parseFloat(A)),r(T)?this.startYMax=this.startYMin-T:this.startYMax=o(P,this.startYMin,parseFloat(T)),m==="x"?(this.startYMin=P.toValue(C),this.startYMax=P.toValue(C+P.len)):m==="y"&&(this.startXMin=v.toValue(k),this.startXMax=v.toValue(k+v.len))}function l(){let d=this.chart.series,u=n(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),c=-1/0,v=!1;return d.forEach(P=>{P.visible&&P.options.id!=="highcharts-navigator-series"&&P.points.forEach(M=>{!M.isNull&&M.y>c&&M.x>u.xAxisMin&&M.x<=u.xAxisMax&&M.y>u.yAxisMin&&M.y<=u.yAxisMax&&(c=M.y,v=!0)})}),v||(c=""),c}function x(){let d=this.chart.series,u=n(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),c=1/0,v=!1;return d.forEach(P=>{P.visible&&P.options.id!=="highcharts-navigator-series"&&P.points.forEach(M=>{!M.isNull&&M.y<c&&M.x>u.xAxisMin&&M.x<=u.xAxisMax&&M.y>u.yAxisMin&&M.y<=u.yAxisMax&&(c=M.y,v=!0)})}),v||(c=""),c}function b(d){let u=this.options.typeOptions,c=this.chart.xAxis[u.xAxis],v=this.chart.yAxis[u.yAxis],P=this.offsetX,M=this.offsetY;this.xAxisMin=o(c,this.startXMin,P),this.xAxisMax=o(c,this.startXMax,P),this.yAxisMin=o(v,this.startYMin,M),this.yAxisMax=o(v,this.startYMax,M),this.min=x.call(this),this.max=l.call(this),this.average=s.call(this),this.bins=i.call(this),d&&this.resize(0,0)}function p(d,u,c,v,P){let M=this.options.typeOptions,A=M.selectType,T=this.chart.xAxis[M.xAxis],m=this.chart.yAxis[M.yAxis],C=this.startXMin,k=this.startXMax,B=this.startYMin,S=this.startYMax,Y=this.offsetX,X=this.offsetY;u&&(A==="x"?c===0?this.startXMin=o(T,C,v):this.startXMax=o(T,k,v):A==="y"?c===0?this.startYMin=o(m,B,P):this.startYMax=o(m,S,P):(this.startXMax=o(T,k,v),this.startYMax=o(m,S,P))),d&&(this.startXMin=o(T,C,Y),this.startXMax=o(T,k,Y),this.startYMin=o(m,B,X),this.startYMax=o(m,S,X),this.offsetX=0,this.offsetY=0),this.options.typeOptions.point={x:this.startXMin,y:this.startYMin},this.userOptions.typeOptions.point={x:this.startXMin,y:this.startYMin}}class y extends O{init(u,c,v){super.init(u,c,v),this.offsetX=0,this.offsetY=0,this.resizeX=0,this.resizeY=0,g.call(this),this.addValues(),this.addShapes()}setClipAxes(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]}pointsOptions(){return this.options.points}shapePointsOptions(){let u=this.options.typeOptions,c=u.xAxis,v=u.yAxis;return[{x:this.xAxisMin,y:this.yAxisMin,xAxis:c,yAxis:v},{x:this.xAxisMax,y:this.yAxisMin,xAxis:c,yAxis:v},{x:this.xAxisMax,y:this.yAxisMax,xAxis:c,yAxis:v},{x:this.xAxisMin,y:this.yAxisMax,xAxis:c,yAxis:v}]}addControlPoints(){let u=this.chart.inverted,c=this.options.controlPointOptions,v=this.options.typeOptions.selectType;j(this.userOptions.controlPointOptions&&this.userOptions.controlPointOptions.style.cursor)||(v==="x"?c.style.cursor=u?"ns-resize":"ew-resize":v!=="y"||(c.style.cursor=u?"ew-resize":"ns-resize"));let P=new w(this.chart,this,this.options.controlPointOptions,0);this.controlPoints.push(P),v!=="xy"&&(P=new w(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(P))}addValues(u){let c=this.options.typeOptions,v=c.label.formatter;b.call(this,u),c.label.enabled&&(this.labels.length>0?this.labels[0].text=v&&v.call(this)||e.call(this):this.initLabel(f({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"Dash",overflow:"allow",align:"left",y:0,x:0,verticalAlign:"top",crop:!0,xAxis:0,yAxis:0,point:function(P){let M=P.annotation,A=P.options;return{x:M.xAxisMin,y:M.yAxisMin,xAxis:t(c.xAxis,A.xAxis),yAxis:t(c.yAxis,A.yAxis)}},text:v&&v.call(this)||e.call(this)},c.label),void 0))}addShapes(){this.addCrosshairs(),this.addBackground()}addBackground(){this.shapePointsOptions()[0].x!==void 0&&this.initShape(f({type:"path",points:this.shapePointsOptions(),className:"highcharts-measure-background"},this.options.typeOptions.background),2)}addCrosshairs(){let u=this.chart,c=this.options.typeOptions,v=this.options.typeOptions.point,P=u.xAxis[c.xAxis],M=u.yAxis[c.yAxis],A=u.inverted,T={point:v,type:"path"},m=P.toPixels(this.xAxisMin),C=P.toPixels(this.xAxisMax),k=M.toPixels(this.yAxisMin),B=M.toPixels(this.yAxisMax),S=[],Y=[],X,R,N;A&&(N=m,m=k,k=N,N=C,C=B,B=N),c.crosshairX.enabled&&(S=[["M",m,k+(B-k)/2],["L",C,k+(B-k)/2]]),c.crosshairY.enabled&&(Y=[["M",m+(C-m)/2,k],["L",m+(C-m)/2,B]]),this.shapes.length>0?(this.shapes[0].options.d=S,this.shapes[1].options.d=Y):(X=a(T,{className:"highcharts-measure-crosshair-x"},c.crosshairX),R=a(T,{className:"highcharts-measure-crosshair-y"},c.crosshairY),this.initShape(f({d:S},X),0),this.initShape(f({d:Y},R),1))}onDrag(u){let c=this.mouseMoveToTranslation(u),v=this.options.typeOptions.selectType,P=v==="y"?0:c.x,M=v==="x"?0:c.y;this.translate(P,M),this.offsetX+=P,this.offsetY+=M,this.redraw(!1,!1,!0)}resize(u,c,v,P){let M=this.shapes[2];P==="x"?v===0?(M.translatePoint(u,0,0),M.translatePoint(u,c,3)):(M.translatePoint(u,0,1),M.translatePoint(u,c,2)):P==="y"?v===0?(M.translatePoint(0,c,0),M.translatePoint(0,c,1)):(M.translatePoint(0,c,2),M.translatePoint(0,c,3)):(M.translatePoint(u,0,1),M.translatePoint(u,c,2),M.translatePoint(0,c,3)),p.call(this,!1,!0,v,u,c),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)}redraw(u,c,v){this.linkPoints(),this.graphic||this.render(),v&&p.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(c),this.addCrosshairs(),this.redrawItems(this.shapes,u),this.redrawItems(this.labels,u),this.controlPoints.forEach(P=>P.redraw())}translate(u,c){this.shapes.forEach(v=>v.translate(u,c))}}return y.prototype.defaultOptions=a(O.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"0.7em",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(d){let u=this.index,c=d.chart,v=d.options,P=v.typeOptions,M=P.selectType,A=v.controlPointOptions,T=c.inverted,m=c.xAxis[P.xAxis],C=c.yAxis[P.yAxis],k=n(d.xAxisMin,d.xAxisMax,d.yAxisMin,d.yAxisMax),B=d.xAxisMax,S=d.yAxisMax,Y,X;return M==="x"&&(S=(k.yAxisMax+k.yAxisMin)/2,u===0&&(B=d.xAxisMin)),M==="y"&&(B=k.xAxisMin+(k.xAxisMax-k.xAxisMin)/2,u===0&&(S=d.yAxisMin)),T?(Y=C.toPixels(S),X=m.toPixels(B)):(Y=m.toPixels(B),X=C.toPixels(S)),{x:Y-A.width/2,y:X-A.height/2}},events:{drag:function(d,u){let c=this.mouseMoveToTranslation(d),v=u.options.typeOptions.selectType,P=this.index,M=v==="y"?0:c.x,A=v==="x"?0:c.y;u.resize(M,A,P,v),u.resizeX+=M,u.resizeY+=A,u.redraw(!1,!0)}}}}),O.types.measure=y,y}),W(h,"masters/modules/annotations-advanced.src.js",[h["Core/Globals.js"]],function(O){return O})})})(it);var st=it.exports;const rt=ot(st),ht=at({__proto__:null,default:rt},[st]);export{ht as a};
